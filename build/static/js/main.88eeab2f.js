/*! For license information please see main.88eeab2f.js.LICENSE.txt */
(()=>{"use strict";var e={43:(e,t,n)=>{e.exports=n(202)},153:(e,t,n)=>{var r=n(43),s=Symbol.for("react.element"),i=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,i={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)a.call(t,r)&&!l.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===i[r]&&(i[r]=t[r]);return{$$typeof:s,type:e,key:c,ref:u,props:i,_owner:o.current}}t.Fragment=i,t.jsx=c,t.jsxs=c},202:(e,t)=>{var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function v(){}function x(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var b=x.prototype=new v;b.constructor=x,m(b,y.prototype),b.isPureReactComponent=!0;var w=Array.isArray,N=Object.prototype.hasOwnProperty,k={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function _(e,t,r){var s,i={},a=null,o=null;if(null!=t)for(s in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(a=""+t.key),t)N.call(t,s)&&!E.hasOwnProperty(s)&&(i[s]=t[s]);var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(s in l=e.defaultProps)void 0===i[s]&&(i[s]=l[s]);return{$$typeof:n,type:e,key:a,ref:o,props:i,_owner:k.current}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function j(e,t,s,i,a){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return a=a(l=e),e=""===i?"."+C(l,0):i,w(a)?(s="",null!=e&&(s=e.replace(T,"$&/")+"/"),j(a,t,s,"",function(e){return e})):null!=a&&(S(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,s+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(T,"$&/")+"/")+e)),t.push(a)),1;if(l=0,i=""===i?".":i+":",w(e))for(var c=0;c<e.length;c++){var u=i+C(o=e[c],c);l+=j(o,t,s,u,a)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(o=e.next()).done;)l+=j(o=o.value,t,s,u=i+C(o,c++),a);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function I(e,t,n){if(null==e)return e;var r=[],s=0;return j(e,r,"","",function(e){return t.call(n,e,s++)}),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var A={current:null},R={transition:null},D={ReactCurrentDispatcher:A,ReactCurrentBatchConfig:R,ReactCurrentOwner:k};function O(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:I,forEach:function(e,t,n){I(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return I(e,function(){t++}),t},toArray:function(e){return I(e,function(e){return e})||[]},only:function(e){if(!S(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=s,t.Profiler=a,t.PureComponent=x,t.StrictMode=i,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.act=O,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=m({},e.props),i=e.key,a=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,o=k.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)N.call(t,c)&&!E.hasOwnProperty(c)&&(s[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)s.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];s.children=l}return{$$typeof:n,type:e.type,key:i,ref:a,props:s,_owner:o}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=_,t.createFactory=function(e){var t=_.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=O,t.useCallback=function(e,t){return A.current.useCallback(e,t)},t.useContext=function(e){return A.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return A.current.useDeferredValue(e)},t.useEffect=function(e,t){return A.current.useEffect(e,t)},t.useId=function(){return A.current.useId()},t.useImperativeHandle=function(e,t,n){return A.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return A.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return A.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return A.current.useMemo(e,t)},t.useReducer=function(e,t,n){return A.current.useReducer(e,t,n)},t.useRef=function(e){return A.current.useRef(e)},t.useState=function(e){return A.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return A.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return A.current.useTransition()},t.version="18.3.1"},234:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,s=e[r];if(!(0<i(s,t)))break e;e[r]=t,e[n]=s,n=r}}function r(e){return 0===e.length?null:e[0]}function s(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,s=e.length,a=s>>>1;r<a;){var o=2*(r+1)-1,l=e[o],c=o+1,u=e[c];if(0>i(l,n))c<s&&0>i(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[o]=n,r=o);else{if(!(c<s&&0>i(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,y="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,x="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(u);null!==t;){if(null===t.callback)s(u);else{if(!(t.startTime<=e))break;s(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function w(e){if(g=!1,b(e),!m)if(null!==r(c))m=!0,R(N);else{var t=r(u);null!==t&&D(w,t.startTime-e)}}function N(e,n){m=!1,g&&(g=!1,v(S),S=-1),p=!0;var i=f;try{for(b(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!j());){var a=h.callback;if("function"===typeof a){h.callback=null,f=h.priorityLevel;var o=a(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof o?h.callback=o:h===r(c)&&s(c),b(n)}else s(c);h=r(c)}if(null!==h)var l=!0;else{var d=r(u);null!==d&&D(w,d.startTime-n),l=!1}return l}finally{h=null,f=i,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var k,E=!1,_=null,S=-1,T=5,C=-1;function j(){return!(t.unstable_now()-C<T)}function I(){if(null!==_){var e=t.unstable_now();C=e;var n=!0;try{n=_(!0,e)}finally{n?k():(E=!1,_=null)}}else E=!1}if("function"===typeof x)k=function(){x(I)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,A=P.port2;P.port1.onmessage=I,k=function(){A.postMessage(null)}}else k=function(){y(I,0)};function R(e){_=e,E||(E=!0,k())}function D(e,n){S=y(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,R(N))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,s,i){var a=t.unstable_now();switch("object"===typeof i&&null!==i?i="number"===typeof(i=i.delay)&&0<i?a+i:a:i=a,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:d++,callback:s,priorityLevel:e,startTime:i,expirationTime:o=i+o,sortIndex:-1},i>a?(e.sortIndex=i,n(u,e),null===r(c)&&e===r(u)&&(g?(v(S),S=-1):g=!0,D(w,i-a))):(e.sortIndex=o,n(c,e),m||p||(m=!0,R(N))),e},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},391:(e,t,n)=>{var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},579:(e,t,n)=>{e.exports=n(153)},730:(e,t,n)=>{var r=n(43),s=n(853);function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,o={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(o[e]=t,e=0;e<t.length;e++)a.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,s,i,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){g[e]=new m(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){g[e]=new m(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){g[e]=new m(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){g[e]=new m(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){g[e]=new m(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)});var y=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function x(e,t,n,r){var s=g.hasOwnProperty(t)?g[t]:null;(null!==s?0!==s.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,s,r)&&(n=null),r||null===s?function(e){return!!d.call(p,e)||!d.call(f,e)&&(h.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=null===n?3!==s.type&&"":n:(t=s.attributeName,r=s.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(s=s.type)||4===s&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)}),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)});var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),N=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),T=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),A=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function O(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var L,M=Object.assign;function F(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var U=!1;function V(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var s=c.stack.split("\n"),i=r.stack.split("\n"),a=s.length-1,o=i.length-1;1<=a&&0<=o&&s[a]!==i[o];)o--;for(;1<=a&&0<=o;a--,o--)if(s[a]!==i[o]){if(1!==a||1!==o)do{if(a--,0>--o||s[a]!==i[o]){var l="\n"+s[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=o);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function z(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case k:return"Fragment";case N:return"Portal";case _:return"Profiler";case E:return"StrictMode";case j:return"Suspense";case I:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case S:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case P:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case A:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function $(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function q(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function W(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function G(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Q(e,t){var n=t.checked;return M({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function J(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Y(e,t){null!=(t=t.checked)&&x(e,"checked",t,!1)}function X(e,t){Y(e,t);var n=q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&G(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+q(n),t=null,s=0;s<e.length;s++){if(e[s].value===n)return e[s].selected=!0,void(r&&(e[s].defaultSelected=!0));null!==t||e[s].disabled||(t=e[s])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(i(91));return M({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function se(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(i(92));if(te(n)){if(1<n.length)throw Error(i(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:q(n)}}function ie(e,t){var n=q(t.value),r=q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return ue(e,t)})}:ue);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),s=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}Object.keys(fe).forEach(function(e){pe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]})});var ye=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(i(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(i(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(i(62))}}function xe(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ne=null,ke=null,Ee=null;function _e(e){if(e=xs(e)){if("function"!==typeof Ne)throw Error(i(280));var t=e.stateNode;t&&(t=ws(t),Ne(e.stateNode,e.type,t))}}function Se(e){ke?Ee?Ee.push(e):Ee=[e]:ke=e}function Te(){if(ke){var e=ke,t=Ee;if(Ee=ke=null,_e(e),t)for(e=0;e<t.length;e++)_e(t[e])}}function Ce(e,t){return e(t)}function je(){}var Ie=!1;function Pe(e,t,n){if(Ie)return e(t,n);Ie=!0;try{return Ce(e,t,n)}finally{Ie=!1,(null!==ke||null!==Ee)&&(je(),Te())}}function Ae(e,t){var n=e.stateNode;if(null===n)return null;var r=ws(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(i(231,t,typeof n));return n}var Re=!1;if(u)try{var De={};Object.defineProperty(De,"passive",{get:function(){Re=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(ue){Re=!1}function Oe(e,t,n,r,s,i,a,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Le=!1,Me=null,Fe=!1,Ue=null,Ve={onError:function(e){Le=!0,Me=e}};function ze(e,t,n,r,s,i,a,o,l){Le=!1,Me=null,Oe.apply(Ve,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function $e(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function qe(e){if(Be(e)!==e)throw Error(i(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(i(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(null===s)break;var a=s.alternate;if(null===a){if(null!==(r=s.return)){n=r;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===n)return qe(s),e;if(a===r)return qe(s),t;a=a.sibling}throw Error(i(188))}if(n.return!==r.return)n=s,r=a;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=a;break}if(l===r){o=!0,r=s,n=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===n){o=!0,n=a,r=s;break}if(l===r){o=!0,r=a,n=s;break}l=l.sibling}if(!o)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(3!==n.tag)throw Error(i(188));return n.stateNode.current===n?e:t}(e))?We(e):null}function We(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=We(e);if(null!==t)return t;e=e.sibling}return null}var Ke=s.unstable_scheduleCallback,Ge=s.unstable_cancelCallback,Qe=s.unstable_shouldYield,Je=s.unstable_requestPaint,Ye=s.unstable_now,Xe=s.unstable_getCurrentPriorityLevel,Ze=s.unstable_ImmediatePriority,et=s.unstable_UserBlockingPriority,tt=s.unstable_NormalPriority,nt=s.unstable_LowPriority,rt=s.unstable_IdlePriority,st=null,it=null;var at=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ot(e)/lt|0)|0},ot=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,a=268435455&n;if(0!==a){var o=a&~s;0!==o?r=dt(o):0!==(i&=a)&&(r=dt(i))}else 0!==(a=n&~s)?r=dt(a):0!==i&&(r=dt(i));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&s)&&((s=r&-r)>=(i=t&-t)||16===s&&0!==(4194240&i)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)s=1<<(n=31-at(t)),r|=e[n],t&=~s;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function vt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var xt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,Nt,kt,Et,_t,St=!1,Tt=[],Ct=null,jt=null,It=null,Pt=new Map,At=new Map,Rt=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ot(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":jt=null;break;case"mouseover":case"mouseout":It=null;break;case"pointerover":case"pointerout":Pt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":At.delete(t.pointerId)}}function Lt(e,t,n,r,s,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},null!==t&&(null!==(t=xs(t))&&Nt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==s&&-1===t.indexOf(s)&&t.push(s),e)}function Mt(e){var t=vs(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=$e(n)))return e.blockedOn=t,void _t(e.priority,function(){kt(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=xs(n))&&Nt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Ut(e,t,n){Ft(e)&&n.delete(t)}function Vt(){St=!1,null!==Ct&&Ft(Ct)&&(Ct=null),null!==jt&&Ft(jt)&&(jt=null),null!==It&&Ft(It)&&(It=null),Pt.forEach(Ut),At.forEach(Ut)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,St||(St=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Vt)))}function Bt(e){function t(t){return zt(t,e)}if(0<Tt.length){zt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&zt(Ct,e),null!==jt&&zt(jt,e),null!==It&&zt(It,e),Pt.forEach(t),At.forEach(t),n=0;n<Rt.length;n++)(r=Rt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Rt.length&&null===(n=Rt[0]).blockedOn;)Mt(n),null===n.blockedOn&&Rt.shift()}var $t=b.ReactCurrentBatchConfig,qt=!0;function Ht(e,t,n,r){var s=xt,i=$t.transition;$t.transition=null;try{xt=1,Kt(e,t,n,r)}finally{xt=s,$t.transition=i}}function Wt(e,t,n,r){var s=xt,i=$t.transition;$t.transition=null;try{xt=4,Kt(e,t,n,r)}finally{xt=s,$t.transition=i}}function Kt(e,t,n,r){if(qt){var s=Qt(e,t,n,r);if(null===s)qr(e,t,r,Gt,n),Ot(e,r);else if(function(e,t,n,r,s){switch(t){case"focusin":return Ct=Lt(Ct,e,t,n,r,s),!0;case"dragenter":return jt=Lt(jt,e,t,n,r,s),!0;case"mouseover":return It=Lt(It,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return Pt.set(i,Lt(Pt.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,At.set(i,Lt(At.get(i)||null,e,t,n,r,s)),!0}return!1}(s,e,t,n,r))r.stopPropagation();else if(Ot(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==s;){var i=xs(s);if(null!==i&&wt(i),null===(i=Qt(e,t,n,r))&&qr(e,t,r,Gt,n),i===s)break;s=i}null!==s&&r.stopPropagation()}else qr(e,t,r,null,n)}}var Gt=null;function Qt(e,t,n,r){if(Gt=null,null!==(e=vs(e=we(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=$e(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Gt=e,null}function Jt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Yt=null,Xt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Xt,r=n.length,s="value"in Yt?Yt.value:Yt.textContent,i=s.length;for(e=0;e<r&&n[e]===s[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===s[i-t];t++);return Zt=s.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function sn(e){function t(t,n,r,s,i){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=s,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(s):s[a]);return this.isDefaultPrevented=(null!=s.defaultPrevented?s.defaultPrevented:!1===s.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return M(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,on,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=sn(cn),dn=M({},cn,{view:0,detail:0}),hn=sn(dn),fn=M({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_n,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(an=e.screenX-ln.screenX,on=e.screenY-ln.screenY):on=an=0,ln=e),an)},movementY:function(e){return"movementY"in e?e.movementY:on}}),pn=sn(fn),mn=sn(M({},fn,{dataTransfer:0})),gn=sn(M({},dn,{relatedTarget:0})),yn=sn(M({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=M({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xn=sn(vn),bn=sn(M({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function En(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=kn[e])&&!!t[e]}function _n(){return En}var Sn=M({},dn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Nn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_n,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=sn(Sn),Cn=sn(M({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),jn=sn(M({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_n})),In=sn(M({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=M({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),An=sn(Pn),Rn=[9,13,27,32],Dn=u&&"CompositionEvent"in window,On=null;u&&"documentMode"in document&&(On=document.documentMode);var Ln=u&&"TextEvent"in window&&!On,Mn=u&&(!Dn||On&&8<On&&11>=On),Fn=String.fromCharCode(32),Un=!1;function Vn(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var $n={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!$n[e.type]:"textarea"===t}function Hn(e,t,n,r){Se(r),0<(t=Wr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wn=null,Kn=null;function Gn(e){Fr(e,0)}function Qn(e){if(K(bs(e)))return e}function Jn(e,t){if("change"===e)return t}var Yn=!1;if(u){var Xn;if(u){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Xn=Zn}else Xn=!1;Yn=Xn&&(!document.documentMode||9<document.documentMode)}function tr(){Wn&&(Wn.detachEvent("onpropertychange",nr),Kn=Wn=null)}function nr(e){if("value"===e.propertyName&&Qn(Kn)){var t=[];Hn(t,Kn,e,we(e)),Pe(Gn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Kn=n,(Wn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function sr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Qn(Kn)}function ir(e,t){if("click"===e)return Qn(t)}function ar(e,t){if("input"===e||"change"===e)return Qn(t)}var or="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(or(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!d.call(t,s)||!or(e[s],t[s]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=G();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=G((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=void 0===r.end?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=ur(n,i);var a=ur(n,r);s&&a&&(1!==e.rangeCount||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,yr=null,vr=null,xr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;xr||null==gr||gr!==G(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},vr&&lr(vr,r)||(vr=r,0<(r=Wr(yr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Nr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},kr={},Er={};function _r(e){if(kr[e])return kr[e];if(!Nr[e])return e;var t,n=Nr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Er)return kr[e]=n[t];return e}u&&(Er=document.createElement("div").style,"AnimationEvent"in window||(delete Nr.animationend.animation,delete Nr.animationiteration.animation,delete Nr.animationstart.animation),"TransitionEvent"in window||delete Nr.transitionend.transition);var Sr=_r("animationend"),Tr=_r("animationiteration"),Cr=_r("animationstart"),jr=_r("transitionend"),Ir=new Map,Pr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ar(e,t){Ir.set(e,t),l(t,[e])}for(var Rr=0;Rr<Pr.length;Rr++){var Dr=Pr[Rr];Ar(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Ar(Sr,"onAnimationEnd"),Ar(Tr,"onAnimationIteration"),Ar(Cr,"onAnimationStart"),Ar("dblclick","onDoubleClick"),Ar("focusin","onFocus"),Ar("focusout","onBlur"),Ar(jr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Or="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Or));function Mr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,s,a,o,l,c){if(ze.apply(this,arguments),Le){if(!Le)throw Error(i(198));var u=Me;Le=!1,Me=null,Fe||(Fe=!0,Ue=u)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==i&&s.isPropagationStopped())break e;Mr(s,o,c),i=l}else for(a=0;a<r.length;a++){if(l=(o=r[a]).instance,c=o.currentTarget,o=o.listener,l!==i&&s.isPropagationStopped())break e;Mr(s,o,c),i=l}}}if(Fe)throw e=Ue,Fe=!1,Ue=null,e}function Ur(e,t){var n=t[ms];void 0===n&&(n=t[ms]=new Set);var r=e+"__bubble";n.has(r)||($r(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),$r(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[zr]){e[zr]=!0,a.forEach(function(t){"selectionchange"!==t&&(Lr.has(t)||Vr(t,!1,e),Vr(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,Vr("selectionchange",!1,t))}}function $r(e,t,n,r){switch(Jt(t)){case 1:var s=Ht;break;case 4:s=Wt;break;default:s=Kt}n=s.bind(null,t,n,e),s=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(s=!0),r?void 0!==s?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):void 0!==s?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function qr(e,t,n,r,s){var i=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var o=r.stateNode.containerInfo;if(o===s||8===o.nodeType&&o.parentNode===s)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===s||8===l.nodeType&&l.parentNode===s))return;a=a.return}for(;null!==o;){if(null===(a=vs(o)))return;if(5===(l=a.tag)||6===l){r=i=a;continue e}o=o.parentNode}}r=r.return}Pe(function(){var r=i,s=we(n),a=[];e:{var o=Ir.get(e);if(void 0!==o){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Tn;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=jn;break;case Sr:case Tr:case Cr:l=yn;break;case jr:l=In;break;case"scroll":l=hn;break;case"wheel":l=An;break;case"copy":case"cut":case"paste":l=xn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Cn}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==o?o+"Capture":null:o;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==h&&(null!=(m=Ae(p,h))&&u.push(Hr(p,m,f)))),d)break;p=p.return}0<u.length&&(o=new l(o,c,null,n,s),a.push({event:o,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!vs(c)&&!c[ps])&&(l||o)&&(o=s.window===s?s:(o=s.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?vs(c):null)&&(c!==(d=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=pn,m="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=Cn,m="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?o:bs(l),f=null==c?o:bs(c),(o=new u(m,p+"leave",l,n,s)).target=d,o.relatedTarget=f,m=null,vs(s)===r&&((u=new u(h,p+"enter",c,n,s)).target=f,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(h=c,p=0,f=u=l;f;f=Kr(f))p++;for(f=0,m=h;m;m=Kr(m))f++;for(;0<p-f;)u=Kr(u),p--;for(;0<f-p;)h=Kr(h),f--;for(;p--;){if(u===h||null!==h&&u===h.alternate)break e;u=Kr(u),h=Kr(h)}u=null}else u=null;null!==l&&Gr(a,o,l,u,!1),null!==c&&null!==d&&Gr(a,d,c,u,!0)}if("select"===(l=(o=r?bs(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var g=Jn;else if(qn(o))if(Yn)g=ar;else{g=sr;var y=rr}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(g=ir);switch(g&&(g=g(e,r))?Hn(a,g,n,s):(y&&y(e,o,r),"focusout"===e&&(y=o._wrapperState)&&y.controlled&&"number"===o.type&&ee(o,"number",o.value)),y=r?bs(r):window,e){case"focusin":(qn(y)||"true"===y.contentEditable)&&(gr=y,yr=r,vr=null);break;case"focusout":vr=yr=gr=null;break;case"mousedown":xr=!0;break;case"contextmenu":case"mouseup":case"dragend":xr=!1,br(a,n,s);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":br(a,n,s)}var v;if(Dn)e:{switch(e){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else Bn?Vn(e,n)&&(x="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(x="onCompositionStart");x&&(Mn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==x?"onCompositionEnd"===x&&Bn&&(v=en()):(Xt="value"in(Yt=s)?Yt.value:Yt.textContent,Bn=!0)),0<(y=Wr(r,x)).length&&(x=new bn(x,e,null,n,s),a.push({event:x,listeners:y}),v?x.data=v:null!==(v=zn(n))&&(x.data=v))),(v=Ln?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Un=!0,Fn);case"textInput":return(e=t.data)===Fn&&Un?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!Dn&&Vn(e,t)?(e=en(),Zt=Xt=Yt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Wr(r,"onBeforeInput")).length&&(s=new bn("onBeforeInput","beforeinput",null,n,s),a.push({event:s,listeners:r}),s.data=v))}Fr(a,t)})}function Hr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wr(e,t){for(var n=t+"Capture",r=[];null!==e;){var s=e,i=s.stateNode;5===s.tag&&null!==i&&(s=i,null!=(i=Ae(e,n))&&r.unshift(Hr(e,i,s)),null!=(i=Ae(e,t))&&r.push(Hr(e,i,s))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Gr(e,t,n,r,s){for(var i=t._reactName,a=[];null!==n&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(null!==l&&l===r)break;5===o.tag&&null!==c&&(o=c,s?null!=(l=Ae(n,i))&&a.unshift(Hr(n,l,o)):s||null!=(l=Ae(n,i))&&a.push(Hr(n,l,o))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Qr=/\r\n?/g,Jr=/\u0000|\uFFFD/g;function Yr(e){return("string"===typeof e?e:""+e).replace(Qr,"\n").replace(Jr,"")}function Xr(e,t,n){if(t=Yr(t),Yr(e)!==t&&n)throw Error(i(425))}function Zr(){}var es=null,ts=null;function ns(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var rs="function"===typeof setTimeout?setTimeout:void 0,ss="function"===typeof clearTimeout?clearTimeout:void 0,is="function"===typeof Promise?Promise:void 0,as="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof is?function(e){return is.resolve(null).then(e).catch(os)}:rs;function os(e){setTimeout(function(){throw e})}function ls(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&8===s.nodeType)if("/$"===(n=s.data)){if(0===r)return e.removeChild(s),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=s}while(n);Bt(t)}function cs(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function us(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var ds=Math.random().toString(36).slice(2),hs="__reactFiber$"+ds,fs="__reactProps$"+ds,ps="__reactContainer$"+ds,ms="__reactEvents$"+ds,gs="__reactListeners$"+ds,ys="__reactHandles$"+ds;function vs(e){var t=e[hs];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ps]||n[hs]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=us(e);null!==e;){if(n=e[hs])return n;e=us(e)}return t}n=(e=n).parentNode}return null}function xs(e){return!(e=e[hs]||e[ps])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bs(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(i(33))}function ws(e){return e[fs]||null}var Ns=[],ks=-1;function Es(e){return{current:e}}function _s(e){0>ks||(e.current=Ns[ks],Ns[ks]=null,ks--)}function Ss(e,t){ks++,Ns[ks]=e.current,e.current=t}var Ts={},Cs=Es(Ts),js=Es(!1),Is=Ts;function Ps(e,t){var n=e.type.contextTypes;if(!n)return Ts;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s,i={};for(s in n)i[s]=t[s];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function As(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Rs(){_s(js),_s(Cs)}function Ds(e,t,n){if(Cs.current!==Ts)throw Error(i(168));Ss(Cs,t),Ss(js,n)}function Os(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var s in r=r.getChildContext())if(!(s in t))throw Error(i(108,$(e)||"Unknown",s));return M({},n,r)}function Ls(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ts,Is=Cs.current,Ss(Cs,e),Ss(js,js.current),!0}function Ms(e,t,n){var r=e.stateNode;if(!r)throw Error(i(169));n?(e=Os(e,t,Is),r.__reactInternalMemoizedMergedChildContext=e,_s(js),_s(Cs),Ss(Cs,e)):_s(js),Ss(js,n)}var Fs=null,Us=!1,Vs=!1;function zs(e){null===Fs?Fs=[e]:Fs.push(e)}function Bs(){if(!Vs&&null!==Fs){Vs=!0;var e=0,t=xt;try{var n=Fs;for(xt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fs=null,Us=!1}catch(s){throw null!==Fs&&(Fs=Fs.slice(e+1)),Ke(Ze,Bs),s}finally{xt=t,Vs=!1}}return null}var $s=[],qs=0,Hs=null,Ws=0,Ks=[],Gs=0,Qs=null,Js=1,Ys="";function Xs(e,t){$s[qs++]=Ws,$s[qs++]=Hs,Hs=e,Ws=t}function Zs(e,t,n){Ks[Gs++]=Js,Ks[Gs++]=Ys,Ks[Gs++]=Qs,Qs=e;var r=Js;e=Ys;var s=32-at(r)-1;r&=~(1<<s),n+=1;var i=32-at(t)+s;if(30<i){var a=s-s%5;i=(r&(1<<a)-1).toString(32),r>>=a,s-=a,Js=1<<32-at(t)+s|n<<s|r,Ys=i+e}else Js=1<<i|n<<s|r,Ys=e}function ei(e){null!==e.return&&(Xs(e,1),Zs(e,1,0))}function ti(e){for(;e===Hs;)Hs=$s[--qs],$s[qs]=null,Ws=$s[--qs],$s[qs]=null;for(;e===Qs;)Qs=Ks[--Gs],Ks[Gs]=null,Ys=Ks[--Gs],Ks[Gs]=null,Js=Ks[--Gs],Ks[Gs]=null}var ni=null,ri=null,si=!1,ii=null;function ai(e,t){var n=Rc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function oi(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ni=e,ri=cs(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ni=e,ri=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Qs?{id:Js,overflow:Ys}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Rc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ni=e,ri=null,!0);default:return!1}}function li(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ci(e){if(si){var t=ri;if(t){var n=t;if(!oi(e,t)){if(li(e))throw Error(i(418));t=cs(n.nextSibling);var r=ni;t&&oi(e,t)?ai(r,n):(e.flags=-4097&e.flags|2,si=!1,ni=e)}}else{if(li(e))throw Error(i(418));e.flags=-4097&e.flags|2,si=!1,ni=e}}}function ui(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ni=e}function di(e){if(e!==ni)return!1;if(!si)return ui(e),si=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ns(e.type,e.memoizedProps)),t&&(t=ri)){if(li(e))throw hi(),Error(i(418));for(;t;)ai(e,t),t=cs(t.nextSibling)}if(ui(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ri=cs(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ri=null}}else ri=ni?cs(e.stateNode.nextSibling):null;return!0}function hi(){for(var e=ri;e;)e=cs(e.nextSibling)}function fi(){ri=ni=null,si=!1}function pi(e){null===ii?ii=[e]:ii.push(e)}var mi=b.ReactCurrentBatchConfig;function gi(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(i(309));var r=n.stateNode}if(!r)throw Error(i(147,e));var s=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=s.refs;null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(i(284));if(!n._owner)throw Error(i(290,e))}return e}function yi(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function vi(e){return(0,e._init)(e._payload)}function xi(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function s(e,t){return(e=Oc(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Uc(n,e.mode,r)).return=e,t):((t=s(t,n)).return=e,t)}function c(e,t,n,r){var i=n.type;return i===k?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"===typeof i&&null!==i&&i.$$typeof===A&&vi(i)===t.type)?((r=s(t,n.props)).ref=gi(e,t,n),r.return=e,r):((r=Lc(n.type,n.key,n.props,null,e.mode,r)).ref=gi(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Vc(n,e.mode,r)).return=e,t):((t=s(t,n.children||[])).return=e,t)}function d(e,t,n,r,i){return null===t||7!==t.tag?((t=Mc(n,e.mode,r,i)).return=e,t):((t=s(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Uc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Lc(t.type,t.key,t.props,null,e.mode,n)).ref=gi(e,null,t),n.return=e,n;case N:return(t=Vc(t,e.mode,n)).return=e,t;case A:return h(e,(0,t._init)(t._payload),n)}if(te(t)||O(t))return(t=Mc(t,e.mode,n,null)).return=e,t;yi(e,t)}return null}function f(e,t,n,r){var s=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==s?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===s?c(e,t,n,r):null;case N:return n.key===s?u(e,t,n,r):null;case A:return f(e,t,(s=n._init)(n._payload),r)}if(te(n)||O(n))return null!==s?null:d(e,t,n,r,null);yi(e,n)}return null}function p(e,t,n,r,s){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,s);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,s);case N:return u(t,e=e.get(null===r.key?n:r.key)||null,r,s);case A:return p(e,t,n,(0,r._init)(r._payload),s)}if(te(r)||O(r))return d(t,e=e.get(n)||null,r,s,null);yi(t,r)}return null}function m(s,i,o,l){for(var c=null,u=null,d=i,m=i=0,g=null;null!==d&&m<o.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var y=f(s,d,o[m],l);if(null===y){null===d&&(d=g);break}e&&d&&null===y.alternate&&t(s,d),i=a(y,i,m),null===u?c=y:u.sibling=y,u=y,d=g}if(m===o.length)return n(s,d),si&&Xs(s,m),c;if(null===d){for(;m<o.length;m++)null!==(d=h(s,o[m],l))&&(i=a(d,i,m),null===u?c=d:u.sibling=d,u=d);return si&&Xs(s,m),c}for(d=r(s,d);m<o.length;m++)null!==(g=p(d,s,m,o[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),i=a(g,i,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach(function(e){return t(s,e)}),si&&Xs(s,m),c}function g(s,o,l,c){var u=O(l);if("function"!==typeof u)throw Error(i(150));if(null==(l=u.call(l)))throw Error(i(151));for(var d=u=null,m=o,g=o=0,y=null,v=l.next();null!==m&&!v.done;g++,v=l.next()){m.index>g?(y=m,m=null):y=m.sibling;var x=f(s,m,v.value,c);if(null===x){null===m&&(m=y);break}e&&m&&null===x.alternate&&t(s,m),o=a(x,o,g),null===d?u=x:d.sibling=x,d=x,m=y}if(v.done)return n(s,m),si&&Xs(s,g),u;if(null===m){for(;!v.done;g++,v=l.next())null!==(v=h(s,v.value,c))&&(o=a(v,o,g),null===d?u=v:d.sibling=v,d=v);return si&&Xs(s,g),u}for(m=r(s,m);!v.done;g++,v=l.next())null!==(v=p(m,s,g,v.value,c))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),o=a(v,o,g),null===d?u=v:d.sibling=v,d=v);return e&&m.forEach(function(e){return t(s,e)}),si&&Xs(s,g),u}return function e(r,i,a,l){if("object"===typeof a&&null!==a&&a.type===k&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case w:e:{for(var c=a.key,u=i;null!==u;){if(u.key===c){if((c=a.type)===k){if(7===u.tag){n(r,u.sibling),(i=s(u,a.props.children)).return=r,r=i;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===A&&vi(c)===u.type){n(r,u.sibling),(i=s(u,a.props)).ref=gi(r,u,a),i.return=r,r=i;break e}n(r,u);break}t(r,u),u=u.sibling}a.type===k?((i=Mc(a.props.children,r.mode,l,a.key)).return=r,r=i):((l=Lc(a.type,a.key,a.props,null,r.mode,l)).ref=gi(r,i,a),l.return=r,r=l)}return o(r);case N:e:{for(u=a.key;null!==i;){if(i.key===u){if(4===i.tag&&i.stateNode.containerInfo===a.containerInfo&&i.stateNode.implementation===a.implementation){n(r,i.sibling),(i=s(i,a.children||[])).return=r,r=i;break e}n(r,i);break}t(r,i),i=i.sibling}(i=Vc(a,r.mode,l)).return=r,r=i}return o(r);case A:return e(r,i,(u=a._init)(a._payload),l)}if(te(a))return m(r,i,a,l);if(O(a))return g(r,i,a,l);yi(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==i&&6===i.tag?(n(r,i.sibling),(i=s(i,a)).return=r,r=i):(n(r,i),(i=Uc(a,r.mode,l)).return=r,r=i),o(r)):n(r,i)}}var bi=xi(!0),wi=xi(!1),Ni=Es(null),ki=null,Ei=null,_i=null;function Si(){_i=Ei=ki=null}function Ti(e){var t=Ni.current;_s(Ni),e._currentValue=t}function Ci(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ji(e,t){ki=e,_i=Ei=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bo=!0),e.firstContext=null)}function Ii(e){var t=e._currentValue;if(_i!==e)if(e={context:e,memoizedValue:t,next:null},null===Ei){if(null===ki)throw Error(i(308));Ei=e,ki.dependencies={lanes:0,firstContext:e}}else Ei=Ei.next=e;return t}var Pi=null;function Ai(e){null===Pi?Pi=[e]:Pi.push(e)}function Ri(e,t,n,r){var s=t.interleaved;return null===s?(n.next=n,Ai(t)):(n.next=s.next,s.next=n),t.interleaved=n,Di(e,r)}function Di(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Oi=!1;function Li(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Mi(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Fi(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ui(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Il)){var s=r.pending;return null===s?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Di(e,n)}return null===(s=r.interleaved)?(t.next=t,Ai(r)):(t.next=s.next,s.next=t),r.interleaved=t,Di(e,n)}function Vi(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}function zi(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var s=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===i?s=i=a:i=i.next=a,n=n.next}while(null!==n);null===i?s=i=t:i=i.next=t}else s=i=t;return n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Bi(e,t,n,r){var s=e.updateQueue;Oi=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,o=s.shared.pending;if(null!==o){s.shared.pending=null;var l=o,c=l.next;l.next=null,null===a?i=c:a.next=c,a=l;var u=e.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(null!==i){var d=s.baseState;for(a=0,u=c=l=null,o=i;;){var h=o.lane,f=o.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,m=o;switch(h=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=m.payload)?p.call(f,d,h):p)||void 0===h)break e;d=M({},d,h);break e;case 2:Oi=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(h=s.effects)?s.effects=[o]:h.push(o))}else f={eventTime:f,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,a|=h;if(null===(o=o.next)){if(null===(o=s.shared.pending))break;o=(h=o).next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}if(null===u&&(l=d),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=u,null!==(t=s.shared.interleaved)){s=t;do{a|=s.lane,s=s.next}while(s!==t)}else null===i&&(s.shared.lanes=0);Fl|=a,e.lanes=a,e.memoizedState=d}}function $i(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(null!==s){if(r.callback=null,r=n,"function"!==typeof s)throw Error(i(191,s));s.call(r)}}}var qi={},Hi=Es(qi),Wi=Es(qi),Ki=Es(qi);function Gi(e){if(e===qi)throw Error(i(174));return e}function Qi(e,t){switch(Ss(Ki,t),Ss(Wi,e),Ss(Hi,qi),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}_s(Hi),Ss(Hi,t)}function Ji(){_s(Hi),_s(Wi),_s(Ki)}function Yi(e){Gi(Ki.current);var t=Gi(Hi.current),n=le(t,e.type);t!==n&&(Ss(Wi,e),Ss(Hi,n))}function Xi(e){Wi.current===e&&(_s(Hi),_s(Wi))}var Zi=Es(0);function ea(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ta=[];function na(){for(var e=0;e<ta.length;e++)ta[e]._workInProgressVersionPrimary=null;ta.length=0}var ra=b.ReactCurrentDispatcher,sa=b.ReactCurrentBatchConfig,ia=0,aa=null,oa=null,la=null,ca=!1,ua=!1,da=0,ha=0;function fa(){throw Error(i(321))}function pa(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!or(e[n],t[n]))return!1;return!0}function ma(e,t,n,r,s,a){if(ia=a,aa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ra.current=null===e||null===e.memoizedState?Za:eo,e=n(r,s),ua){a=0;do{if(ua=!1,da=0,25<=a)throw Error(i(301));a+=1,la=oa=null,t.updateQueue=null,ra.current=to,e=n(r,s)}while(ua)}if(ra.current=Xa,t=null!==oa&&null!==oa.next,ia=0,la=oa=aa=null,ca=!1,t)throw Error(i(300));return e}function ga(){var e=0!==da;return da=0,e}function ya(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===la?aa.memoizedState=la=e:la=la.next=e,la}function va(){if(null===oa){var e=aa.alternate;e=null!==e?e.memoizedState:null}else e=oa.next;var t=null===la?aa.memoizedState:la.next;if(null!==t)la=t,oa=e;else{if(null===e)throw Error(i(310));e={memoizedState:(oa=e).memoizedState,baseState:oa.baseState,baseQueue:oa.baseQueue,queue:oa.queue,next:null},null===la?aa.memoizedState=la=e:la=la.next=e}return la}function xa(e,t){return"function"===typeof t?t(e):t}function ba(e){var t=va(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=oa,s=r.baseQueue,a=n.pending;if(null!==a){if(null!==s){var o=s.next;s.next=a.next,a.next=o}r.baseQueue=s=a,n.pending=null}if(null!==s){a=s.next,r=r.baseState;var l=o=null,c=null,u=a;do{var d=u.lane;if((ia&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,o=r):c=c.next=h,aa.lanes|=d,Fl|=d}u=u.next}while(null!==u&&u!==a);null===c?o=r:c.next=l,or(r,t.memoizedState)||(bo=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){s=e;do{a=s.lane,aa.lanes|=a,Fl|=a,s=s.next}while(s!==e)}else null===s&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function wa(e){var t=va(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,a=t.memoizedState;if(null!==s){n.pending=null;var o=s=s.next;do{a=e(a,o.action),o=o.next}while(o!==s);or(a,t.memoizedState)||(bo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Na(){}function ka(e,t){var n=aa,r=va(),s=t(),a=!or(r.memoizedState,s);if(a&&(r.memoizedState=s,bo=!0),r=r.queue,La(Ta.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==la&&1&la.memoizedState.tag){if(n.flags|=2048,Pa(9,_a.bind(null,n,r,s,t),void 0,null),null===Pl)throw Error(i(349));0!==(30&ia)||Ea(n,t,s)}return s}function Ea(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=aa.updateQueue)?(t={lastEffect:null,stores:null},aa.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function _a(e,t,n,r){t.value=n,t.getSnapshot=r,Ca(t)&&ja(e)}function Ta(e,t,n){return n(function(){Ca(t)&&ja(e)})}function Ca(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!or(e,n)}catch(r){return!0}}function ja(e){var t=Di(e,1);null!==t&&sc(t,e,1,-1)}function Ia(e){var t=ya();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xa,lastRenderedState:e},t.queue=e,e=e.dispatch=Ga.bind(null,aa,e),[t.memoizedState,e]}function Pa(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=aa.updateQueue)?(t={lastEffect:null,stores:null},aa.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Aa(){return va().memoizedState}function Ra(e,t,n,r){var s=ya();aa.flags|=e,s.memoizedState=Pa(1|t,n,void 0,void 0===r?null:r)}function Da(e,t,n,r){var s=va();r=void 0===r?null:r;var i=void 0;if(null!==oa){var a=oa.memoizedState;if(i=a.destroy,null!==r&&pa(r,a.deps))return void(s.memoizedState=Pa(t,n,i,r))}aa.flags|=e,s.memoizedState=Pa(1|t,n,i,r)}function Oa(e,t){return Ra(8390656,8,e,t)}function La(e,t){return Da(2048,8,e,t)}function Ma(e,t){return Da(4,2,e,t)}function Fa(e,t){return Da(4,4,e,t)}function Ua(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Va(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Da(4,4,Ua.bind(null,t,e),n)}function za(){}function Ba(e,t){var n=va();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&pa(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function $a(e,t){var n=va();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&pa(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function qa(e,t,n){return 0===(21&ia)?(e.baseState&&(e.baseState=!1,bo=!0),e.memoizedState=n):(or(n,t)||(n=mt(),aa.lanes|=n,Fl|=n,e.baseState=!0),t)}function Ha(e,t){var n=xt;xt=0!==n&&4>n?n:4,e(!0);var r=sa.transition;sa.transition={};try{e(!1),t()}finally{xt=n,sa.transition=r}}function Wa(){return va().memoizedState}function Ka(e,t,n){var r=rc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Qa(e))Ja(t,n);else if(null!==(n=Ri(e,t,n,r))){sc(n,e,r,nc()),Ya(n,t,r)}}function Ga(e,t,n){var r=rc(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Qa(e))Ja(t,s);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var a=t.lastRenderedState,o=i(a,n);if(s.hasEagerState=!0,s.eagerState=o,or(o,a)){var l=t.interleaved;return null===l?(s.next=s,Ai(t)):(s.next=l.next,l.next=s),void(t.interleaved=s)}}catch(c){}null!==(n=Ri(e,t,s,r))&&(sc(n,e,r,s=nc()),Ya(n,t,r))}}function Qa(e){var t=e.alternate;return e===aa||null!==t&&t===aa}function Ja(e,t){ua=ca=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ya(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}var Xa={readContext:Ii,useCallback:fa,useContext:fa,useEffect:fa,useImperativeHandle:fa,useInsertionEffect:fa,useLayoutEffect:fa,useMemo:fa,useReducer:fa,useRef:fa,useState:fa,useDebugValue:fa,useDeferredValue:fa,useTransition:fa,useMutableSource:fa,useSyncExternalStore:fa,useId:fa,unstable_isNewReconciler:!1},Za={readContext:Ii,useCallback:function(e,t){return ya().memoizedState=[e,void 0===t?null:t],e},useContext:Ii,useEffect:Oa,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ra(4194308,4,Ua.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ra(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ra(4,2,e,t)},useMemo:function(e,t){var n=ya();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ya();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ka.bind(null,aa,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ya().memoizedState=e},useState:Ia,useDebugValue:za,useDeferredValue:function(e){return ya().memoizedState=e},useTransition:function(){var e=Ia(!1),t=e[0];return e=Ha.bind(null,e[1]),ya().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=aa,s=ya();if(si){if(void 0===n)throw Error(i(407));n=n()}else{if(n=t(),null===Pl)throw Error(i(349));0!==(30&ia)||Ea(r,t,n)}s.memoizedState=n;var a={value:n,getSnapshot:t};return s.queue=a,Oa(Ta.bind(null,r,a,e),[e]),r.flags|=2048,Pa(9,_a.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=ya(),t=Pl.identifierPrefix;if(si){var n=Ys;t=":"+t+"R"+(n=(Js&~(1<<32-at(Js)-1)).toString(32)+n),0<(n=da++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ha++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},eo={readContext:Ii,useCallback:Ba,useContext:Ii,useEffect:La,useImperativeHandle:Va,useInsertionEffect:Ma,useLayoutEffect:Fa,useMemo:$a,useReducer:ba,useRef:Aa,useState:function(){return ba(xa)},useDebugValue:za,useDeferredValue:function(e){return qa(va(),oa.memoizedState,e)},useTransition:function(){return[ba(xa)[0],va().memoizedState]},useMutableSource:Na,useSyncExternalStore:ka,useId:Wa,unstable_isNewReconciler:!1},to={readContext:Ii,useCallback:Ba,useContext:Ii,useEffect:La,useImperativeHandle:Va,useInsertionEffect:Ma,useLayoutEffect:Fa,useMemo:$a,useReducer:wa,useRef:Aa,useState:function(){return wa(xa)},useDebugValue:za,useDeferredValue:function(e){var t=va();return null===oa?t.memoizedState=e:qa(t,oa.memoizedState,e)},useTransition:function(){return[wa(xa)[0],va().memoizedState]},useMutableSource:Na,useSyncExternalStore:ka,useId:Wa,unstable_isNewReconciler:!1};function no(e,t){if(e&&e.defaultProps){for(var n in t=M({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function ro(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:M({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var so={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=nc(),s=rc(e),i=Fi(r,s);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Ui(e,i,s))&&(sc(t,e,s,r),Vi(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=nc(),s=rc(e),i=Fi(r,s);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Ui(e,i,s))&&(sc(t,e,s,r),Vi(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=nc(),r=rc(e),s=Fi(n,r);s.tag=2,void 0!==t&&null!==t&&(s.callback=t),null!==(t=Ui(e,s,r))&&(sc(t,e,r,n),Vi(t,e,r))}};function io(e,t,n,r,s,i,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,a):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(s,i))}function ao(e,t,n){var r=!1,s=Ts,i=t.contextType;return"object"===typeof i&&null!==i?i=Ii(i):(s=As(t)?Is:Cs.current,i=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ps(e,s):Ts),t=new t(n,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=so,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function oo(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&so.enqueueReplaceState(t,t.state,null)}function lo(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Li(e);var i=t.contextType;"object"===typeof i&&null!==i?s.context=Ii(i):(i=As(t)?Is:Cs.current,s.context=Ps(e,i)),s.state=e.memoizedState,"function"===typeof(i=t.getDerivedStateFromProps)&&(ro(e,t,i,n),s.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof s.getSnapshotBeforeUpdate||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||(t=s.state,"function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount(),t!==s.state&&so.enqueueReplaceState(s,s.state,null),Bi(e,n,s,r),s.state=e.memoizedState),"function"===typeof s.componentDidMount&&(e.flags|=4194308)}function co(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var s=n}catch(i){s="\nError generating stack: "+i.message+"\n"+i.stack}return{value:e,source:t,stack:s,digest:null}}function uo(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ho(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var fo="function"===typeof WeakMap?WeakMap:Map;function po(e,t,n){(n=Fi(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Wl||(Wl=!0,Kl=r),ho(0,t)},n}function mo(e,t,n){(n=Fi(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){ho(0,t)}}var i=e.stateNode;return null!==i&&"function"===typeof i.componentDidCatch&&(n.callback=function(){ho(0,t),"function"!==typeof r&&(null===Gl?Gl=new Set([this]):Gl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function go(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fo;var s=new Set;r.set(t,s)}else void 0===(s=r.get(t))&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=Tc.bind(null,e,t,n),t.then(e,e))}function yo(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function vo(e,t,n,r,s){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Fi(-1,1)).tag=2,Ui(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=s,e)}var xo=b.ReactCurrentOwner,bo=!1;function No(e,t,n,r){t.child=null===e?wi(t,null,n,r):bi(t,e.child,n,r)}function ko(e,t,n,r,s){n=n.render;var i=t.ref;return ji(t,s),r=ma(e,t,n,r,i,s),n=ga(),null===e||bo?(si&&n&&ei(t),t.flags|=1,No(e,t,r,s),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Wo(e,t,s))}function Eo(e,t,n,r,s){if(null===e){var i=n.type;return"function"!==typeof i||Dc(i)||void 0!==i.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Lc(n.type,null,r,t,t.mode,s)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,_o(e,t,i,r,s))}if(i=e.child,0===(e.lanes&s)){var a=i.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(a,r)&&e.ref===t.ref)return Wo(e,t,s)}return t.flags|=1,(e=Oc(i,r)).ref=t.ref,e.return=t,t.child=e}function _o(e,t,n,r,s){if(null!==e){var i=e.memoizedProps;if(lr(i,r)&&e.ref===t.ref){if(bo=!1,t.pendingProps=r=i,0===(e.lanes&s))return t.lanes=e.lanes,Wo(e,t,s);0!==(131072&e.flags)&&(bo=!0)}}return Co(e,t,n,r,s)}function So(e,t,n){var r=t.pendingProps,s=r.children,i=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ss(Ol,Dl),Dl|=n;else{if(0===(1073741824&n))return e=null!==i?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ss(Ol,Dl),Dl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==i?i.baseLanes:n,Ss(Ol,Dl),Dl|=r}else null!==i?(r=i.baseLanes|n,t.memoizedState=null):r=n,Ss(Ol,Dl),Dl|=r;return No(e,t,s,n),t.child}function To(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Co(e,t,n,r,s){var i=As(n)?Is:Cs.current;return i=Ps(t,i),ji(t,s),n=ma(e,t,n,r,i,s),r=ga(),null===e||bo?(si&&r&&ei(t),t.flags|=1,No(e,t,n,s),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Wo(e,t,s))}function jo(e,t,n,r,s){if(As(n)){var i=!0;Ls(t)}else i=!1;if(ji(t,s),null===t.stateNode)Ho(e,t),ao(t,n,r),lo(t,n,r,s),r=!0;else if(null===e){var a=t.stateNode,o=t.memoizedProps;a.props=o;var l=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ii(c):c=Ps(t,c=As(n)?Is:Cs.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof a.getSnapshotBeforeUpdate;d||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==r||l!==c)&&oo(t,a,r,c),Oi=!1;var h=t.memoizedState;a.state=h,Bi(t,r,a,s),l=t.memoizedState,o!==r||h!==l||js.current||Oi?("function"===typeof u&&(ro(t,n,u,r),l=t.memoizedState),(o=Oi||io(t,n,o,r,h,l,c))?(d||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=c,r=o):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Mi(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:no(t.type,o),a.props=c,d=t.pendingProps,h=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=Ii(l):l=Ps(t,l=As(n)?Is:Cs.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==d||h!==l)&&oo(t,a,r,l),Oi=!1,h=t.memoizedState,a.state=h,Bi(t,r,a,s);var p=t.memoizedState;o!==d||h!==p||js.current||Oi?("function"===typeof f&&(ro(t,n,f,r),p=t.memoizedState),(c=Oi||io(t,n,c,r,h,p,l)||!1)?(u||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=l,r=c):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Io(e,t,n,r,i,s)}function Io(e,t,n,r,s,i){To(e,t);var a=0!==(128&t.flags);if(!r&&!a)return s&&Ms(t,n,!1),Wo(e,t,i);r=t.stateNode,xo.current=t;var o=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=bi(t,e.child,null,i),t.child=bi(t,null,o,i)):No(e,t,o,i),t.memoizedState=r.state,s&&Ms(t,n,!0),t.child}function Po(e){var t=e.stateNode;t.pendingContext?Ds(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ds(0,t.context,!1),Qi(e,t.containerInfo)}function Ao(e,t,n,r,s){return fi(),pi(s),t.flags|=256,No(e,t,n,r),t.child}var Ro,Do,Oo,Lo,Mo={dehydrated:null,treeContext:null,retryLane:0};function Fo(e){return{baseLanes:e,cachePool:null,transitions:null}}function Uo(e,t,n){var r,s=t.pendingProps,a=Zi.current,o=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Ss(Zi,1&a),null===e)return ci(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=s.children,e=s.fallback,o?(s=t.mode,o=t.child,l={mode:"hidden",children:l},0===(1&s)&&null!==o?(o.childLanes=0,o.pendingProps=l):o=Fc(l,s,0,null),e=Mc(e,s,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Fo(n),t.memoizedState=Mo,e):Vo(t,l));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,s,a,o){if(n)return 256&t.flags?(t.flags&=-257,zo(e,t,o,r=uo(Error(i(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,s=t.mode,r=Fc({mode:"visible",children:r.children},s,0,null),(a=Mc(a,s,o,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&bi(t,e.child,null,o),t.child.memoizedState=Fo(o),t.memoizedState=Mo,a);if(0===(1&t.mode))return zo(e,t,o,null);if("$!"===s.data){if(r=s.nextSibling&&s.nextSibling.dataset)var l=r.dgst;return r=l,zo(e,t,o,r=uo(a=Error(i(419)),r,void 0))}if(l=0!==(o&e.childLanes),bo||l){if(null!==(r=Pl)){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}0!==(s=0!==(s&(r.suspendedLanes|o))?0:s)&&s!==a.retryLane&&(a.retryLane=s,Di(e,s),sc(r,e,s,-1))}return yc(),zo(e,t,o,r=uo(Error(i(421))))}return"$?"===s.data?(t.flags|=128,t.child=e.child,t=jc.bind(null,e),s._reactRetry=t,null):(e=a.treeContext,ri=cs(s.nextSibling),ni=t,si=!0,ii=null,null!==e&&(Ks[Gs++]=Js,Ks[Gs++]=Ys,Ks[Gs++]=Qs,Js=e.id,Ys=e.overflow,Qs=t),t=Vo(t,r.children),t.flags|=4096,t)}(e,t,l,s,r,a,n);if(o){o=s.fallback,l=t.mode,r=(a=e.child).sibling;var c={mode:"hidden",children:s.children};return 0===(1&l)&&t.child!==a?((s=t.child).childLanes=0,s.pendingProps=c,t.deletions=null):(s=Oc(a,c)).subtreeFlags=14680064&a.subtreeFlags,null!==r?o=Oc(r,o):(o=Mc(o,l,n,null)).flags|=2,o.return=t,s.return=t,s.sibling=o,t.child=s,s=o,o=t.child,l=null===(l=e.child.memoizedState)?Fo(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~n,t.memoizedState=Mo,s}return e=(o=e.child).sibling,s=Oc(o,{mode:"visible",children:s.children}),0===(1&t.mode)&&(s.lanes=n),s.return=t,s.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=s,t.memoizedState=null,s}function Vo(e,t){return(t=Fc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function zo(e,t,n,r){return null!==r&&pi(r),bi(t,e.child,null,n),(e=Vo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Bo(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ci(e.return,t,n)}function $o(e,t,n,r,s){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function qo(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(No(e,t,r.children,n),0!==(2&(r=Zi.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Bo(e,n,t);else if(19===e.tag)Bo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ss(Zi,r),0===(1&t.mode))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;null!==n;)null!==(e=n.alternate)&&null===ea(e)&&(s=n),n=n.sibling;null===(n=s)?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),$o(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;null!==s;){if(null!==(e=s.alternate)&&null===ea(e)){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}$o(t,!0,n,null,i);break;case"together":$o(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ho(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Wo(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Fl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(n=Oc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Oc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ko(e,t){if(!si)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Go(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;null!==s;)n|=s.lanes|s.childLanes,r|=14680064&s.subtreeFlags,r|=14680064&s.flags,s.return=e,s=s.sibling;else for(s=e.child;null!==s;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Qo(e,t,n){var r=t.pendingProps;switch(ti(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Go(t),null;case 1:case 17:return As(t.type)&&Rs(),Go(t),null;case 3:return r=t.stateNode,Ji(),_s(js),_s(Cs),na(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(di(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ii&&(lc(ii),ii=null))),Do(e,t),Go(t),null;case 5:Xi(t);var s=Gi(Ki.current);if(n=t.type,null!==e&&null!=t.stateNode)Oo(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(i(166));return Go(t),null}if(e=Gi(Hi.current),di(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[hs]=t,r[fs]=a,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(s=0;s<Or.length;s++)Ur(Or[s],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":J(r,a),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Ur("invalid",r);break;case"textarea":se(r,a),Ur("invalid",r)}for(var l in ve(n,a),s=null,a)if(a.hasOwnProperty(l)){var c=a[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==a.suppressHydrationWarning&&Xr(r.textContent,c,e),s=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&Xr(r.textContent,c,e),s=["children",""+c]):o.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Ur("scroll",r)}switch(n){case"input":W(r),Z(r,a,!0);break;case"textarea":W(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Zr)}r=s,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===s.nodeType?s:s.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[hs]=t,e[fs]=r,Ro(e,t,!1,!1),t.stateNode=e;e:{switch(l=xe(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),s=r;break;case"iframe":case"object":case"embed":Ur("load",e),s=r;break;case"video":case"audio":for(s=0;s<Or.length;s++)Ur(Or[s],e);s=r;break;case"source":Ur("error",e),s=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),s=r;break;case"details":Ur("toggle",e),s=r;break;case"input":J(e,r),s=Q(e,r),Ur("invalid",e);break;case"option":default:s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=M({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":se(e,r),s=re(e,r),Ur("invalid",e)}for(a in ve(n,s),c=s)if(c.hasOwnProperty(a)){var u=c[a];"style"===a?ge(e,u):"dangerouslySetInnerHTML"===a?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===a?"string"===typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(o.hasOwnProperty(a)?null!=u&&"onScroll"===a&&Ur("scroll",e):null!=u&&x(e,a,u,l))}switch(n){case"input":W(e),Z(e,r,!1);break;case"textarea":W(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof s.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Go(t),null;case 6:if(e&&null!=t.stateNode)Lo(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(i(166));if(n=Gi(Ki.current),Gi(Hi.current),di(t)){if(r=t.stateNode,n=t.memoizedProps,r[hs]=t,(a=r.nodeValue!==n)&&null!==(e=ni))switch(e.tag){case 3:Xr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xr(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hs]=t,t.stateNode=r}return Go(t),null;case 13:if(_s(Zi),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(si&&null!==ri&&0!==(1&t.mode)&&0===(128&t.flags))hi(),fi(),t.flags|=98560,a=!1;else if(a=di(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(i(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(i(317));a[hs]=t}else fi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Go(t),a=!1}else null!==ii&&(lc(ii),ii=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Zi.current)?0===Ll&&(Ll=3):yc())),null!==t.updateQueue&&(t.flags|=4),Go(t),null);case 4:return Ji(),Do(e,t),null===e&&Br(t.stateNode.containerInfo),Go(t),null;case 10:return Ti(t.type._context),Go(t),null;case 19:if(_s(Zi),null===(a=t.memoizedState))return Go(t),null;if(r=0!==(128&t.flags),null===(l=a.rendering))if(r)Ko(a,!1);else{if(0!==Ll||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ea(e))){for(t.flags|=128,Ko(a,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ss(Zi,1&Zi.current|2),t.child}e=e.sibling}null!==a.tail&&Ye()>ql&&(t.flags|=128,r=!0,Ko(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ea(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ko(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!si)return Go(t),null}else 2*Ye()-a.renderingStartTime>ql&&1073741824!==n&&(t.flags|=128,r=!0,Ko(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=a.last)?n.sibling=l:t.child=l,a.last=l)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Ye(),t.sibling=null,n=Zi.current,Ss(Zi,r?1&n|2:1&n),t):(Go(t),null);case 22:case 23:return fc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Dl)&&(Go(t),6&t.subtreeFlags&&(t.flags|=8192)):Go(t),null;case 24:case 25:return null}throw Error(i(156,t.tag))}function Jo(e,t){switch(ti(t),t.tag){case 1:return As(t.type)&&Rs(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Ji(),_s(js),_s(Cs),na(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Xi(t),null;case 13:if(_s(Zi),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));fi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return _s(Zi),null;case 4:return Ji(),null;case 10:return Ti(t.type._context),null;case 22:case 23:return fc(),null;default:return null}}Ro=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Do=function(){},Oo=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Gi(Hi.current);var i,a=null;switch(n){case"input":s=Q(e,s),r=Q(e,r),a=[];break;case"select":s=M({},s,{value:void 0}),r=M({},r,{value:void 0}),a=[];break;case"textarea":s=re(e,s),r=re(e,r),a=[];break;default:"function"!==typeof s.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(u in ve(n,r),n=null,s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&null!=s[u])if("style"===u){var l=s[u];for(i in l)l.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(o.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=s?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(a||(a=[]),a.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(a=a||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(a=a||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(o.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Ur("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}},Lo=function(e,t,n,r){n!==r&&(t.flags|=4)};var Yo=!1,Xo=!1,Zo="function"===typeof WeakSet?WeakSet:Set,el=null;function tl(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Sc(e,t,r)}else n.current=null}function nl(e,t,n){try{n()}catch(r){Sc(e,t,r)}}var rl=!1;function sl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,void 0!==i&&nl(t,n,i)}s=s.next}while(s!==r)}}function il(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function al(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ol(e){var t=e.alternate;null!==t&&(e.alternate=null,ol(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hs],delete t[fs],delete t[ms],delete t[gs],delete t[ys])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ll(e){return 5===e.tag||3===e.tag||4===e.tag}function cl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ll(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ul(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}function dl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(dl(e,t,n),e=e.sibling;null!==e;)dl(e,t,n),e=e.sibling}var hl=null,fl=!1;function pl(e,t,n){for(n=n.child;null!==n;)ml(e,t,n),n=n.sibling}function ml(e,t,n){if(it&&"function"===typeof it.onCommitFiberUnmount)try{it.onCommitFiberUnmount(st,n)}catch(o){}switch(n.tag){case 5:Xo||tl(n,t);case 6:var r=hl,s=fl;hl=null,pl(e,t,n),fl=s,null!==(hl=r)&&(fl?(e=hl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):hl.removeChild(n.stateNode));break;case 18:null!==hl&&(fl?(e=hl,n=n.stateNode,8===e.nodeType?ls(e.parentNode,n):1===e.nodeType&&ls(e,n),Bt(e)):ls(hl,n.stateNode));break;case 4:r=hl,s=fl,hl=n.stateNode.containerInfo,fl=!0,pl(e,t,n),hl=r,fl=s;break;case 0:case 11:case 14:case 15:if(!Xo&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){s=r=r.next;do{var i=s,a=i.destroy;i=i.tag,void 0!==a&&(0!==(2&i)||0!==(4&i))&&nl(n,t,a),s=s.next}while(s!==r)}pl(e,t,n);break;case 1:if(!Xo&&(tl(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){Sc(n,t,o)}pl(e,t,n);break;case 21:pl(e,t,n);break;case 22:1&n.mode?(Xo=(r=Xo)||null!==n.memoizedState,pl(e,t,n),Xo=r):pl(e,t,n);break;default:pl(e,t,n)}}function gl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Zo),t.forEach(function(t){var r=Ic.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function yl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var s=n[r];try{var a=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 5:hl=l.stateNode,fl=!1;break e;case 3:case 4:hl=l.stateNode.containerInfo,fl=!0;break e}l=l.return}if(null===hl)throw Error(i(160));ml(a,o,s),hl=null,fl=!1;var c=s.alternate;null!==c&&(c.return=null),s.return=null}catch(u){Sc(s,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)vl(t,e),t=t.sibling}function vl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(yl(t,e),xl(e),4&r){try{sl(3,e,e.return),il(3,e)}catch(g){Sc(e,e.return,g)}try{sl(5,e,e.return)}catch(g){Sc(e,e.return,g)}}break;case 1:yl(t,e),xl(e),512&r&&null!==n&&tl(n,n.return);break;case 5:if(yl(t,e),xl(e),512&r&&null!==n&&tl(n,n.return),32&e.flags){var s=e.stateNode;try{he(s,"")}catch(g){Sc(e,e.return,g)}}if(4&r&&null!=(s=e.stateNode)){var a=e.memoizedProps,o=null!==n?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===a.type&&null!=a.name&&Y(s,a),xe(l,o);var u=xe(l,a);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];"style"===d?ge(s,h):"dangerouslySetInnerHTML"===d?de(s,h):"children"===d?he(s,h):x(s,d,h,u)}switch(l){case"input":X(s,a);break;case"textarea":ie(s,a);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?ne(s,!!a.multiple,p,!1):f!==!!a.multiple&&(null!=a.defaultValue?ne(s,!!a.multiple,a.defaultValue,!0):ne(s,!!a.multiple,a.multiple?[]:"",!1))}s[fs]=a}catch(g){Sc(e,e.return,g)}}break;case 6:if(yl(t,e),xl(e),4&r){if(null===e.stateNode)throw Error(i(162));s=e.stateNode,a=e.memoizedProps;try{s.nodeValue=a}catch(g){Sc(e,e.return,g)}}break;case 3:if(yl(t,e),xl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(g){Sc(e,e.return,g)}break;case 4:default:yl(t,e),xl(e);break;case 13:yl(t,e),xl(e),8192&(s=e.child).flags&&(a=null!==s.memoizedState,s.stateNode.isHidden=a,!a||null!==s.alternate&&null!==s.alternate.memoizedState||($l=Ye())),4&r&&gl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Xo=(u=Xo)||d,yl(t,e),Xo=u):yl(t,e),xl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(el=e,d=e.child;null!==d;){for(h=el=d;null!==el;){switch(p=(f=el).child,f.tag){case 0:case 11:case 14:case 15:sl(4,f,f.return);break;case 1:tl(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){Sc(r,n,g)}}break;case 5:tl(f,f.return);break;case 22:if(null!==f.memoizedState){kl(h);continue}}null!==p?(p.return=f,el=p):kl(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{s=h.stateNode,u?"function"===typeof(a=s.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=h.stateNode,o=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",o))}catch(g){Sc(e,e.return,g)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){Sc(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:yl(t,e),xl(e),4&r&&gl(e);case 21:}}function xl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ll(n)){var r=n;break e}n=n.return}throw Error(i(160))}switch(r.tag){case 5:var s=r.stateNode;32&r.flags&&(he(s,""),r.flags&=-33),dl(e,cl(e),s);break;case 3:case 4:var a=r.stateNode.containerInfo;ul(e,cl(e),a);break;default:throw Error(i(161))}}catch(wo){Sc(e,e.return,wo)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bl(e,t,n){el=e,wl(e,t,n)}function wl(e,t,n){for(var r=0!==(1&e.mode);null!==el;){var s=el,i=s.child;if(22===s.tag&&r){var a=null!==s.memoizedState||Yo;if(!a){var o=s.alternate,l=null!==o&&null!==o.memoizedState||Xo;o=Yo;var c=Xo;if(Yo=a,(Xo=l)&&!c)for(el=s;null!==el;)l=(a=el).child,22===a.tag&&null!==a.memoizedState?El(s):null!==l?(l.return=a,el=l):El(s);for(;null!==i;)el=i,wl(i,t,n),i=i.sibling;el=s,Yo=o,Xo=c}Nl(e)}else 0!==(8772&s.subtreeFlags)&&null!==i?(i.return=s,el=i):Nl(e)}}function Nl(e){for(;null!==el;){var t=el;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xo||il(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Xo)if(null===n)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:no(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&$i(t,a,r);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}$i(t,o,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Bt(h)}}}break;default:throw Error(i(163))}Xo||512&t.flags&&al(t)}catch(f){Sc(t,t.return,f)}}if(t===e){el=null;break}if(null!==(n=t.sibling)){n.return=t.return,el=n;break}el=t.return}}function kl(e){for(;null!==el;){var t=el;if(t===e){el=null;break}var n=t.sibling;if(null!==n){n.return=t.return,el=n;break}el=t.return}}function El(e){for(;null!==el;){var t=el;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{il(4,t)}catch(wo){Sc(t,n,wo)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var s=t.return;try{r.componentDidMount()}catch(wo){Sc(t,s,wo)}}var i=t.return;try{al(t)}catch(wo){Sc(t,i,wo)}break;case 5:var a=t.return;try{al(t)}catch(wo){Sc(t,a,wo)}}}catch(wo){Sc(t,t.return,wo)}if(t===e){el=null;break}var o=t.sibling;if(null!==o){o.return=t.return,el=o;break}el=t.return}}var _l,Sl=Math.ceil,Tl=b.ReactCurrentDispatcher,Cl=b.ReactCurrentOwner,jl=b.ReactCurrentBatchConfig,Il=0,Pl=null,Al=null,Rl=0,Dl=0,Ol=Es(0),Ll=0,Ml=null,Fl=0,Ul=0,Vl=0,zl=null,Bl=null,$l=0,ql=1/0,Hl=null,Wl=!1,Kl=null,Gl=null,Ql=!1,Jl=null,Yl=0,Xl=0,Zl=null,ec=-1,tc=0;function nc(){return 0!==(6&Il)?Ye():-1!==ec?ec:ec=Ye()}function rc(e){return 0===(1&e.mode)?1:0!==(2&Il)&&0!==Rl?Rl&-Rl:null!==mi.transition?(0===tc&&(tc=mt()),tc):0!==(e=xt)?e:e=void 0===(e=window.event)?16:Jt(e.type)}function sc(e,t,n,r){if(50<Xl)throw Xl=0,Zl=null,Error(i(185));yt(e,n,r),0!==(2&Il)&&e===Pl||(e===Pl&&(0===(2&Il)&&(Ul|=n),4===Ll&&cc(e,Rl)),ic(e,r),1===n&&0===Il&&0===(1&t.mode)&&(ql=Ye()+500,Us&&Bs()))}function ic(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-at(i),o=1<<a,l=s[a];-1===l?0!==(o&n)&&0===(o&r)||(s[a]=ft(o,t)):l<=t&&(e.expiredLanes|=o),i&=~o}}(e,t);var r=ht(e,e===Pl?Rl:0);if(0===r)null!==n&&Ge(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ge(n),1===t)0===e.tag?function(e){Us=!0,zs(e)}(uc.bind(null,e)):zs(uc.bind(null,e)),as(function(){0===(6&Il)&&Bs()}),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Pc(n,ac.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ac(e,t){if(ec=-1,tc=0,0!==(6&Il))throw Error(i(327));var n=e.callbackNode;if(Ec()&&e.callbackNode!==n)return null;var r=ht(e,e===Pl?Rl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=vc(e,r);else{t=r;var s=Il;Il|=2;var a=gc();for(Pl===e&&Rl===t||(Hl=null,ql=Ye()+500,pc(e,t));;)try{bc();break}catch(l){mc(e,l)}Si(),Tl.current=a,Il=s,null!==Al?t=0:(Pl=null,Rl=0,t=Ll)}if(0!==t){if(2===t&&(0!==(s=pt(e))&&(r=s,t=oc(e,s))),1===t)throw n=Ml,pc(e,0),cc(e,r),ic(e,Ye()),n;if(6===t)cc(e,r);else{if(s=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!or(i(),s))return!1}catch(o){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(s)&&(2===(t=vc(e,r))&&(0!==(a=pt(e))&&(r=a,t=oc(e,a))),1===t))throw n=Ml,pc(e,0),cc(e,r),ic(e,Ye()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(i(345));case 2:case 5:kc(e,Bl,Hl);break;case 3:if(cc(e,r),(130023424&r)===r&&10<(t=$l+500-Ye())){if(0!==ht(e,0))break;if(((s=e.suspendedLanes)&r)!==r){nc(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=rs(kc.bind(null,e,Bl,Hl),t);break}kc(e,Bl,Hl);break;case 4:if(cc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-at(r);a=1<<o,(o=t[o])>s&&(s=o),r&=~a}if(r=s,10<(r=(120>(r=Ye()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Sl(r/1960))-r)){e.timeoutHandle=rs(kc.bind(null,e,Bl,Hl),r);break}kc(e,Bl,Hl);break;default:throw Error(i(329))}}}return ic(e,Ye()),e.callbackNode===n?ac.bind(null,e):null}function oc(e,t){var n=zl;return e.current.memoizedState.isDehydrated&&(pc(e,t).flags|=256),2!==(e=vc(e,t))&&(t=Bl,Bl=n,null!==t&&lc(t)),e}function lc(e){null===Bl?Bl=e:Bl.push.apply(Bl,e)}function cc(e,t){for(t&=~Vl,t&=~Ul,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function uc(e){if(0!==(6&Il))throw Error(i(327));Ec();var t=ht(e,0);if(0===(1&t))return ic(e,Ye()),null;var n=vc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=oc(e,r))}if(1===n)throw n=Ml,pc(e,0),cc(e,t),ic(e,Ye()),n;if(6===n)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,kc(e,Bl,Hl),ic(e,Ye()),null}function dc(e,t){var n=Il;Il|=1;try{return e(t)}finally{0===(Il=n)&&(ql=Ye()+500,Us&&Bs())}}function hc(e){null!==Jl&&0===Jl.tag&&0===(6&Il)&&Ec();var t=Il;Il|=1;var n=jl.transition,r=xt;try{if(jl.transition=null,xt=1,e)return e()}finally{xt=r,jl.transition=n,0===(6&(Il=t))&&Bs()}}function fc(){Dl=Ol.current,_s(Ol)}function pc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ss(n)),null!==Al)for(n=Al.return;null!==n;){var r=n;switch(ti(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Rs();break;case 3:Ji(),_s(js),_s(Cs),na();break;case 5:Xi(r);break;case 4:Ji();break;case 13:case 19:_s(Zi);break;case 10:Ti(r.type._context);break;case 22:case 23:fc()}n=n.return}if(Pl=e,Al=e=Oc(e.current,null),Rl=Dl=t,Ll=0,Ml=null,Vl=Ul=Fl=0,Bl=zl=null,null!==Pi){for(t=0;t<Pi.length;t++)if(null!==(r=(n=Pi[t]).interleaved)){n.interleaved=null;var s=r.next,i=n.pending;if(null!==i){var a=i.next;i.next=s,r.next=a}n.pending=r}Pi=null}return e}function mc(e,t){for(;;){var n=Al;try{if(Si(),ra.current=Xa,ca){for(var r=aa.memoizedState;null!==r;){var s=r.queue;null!==s&&(s.pending=null),r=r.next}ca=!1}if(ia=0,la=oa=aa=null,ua=!1,da=0,Cl.current=null,null===n||null===n.return){Ll=1,Ml=t,Al=null;break}e:{var a=e,o=n.return,l=n,c=t;if(t=Rl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=yo(o);if(null!==p){p.flags&=-257,vo(p,o,l,0,t),1&p.mode&&go(a,u,t),c=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){go(a,u,t),yc();break e}c=Error(i(426))}else if(si&&1&l.mode){var y=yo(o);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),vo(y,o,l,0,t),pi(co(c,l));break e}}a=c=co(c,l),4!==Ll&&(Ll=2),null===zl?zl=[a]:zl.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,zi(a,po(0,c,t));break e;case 1:l=c;var v=a.type,x=a.stateNode;if(0===(128&a.flags)&&("function"===typeof v.getDerivedStateFromError||null!==x&&"function"===typeof x.componentDidCatch&&(null===Gl||!Gl.has(x)))){a.flags|=65536,t&=-t,a.lanes|=t,zi(a,mo(a,l,t));break e}}a=a.return}while(null!==a)}Nc(n)}catch(b){t=b,Al===n&&null!==n&&(Al=n=n.return);continue}break}}function gc(){var e=Tl.current;return Tl.current=Xa,null===e?Xa:e}function yc(){0!==Ll&&3!==Ll&&2!==Ll||(Ll=4),null===Pl||0===(268435455&Fl)&&0===(268435455&Ul)||cc(Pl,Rl)}function vc(e,t){var n=Il;Il|=2;var r=gc();for(Pl===e&&Rl===t||(Hl=null,pc(e,t));;)try{xc();break}catch(s){mc(e,s)}if(Si(),Il=n,Tl.current=r,null!==Al)throw Error(i(261));return Pl=null,Rl=0,Ll}function xc(){for(;null!==Al;)wc(Al)}function bc(){for(;null!==Al&&!Qe();)wc(Al)}function wc(e){var t=_l(e.alternate,e,Dl);e.memoizedProps=e.pendingProps,null===t?Nc(e):Al=t,Cl.current=null}function Nc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Qo(n,t,Dl)))return void(Al=n)}else{if(null!==(n=Jo(n,t)))return n.flags&=32767,void(Al=n);if(null===e)return Ll=6,void(Al=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Al=t);Al=t=e}while(null!==t);0===Ll&&(Ll=5)}function kc(e,t,n){var r=xt,s=jl.transition;try{jl.transition=null,xt=1,function(e,t,n,r){do{Ec()}while(null!==Jl);if(0!==(6&Il))throw Error(i(327));n=e.finishedWork;var s=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-at(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}(e,a),e===Pl&&(Al=Pl=null,Rl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Ql||(Ql=!0,Pc(tt,function(){return Ec(),null})),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=jl.transition,jl.transition=null;var o=xt;xt=1;var l=Il;Il|=4,Cl.current=null,function(e,t){if(es=qt,fr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var s=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(Sa){n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==s&&3!==h.nodeType||(l=o+s),h!==a||0!==r&&3!==h.nodeType||(c=o+r),3===h.nodeType&&(o+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===s&&(l=o),f===a&&++d===r&&(c=o),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ts={focusedElem:e,selectionRange:n},qt=!1,el=t;null!==el;)if(e=(t=el).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,el=e;else for(;null!==el;){t=el;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,y=m.memoizedState,v=t.stateNode,x=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:no(t.type,g),y);v.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(i(163))}}catch(Sa){Sc(t,t.return,Sa)}if(null!==(e=t.sibling)){e.return=t.return,el=e;break}el=t.return}m=rl,rl=!1}(e,n),vl(n,e),pr(ts),qt=!!es,ts=es=null,e.current=n,bl(n,e,s),Je(),Il=l,xt=o,jl.transition=a}else e.current=n;if(Ql&&(Ql=!1,Jl=e,Yl=s),a=e.pendingLanes,0===a&&(Gl=null),function(e){if(it&&"function"===typeof it.onCommitFiberRoot)try{it.onCommitFiberRoot(st,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ic(e,Ye()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Wl)throw Wl=!1,e=Kl,Kl=null,e;0!==(1&Yl)&&0!==e.tag&&Ec(),a=e.pendingLanes,0!==(1&a)?e===Zl?Xl++:(Xl=0,Zl=e):Xl=0,Bs()}(e,t,n,r)}finally{jl.transition=s,xt=r}return null}function Ec(){if(null!==Jl){var e=bt(Yl),t=jl.transition,n=xt;try{if(jl.transition=null,xt=16>e?16:e,null===Jl)var r=!1;else{if(e=Jl,Jl=null,Yl=0,0!==(6&Il))throw Error(i(331));var s=Il;for(Il|=4,el=e.current;null!==el;){var a=el,o=a.child;if(0!==(16&el.flags)){var l=a.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(el=u;null!==el;){var d=el;switch(d.tag){case 0:case 11:case 15:sl(8,d,a)}var h=d.child;if(null!==h)h.return=d,el=h;else for(;null!==el;){var f=(d=el).sibling,p=d.return;if(ol(d),d===u){el=null;break}if(null!==f){f.return=p,el=f;break}el=p}}}var m=a.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(null!==g)}}el=a}}if(0!==(2064&a.subtreeFlags)&&null!==o)o.return=a,el=o;else e:for(;null!==el;){if(0!==(2048&(a=el).flags))switch(a.tag){case 0:case 11:case 15:sl(9,a,a.return)}var v=a.sibling;if(null!==v){v.return=a.return,el=v;break e}el=a.return}}var x=e.current;for(el=x;null!==el;){var b=(o=el).child;if(0!==(2064&o.subtreeFlags)&&null!==b)b.return=o,el=b;else e:for(o=x;null!==el;){if(0!==(2048&(l=el).flags))try{switch(l.tag){case 0:case 11:case 15:il(9,l)}}catch(N){Sc(l,l.return,N)}if(l===o){el=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,el=w;break e}el=l.return}}if(Il=s,Bs(),it&&"function"===typeof it.onPostCommitFiberRoot)try{it.onPostCommitFiberRoot(st,e)}catch(N){}r=!0}return r}finally{xt=n,jl.transition=t}}return!1}function _c(e,t,n){e=Ui(e,t=po(0,t=co(n,t),1),1),t=nc(),null!==e&&(yt(e,1,t),ic(e,t))}function Sc(e,t,n){if(3===e.tag)_c(e,e,n);else for(;null!==t;){if(3===t.tag){_c(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Gl||!Gl.has(r))){t=Ui(t,e=mo(t,e=co(n,e),1),1),e=nc(),null!==t&&(yt(t,1,e),ic(t,e));break}}t=t.return}}function Tc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=nc(),e.pingedLanes|=e.suspendedLanes&n,Pl===e&&(Rl&n)===n&&(4===Ll||3===Ll&&(130023424&Rl)===Rl&&500>Ye()-$l?pc(e,0):Vl|=n),ic(e,t)}function Cc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=nc();null!==(e=Di(e,t))&&(yt(e,t,n),ic(e,n))}function jc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Cc(e,n)}function Ic(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;null!==s&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(i(314))}null!==r&&r.delete(t),Cc(e,n)}function Pc(e,t){return Ke(e,t)}function Ac(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rc(e,t,n,r){return new Ac(e,t,n,r)}function Dc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Oc(e,t){var n=e.alternate;return null===n?((n=Rc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Lc(e,t,n,r,s,a){var o=2;if(r=e,"function"===typeof e)Dc(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case k:return Mc(n.children,s,a,t);case E:o=8,s|=8;break;case _:return(e=Rc(12,n,t,2|s)).elementType=_,e.lanes=a,e;case j:return(e=Rc(13,n,t,s)).elementType=j,e.lanes=a,e;case I:return(e=Rc(19,n,t,s)).elementType=I,e.lanes=a,e;case R:return Fc(n,s,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case S:o=10;break e;case T:o=9;break e;case C:o=11;break e;case P:o=14;break e;case A:o=16,r=null;break e}throw Error(i(130,null==e?e:typeof e,""))}return(t=Rc(o,n,t,s)).elementType=e,t.type=r,t.lanes=a,t}function Mc(e,t,n,r){return(e=Rc(7,e,r,t)).lanes=n,e}function Fc(e,t,n,r){return(e=Rc(22,e,r,t)).elementType=R,e.lanes=n,e.stateNode={isHidden:!1},e}function Uc(e,t,n){return(e=Rc(6,e,null,t)).lanes=n,e}function Vc(e,t,n){return(t=Rc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function zc(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Bc(e,t,n,r,s,i,a,o,l){return e=new zc(e,t,n,o,l),1===t?(t=1,!0===i&&(t|=8)):t=0,i=Rc(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Li(i),e}function $c(e){if(!e)return Ts;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(As(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(i(171))}if(1===e.tag){var n=e.type;if(As(n))return Os(e,n,t)}return t}function qc(e,t,n,r,s,i,a,o,l){return(e=Bc(n,r,!0,e,0,i,0,o,l)).context=$c(null),n=e.current,(i=Fi(r=nc(),s=rc(n))).callback=void 0!==t&&null!==t?t:null,Ui(n,i,s),e.current.lanes=s,yt(e,s,r),ic(e,r),e}function Hc(e,t,n,r){var s=t.current,i=nc(),a=rc(s);return n=$c(n),null===t.context?t.context=n:t.pendingContext=n,(t=Fi(i,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Ui(s,t,a))&&(sc(e,s,a,i),Vi(e,s,a)),a}function Wc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Kc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gc(e,t){Kc(e,t),(e=e.alternate)&&Kc(e,t)}_l=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||js.current)bo=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bo=!1,function(e,t,n){switch(t.tag){case 3:Po(t),fi();break;case 5:Yi(t);break;case 1:As(t.type)&&Ls(t);break;case 4:Qi(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;Ss(Ni,r._currentValue),r._currentValue=s;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ss(Zi,1&Zi.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Uo(e,t,n):(Ss(Zi,1&Zi.current),null!==(e=Wo(e,t,n))?e.sibling:null);Ss(Zi,1&Zi.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return qo(e,t,n);t.flags|=128}if(null!==(s=t.memoizedState)&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ss(Zi,Zi.current),r)break;return null;case 22:case 23:return t.lanes=0,So(e,t,n)}return Wo(e,t,n)}(e,t,n);bo=0!==(131072&e.flags)}else bo=!1,si&&0!==(1048576&t.flags)&&Zs(t,Ws,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ho(e,t),e=t.pendingProps;var s=Ps(t,Cs.current);ji(t,n),s=ma(null,t,r,e,s,n);var a=ga();return t.flags|=1,"object"===typeof s&&null!==s&&"function"===typeof s.render&&void 0===s.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,As(r)?(a=!0,Ls(t)):a=!1,t.memoizedState=null!==s.state&&void 0!==s.state?s.state:null,Li(t),s.updater=so,t.stateNode=s,s._reactInternals=t,lo(t,r,e,n),t=Io(null,t,r,!0,a,n)):(t.tag=0,si&&a&&ei(t),No(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ho(e,t),e=t.pendingProps,r=(s=r._init)(r._payload),t.type=r,s=t.tag=function(e){if("function"===typeof e)return Dc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===P)return 14}return 2}(r),e=no(r,e),s){case 0:t=Co(null,t,r,e,n);break e;case 1:t=jo(null,t,r,e,n);break e;case 11:t=ko(null,t,r,e,n);break e;case 14:t=Eo(null,t,r,no(r.type,e),n);break e}throw Error(i(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,Co(e,t,r,s=t.elementType===r?s:no(r,s),n);case 1:return r=t.type,s=t.pendingProps,jo(e,t,r,s=t.elementType===r?s:no(r,s),n);case 3:e:{if(Po(t),null===e)throw Error(i(387));r=t.pendingProps,s=(a=t.memoizedState).element,Mi(e,t),Bi(t,r,null,n);var o=t.memoizedState;if(r=o.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Ao(e,t,r,n,s=co(Error(i(423)),t));break e}if(r!==s){t=Ao(e,t,r,n,s=co(Error(i(424)),t));break e}for(ri=cs(t.stateNode.containerInfo.firstChild),ni=t,si=!0,ii=null,n=wi(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fi(),r===s){t=Wo(e,t,n);break e}No(e,t,r,n)}t=t.child}return t;case 5:return Yi(t),null===e&&ci(t),r=t.type,s=t.pendingProps,a=null!==e?e.memoizedProps:null,o=s.children,ns(r,s)?o=null:null!==a&&ns(r,a)&&(t.flags|=32),To(e,t),No(e,t,o,n),t.child;case 6:return null===e&&ci(t),null;case 13:return Uo(e,t,n);case 4:return Qi(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=bi(t,null,r,n):No(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,ko(e,t,r,s=t.elementType===r?s:no(r,s),n);case 7:return No(e,t,t.pendingProps,n),t.child;case 8:case 12:return No(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,a=t.memoizedProps,o=s.value,Ss(Ni,r._currentValue),r._currentValue=o,null!==a)if(or(a.value,o)){if(a.children===s.children&&!js.current){t=Wo(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){o=a.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===a.tag){(c=Fi(-1,n&-n)).tag=2;var u=a.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),Ci(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===a.tag)o=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(o=a.return))throw Error(i(341));o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Ci(o,n,t),o=a.sibling}else o=a.child;if(null!==o)o.return=a;else for(o=a;null!==o;){if(o===t){o=null;break}if(null!==(a=o.sibling)){a.return=o.return,o=a;break}o=o.return}a=o}No(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,ji(t,n),r=r(s=Ii(s)),t.flags|=1,No(e,t,r,n),t.child;case 14:return s=no(r=t.type,t.pendingProps),Eo(e,t,r,s=no(r.type,s),n);case 15:return _o(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:no(r,s),Ho(e,t),t.tag=1,As(r)?(e=!0,Ls(t)):e=!1,ji(t,n),ao(t,r,s),lo(t,r,s,n),Io(null,t,r,!0,e,n);case 19:return qo(e,t,n);case 22:return So(e,t,n)}throw Error(i(156,t.tag))};var Qc="function"===typeof reportError?reportError:function(e){console.error(e)};function Jc(e){this._internalRoot=e}function Yc(e){this._internalRoot=e}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Zc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function eu(){}function tu(e,t,n,r,s){var i=n._reactRootContainer;if(i){var a=i;if("function"===typeof s){var o=s;s=function(){var e=Wc(a);o.call(e)}}Hc(t,a,e,s)}else a=function(e,t,n,r,s){if(s){if("function"===typeof r){var i=r;r=function(){var e=Wc(a);i.call(e)}}var a=qc(t,r,e,0,null,!1,0,"",eu);return e._reactRootContainer=a,e[ps]=a.current,Br(8===e.nodeType?e.parentNode:e),hc(),a}for(;s=e.lastChild;)e.removeChild(s);if("function"===typeof r){var o=r;r=function(){var e=Wc(l);o.call(e)}}var l=Bc(e,0,!1,null,0,!1,0,"",eu);return e._reactRootContainer=l,e[ps]=l.current,Br(8===e.nodeType?e.parentNode:e),hc(function(){Hc(t,l,n,r)}),l}(n,t,e,s,r);return Wc(a)}Yc.prototype.render=Jc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));Hc(e,t,null,null)},Yc.prototype.unmount=Jc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;hc(function(){Hc(null,e,null,null)}),t[ps]=null}},Yc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Et();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rt.length&&0!==t&&t<Rt[n].priority;n++);Rt.splice(n,0,e),0===n&&Mt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(vt(t,1|n),ic(t,Ye()),0===(6&Il)&&(ql=Ye()+500,Bs()))}break;case 13:hc(function(){var t=Di(e,1);if(null!==t){var n=nc();sc(t,e,1,n)}}),Gc(e,1)}},Nt=function(e){if(13===e.tag){var t=Di(e,134217728);if(null!==t)sc(t,e,134217728,nc());Gc(e,134217728)}},kt=function(e){if(13===e.tag){var t=rc(e),n=Di(e,t);if(null!==n)sc(n,e,t,nc());Gc(e,t)}},Et=function(){return xt},_t=function(e,t){var n=xt;try{return xt=e,t()}finally{xt=n}},Ne=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=ws(r);if(!s)throw Error(i(90));K(r),X(r,s)}}}break;case"textarea":ie(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=dc,je=hc;var nu={usingClientEntryPoint:!1,Events:[xs,bs,ws,Se,Te,dc]},ru={findFiberByHostInstance:vs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},su={bundleType:ru.bundleType,version:ru.version,rendererPackageName:ru.rendererPackageName,rendererConfig:ru.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:ru.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var iu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!iu.isDisabled&&iu.supportsFiber)try{st=iu.inject(su),it=iu}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(t))throw Error(i(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:N,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Xc(e))throw Error(i(299));var n=!1,r="",s=Qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(s=t.onRecoverableError)),t=Bc(e,1,!1,null,0,n,0,r,s),e[ps]=t.current,Br(8===e.nodeType?e.parentNode:e),new Jc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return hc(e)},t.hydrate=function(e,t,n){if(!Zc(t))throw Error(i(200));return tu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xc(e))throw Error(i(405));var r=null!=n&&n.hydratedSources||null,s=!1,a="",o=Qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(s=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=qc(t,null,e,1,null!=n?n:null,s,0,a,o),e[ps]=t.current,Br(e),r)for(e=0;e<r.length;e++)s=(s=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Yc(t)},t.render=function(e,t,n){if(!Zc(t))throw Error(i(200));return tu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Zc(e))throw Error(i(40));return!!e._reactRootContainer&&(hc(function(){tu(null,null,e,!1,function(){e._reactRootContainer=null,e[ps]=null})}),!0)},t.unstable_batchedUpdates=dc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Zc(n))throw Error(i(200));if(null==e||void 0===e._reactInternals)throw Error(i(38));return tu(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},853:(e,t,n)=>{e.exports=n(234)},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)}},t={};function n(r){var s=t[r];if(void 0!==s)return s.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,s){if(1&s&&(r=this(r)),8&s)return r;if("object"===typeof r&&r){if(4&s&&r.__esModule)return r;if(16&s&&"function"===typeof r.then)return r}var i=Object.create(null);n.r(i);var a={};e=e||[null,t({}),t([]),t(t)];for(var o=2&s&&r;("object"==typeof o||"function"==typeof o)&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach(e=>a[e]=()=>r[e]);return a.default=()=>r,n.d(i,a),i}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r,s=n(43),i=n.t(s,2),a=n(391),o=n(950),l=n.t(o,2);function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(r||(r={}));const u="popstate";function d(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function h(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function f(e,t){return{usr:e.state,key:e.key,idx:t}}function p(e,t,n,r){return void 0===n&&(n=null),c({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?g(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function m(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function g(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function y(e,t,n,s){void 0===s&&(s={});let{window:i=document.defaultView,v5Compat:a=!1}=s,o=i.history,l=r.Pop,h=null,g=y();function y(){return(o.state||{idx:null}).idx}function v(){l=r.Pop;let e=y(),t=null==e?null:e-g;g=e,h&&h({action:l,location:b.location,delta:t})}function x(e){let t="null"!==i.location.origin?i.location.origin:i.location.href,n="string"===typeof e?e:m(e);return d(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==g&&(g=0,o.replaceState(c({},o.state,{idx:g}),""));let b={get action(){return l},get location(){return e(i,o)},listen(e){if(h)throw new Error("A history only accepts one active listener");return i.addEventListener(u,v),h=e,()=>{i.removeEventListener(u,v),h=null}},createHref:e=>t(i,e),createURL:x,encodeLocation(e){let t=x(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){l=r.Push;let s=p(b.location,e,t);n&&n(s,e),g=y()+1;let c=f(s,g),u=b.createHref(s);try{o.pushState(c,"",u)}catch(d){if(d instanceof DOMException&&"DataCloneError"===d.name)throw d;i.location.assign(u)}a&&h&&h({action:l,location:b.location,delta:1})},replace:function(e,t){l=r.Replace;let s=p(b.location,e,t);n&&n(s,e),g=y();let i=f(s,g),c=b.createHref(s);o.replaceState(i,"",c),a&&h&&h({action:l,location:b.location,delta:0})},go:e=>o.go(e)};return b}var v;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(v||(v={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function x(e,t,n){void 0===n&&(n="/");let r=R(("string"===typeof t?g(t):t).pathname||"/",n);if(null==r)return null;let s=b(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(s);let i=null;for(let a=0;null==i&&a<s.length;++a)i=I(s[a],A(r));return i}function b(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let s=(e,s,i)=>{let a={relativePath:void 0===i?e.path||"":i,caseSensitive:!0===e.caseSensitive,childrenIndex:s,route:e};a.relativePath.startsWith("/")&&(d(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(r.length));let o=M([r,a.relativePath]),l=n.concat(a);e.children&&e.children.length>0&&(d(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+o+'".'),b(e.children,t,l,o)),(null!=e.path||e.index)&&t.push({path:o,score:j(o,e.index),routesMeta:l})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of w(e.path))s(e,t,r);else s(e,t)}),t}function w(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(0===r.length)return s?[i,""]:[i];let a=w(r.join("/")),o=[];return o.push(...a.map(e=>""===e?i:[i,e].join("/"))),s&&o.push(...a),o.map(t=>e.startsWith("/")&&""===t?"/":t)}const N=/^:\w+$/,k=3,E=2,_=1,S=10,T=-2,C=e=>"*"===e;function j(e,t){let n=e.split("/"),r=n.length;return n.some(C)&&(r+=T),t&&(r+=E),n.filter(e=>!C(e)).reduce((e,t)=>e+(N.test(t)?k:""===t?_:S),r)}function I(e,t){let{routesMeta:n}=e,r={},s="/",i=[];for(let a=0;a<n.length;++a){let e=n[a],o=a===n.length-1,l="/"===s?t:t.slice(s.length)||"/",c=P({path:e.relativePath,caseSensitive:e.caseSensitive,end:o},l);if(!c)return null;Object.assign(r,c.params);let u=e.route;i.push({params:r,pathname:M([s,c.pathname]),pathnameBase:F(M([s,c.pathnameBase])),route:u}),"/"!==c.pathnameBase&&(s=M([s,c.pathnameBase]))}return i}function P(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);h("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(r.push({paramName:"*"}),s+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":""!==e&&"/"!==e&&(s+="(?:(?=\\/|$))");let i=new RegExp(s,t?void 0:"i");return[i,r]}(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),o=s.slice(1);return{params:r.reduce((e,t,n)=>{let{paramName:r,isOptional:s}=t;if("*"===r){let e=o[n]||"";a=i.slice(0,i.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[n];return e[r]=s&&!l?void 0:function(e,t){try{return decodeURIComponent(e)}catch(n){return h(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(l||"",r),e},{}),pathname:i,pathnameBase:a,pattern:e}}function A(e){try{return decodeURI(e)}catch(t){return h(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function R(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function D(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function O(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function L(e,t,n,r){let s;void 0===r&&(r=!1),"string"===typeof e?s=g(e):(s=c({},e),d(!s.pathname||!s.pathname.includes("?"),D("?","pathname","search",s)),d(!s.pathname||!s.pathname.includes("#"),D("#","pathname","hash",s)),d(!s.search||!s.search.includes("#"),D("#","search","hash",s)));let i,a=""===e||""===s.pathname,o=a?"/":s.pathname;if(null==o)i=n;else if(r){let e=t[t.length-1].replace(/^\//,"").split("/");if(o.startsWith("..")){let t=o.split("/");for(;".."===t[0];)t.shift(),e.pop();s.pathname=t.join("/")}i="/"+e.join("/")}else{let e=t.length-1;if(o.startsWith("..")){let t=o.split("/");for(;".."===t[0];)t.shift(),e-=1;s.pathname=t.join("/")}i=e>=0?t[e]:"/"}let l=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:s=""}="string"===typeof e?g(e):e,i=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:i,search:U(r),hash:V(s)}}(s,i),u=o&&"/"!==o&&o.endsWith("/"),h=(a||"."===o)&&n.endsWith("/");return l.pathname.endsWith("/")||!u&&!h||(l.pathname+="/"),l}const M=e=>e.join("/").replace(/\/\/+/g,"/"),F=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),U=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",V=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function z(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const B=["post","put","patch","delete"],$=(new Set(B),["get",...B]);new Set($),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function q(){return q=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},q.apply(this,arguments)}const H=s.createContext(null);const W=s.createContext(null);const K=s.createContext(null);const G=s.createContext(null);const Q=s.createContext({outlet:null,matches:[],isDataRoute:!1});const J=s.createContext(null);function Y(){return null!=s.useContext(G)}function X(){return Y()||d(!1),s.useContext(G).location}function Z(e){s.useContext(K).static||s.useLayoutEffect(e)}function ee(){let{isDataRoute:e}=s.useContext(Q);return e?function(){let{router:e}=de(ce.UseNavigateStable),t=fe(ue.UseNavigateStable),n=s.useRef(!1);return Z(()=>{n.current=!0}),s.useCallback(function(r,s){void 0===s&&(s={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,q({fromRouteId:t},s)))},[e,t])}():function(){Y()||d(!1);let e=s.useContext(H),{basename:t,navigator:n}=s.useContext(K),{matches:r}=s.useContext(Q),{pathname:i}=X(),a=JSON.stringify(O(r).map(e=>e.pathnameBase)),o=s.useRef(!1);return Z(()=>{o.current=!0}),s.useCallback(function(r,s){if(void 0===s&&(s={}),!o.current)return;if("number"===typeof r)return void n.go(r);let l=L(r,JSON.parse(a),i,"path"===s.relative);null==e&&"/"!==t&&(l.pathname="/"===l.pathname?t:M([t,l.pathname])),(s.replace?n.replace:n.push)(l,s.state,s)},[t,n,a,i,e])}()}const te=s.createContext(null);function ne(e,t){let{relative:n}=void 0===t?{}:t,{matches:r}=s.useContext(Q),{pathname:i}=X(),a=JSON.stringify(O(r).map(e=>e.pathnameBase));return s.useMemo(()=>L(e,JSON.parse(a),i,"path"===n),[e,a,i,n])}function re(e,t,n){Y()||d(!1);let{navigator:i}=s.useContext(K),{matches:a}=s.useContext(Q),o=a[a.length-1],l=o?o.params:{},c=(o&&o.pathname,o?o.pathnameBase:"/");o&&o.route;let u,h=X();if(t){var f;let e="string"===typeof t?g(t):t;"/"===c||(null==(f=e.pathname)?void 0:f.startsWith(c))||d(!1),u=e}else u=h;let p=u.pathname||"/",m=x(e,{pathname:"/"===c?p:p.slice(c.length)||"/"});let y=le(m&&m.map(e=>Object.assign({},e,{params:Object.assign({},l,e.params),pathname:M([c,i.encodeLocation?i.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?c:M([c,i.encodeLocation?i.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),a,n);return t&&y?s.createElement(G.Provider,{value:{location:q({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:r.Pop}},y):y}function se(){let e=function(){var e;let t=s.useContext(J),n=he(ue.UseRouteError),r=fe(ue.UseRouteError);if(t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=z(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r};return s.createElement(s.Fragment,null,s.createElement("h2",null,"Unexpected Application Error!"),s.createElement("h3",{style:{fontStyle:"italic"}},t),n?s.createElement("pre",{style:i},n):null,null)}const ie=s.createElement(se,null);class ae extends s.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error?s.createElement(Q.Provider,{value:this.props.routeContext},s.createElement(J.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function oe(e){let{routeContext:t,match:n,children:r}=e,i=s.useContext(H);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),s.createElement(Q.Provider,{value:t},r)}function le(e,t,n){var r;if(void 0===t&&(t=[]),void 0===n&&(n=null),null==e){var i;if(null==(i=n)||!i.errors)return null;e=n.matches}let a=e,o=null==(r=n)?void 0:r.errors;if(null!=o){let e=a.findIndex(e=>e.route.id&&(null==o?void 0:o[e.route.id]));e>=0||d(!1),a=a.slice(0,Math.min(a.length,e+1))}return a.reduceRight((e,r,i)=>{let l=r.route.id?null==o?void 0:o[r.route.id]:null,c=null;n&&(c=r.route.errorElement||ie);let u=t.concat(a.slice(0,i+1)),d=()=>{let t;return t=l?c:r.route.Component?s.createElement(r.route.Component,null):r.route.element?r.route.element:e,s.createElement(oe,{match:r,routeContext:{outlet:e,matches:u,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===i)?s.createElement(ae,{location:n.location,revalidation:n.revalidation,component:c,error:l,children:d(),routeContext:{outlet:null,matches:u,isDataRoute:!0}}):d()},null)}var ce=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(ce||{}),ue=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ue||{});function de(e){let t=s.useContext(H);return t||d(!1),t}function he(e){let t=s.useContext(W);return t||d(!1),t}function fe(e){let t=function(){let e=s.useContext(Q);return e||d(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||d(!1),n.route.id}i.startTransition;function pe(e){let{to:t,replace:n,state:r,relative:i}=e;Y()||d(!1);let{matches:a}=s.useContext(Q),{pathname:o}=X(),l=ee(),c=L(t,O(a).map(e=>e.pathnameBase),o,"path"===i),u=JSON.stringify(c);return s.useEffect(()=>l(JSON.parse(u),{replace:n,state:r,relative:i}),[l,u,i,n,r]),null}function me(e){return function(e){let t=s.useContext(Q).outlet;return t?s.createElement(te.Provider,{value:e},t):t}(e.context)}function ge(e){d(!1)}function ye(e){let{basename:t="/",children:n=null,location:i,navigationType:a=r.Pop,navigator:o,static:l=!1}=e;Y()&&d(!1);let c=t.replace(/^\/*/,"/"),u=s.useMemo(()=>({basename:c,navigator:o,static:l}),[c,o,l]);"string"===typeof i&&(i=g(i));let{pathname:h="/",search:f="",hash:p="",state:m=null,key:y="default"}=i,v=s.useMemo(()=>{let e=R(h,c);return null==e?null:{location:{pathname:e,search:f,hash:p,state:m,key:y},navigationType:a}},[c,h,f,p,m,y,a]);return null==v?null:s.createElement(K.Provider,{value:u},s.createElement(G.Provider,{children:n,value:v}))}function ve(e){let{children:t,location:n}=e;return re(xe(t),n)}new Promise(()=>{});s.Component;function xe(e,t){void 0===t&&(t=[]);let n=[];return s.Children.forEach(e,(e,r)=>{if(!s.isValidElement(e))return;let i=[...t,r];if(e.type===s.Fragment)return void n.push.apply(n,xe(e.props.children,i));e.type!==ge&&d(!1),e.props.index&&e.props.children&&d(!1);let a={id:e.props.id||i.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(a.children=xe(e.props.children,i)),n.push(a)}),n}function be(){return be=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},be.apply(this,arguments)}function we(e,t){if(null==e)return{};var n,r,s={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(s[n]=e[n]);return s}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const Ne=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"];new Map;const ke=i.startTransition;l.flushSync;function Ee(e){let{basename:t,children:n,future:r,window:i}=e,a=s.useRef();var o;null==a.current&&(a.current=(void 0===(o={window:i,v5Compat:!0})&&(o={}),y(function(e,t){let{pathname:n,search:r,hash:s}=e.location;return p("",{pathname:n,search:r,hash:s},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:m(t)},null,o)));let l=a.current,[c,u]=s.useState({action:l.action,location:l.location}),{v7_startTransition:d}=r||{},h=s.useCallback(e=>{d&&ke?ke(()=>u(e)):u(e)},[u,d]);return s.useLayoutEffect(()=>l.listen(h),[l,h]),s.createElement(ye,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:l})}const _e="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Se=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Te=s.forwardRef(function(e,t){let n,{onClick:r,relative:i,reloadDocument:a,replace:o,state:l,target:c,to:u,preventScrollReset:h,unstable_viewTransition:f}=e,p=we(e,Ne),{basename:g}=s.useContext(K),y=!1;if("string"===typeof u&&Se.test(u)&&(n=u,_e))try{let e=new URL(window.location.href),t=u.startsWith("//")?new URL(e.protocol+u):new URL(u),n=R(t.pathname,g);t.origin===e.origin&&null!=n?u=n+t.search+t.hash:y=!0}catch(b){}let v=function(e,t){let{relative:n}=void 0===t?{}:t;Y()||d(!1);let{basename:r,navigator:i}=s.useContext(K),{hash:a,pathname:o,search:l}=ne(e,{relative:n}),c=o;return"/"!==r&&(c="/"===o?r:M([r,o])),i.createHref({pathname:c,search:l,hash:a})}(u,{relative:i}),x=function(e,t){let{target:n,replace:r,state:i,preventScrollReset:a,relative:o,unstable_viewTransition:l}=void 0===t?{}:t,c=ee(),u=X(),d=ne(e,{relative:o});return s.useCallback(t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==r?r:m(u)===m(d);c(e,{replace:n,state:i,preventScrollReset:a,relative:o,unstable_viewTransition:l})}},[u,c,d,r,i,n,e,a,o,l])}(u,{replace:o,state:l,target:c,preventScrollReset:h,relative:i,unstable_viewTransition:f});return s.createElement("a",be({},p,{href:n||v,onClick:y||a?r:function(e){r&&r(e),e.defaultPrevented||x(e)},ref:t,target:c}))});var Ce,je;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Ce||(Ce={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(je||(je={}));const Ie=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let s=e.charCodeAt(r);s<128?t[n++]=s:s<2048?(t[n++]=s>>6|192,t[n++]=63&s|128):55296===(64512&s)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(s=65536+((1023&s)<<10)+(1023&e.charCodeAt(++r)),t[n++]=s>>18|240,t[n++]=s>>12&63|128,t[n++]=s>>6&63|128,t[n++]=63&s|128):(t[n++]=s>>12|224,t[n++]=s>>6&63|128,t[n++]=63&s|128)}return t},Pe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<e.length;s+=3){const t=e[s],i=s+1<e.length,a=i?e[s+1]:0,o=s+2<e.length,l=o?e[s+2]:0,c=t>>2,u=(3&t)<<4|a>>4;let d=(15&a)<<2|l>>6,h=63&l;o||(h=64,i||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Ie(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const s=e[n++];if(s<128)t[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=e[n++];t[r++]=String.fromCharCode((31&s)<<6|63&i)}else if(s>239&&s<365){const i=((7&s)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(i>>10)),t[r++]=String.fromCharCode(56320+(1023&i))}else{const i=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&s)<<12|(63&i)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<e.length;){const t=n[e.charAt(s++)],i=s<e.length?n[e.charAt(s)]:0;++s;const a=s<e.length?n[e.charAt(s)]:64;++s;const o=s<e.length?n[e.charAt(s)]:64;if(++s,null==t||null==i||null==a||null==o)throw new Ae;const l=t<<2|i>>4;if(r.push(l),64!==a){const e=i<<4&240|a>>2;if(r.push(e),64!==o){const e=a<<6&192|o;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Ae extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Re=function(e){return function(e){const t=Ie(e);return Pe.encodeByteArray(t,!0)}(e).replace(/\./g,"")},De=function(e){try{return Pe.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Oe(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}const Le=()=>{try{return Oe().__FIREBASE_DEFAULTS__||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&De(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`)}},Me=e=>{var t,n;return null===(n=null===(t=Le())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},Fe=()=>{var e;return null===(e=Le())||void 0===e?void 0:e.config},Ue=e=>{var t;return null===(t=Le())||void 0===t?void 0:t[`_${e}`]};class Ve{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function ze(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch(t){return!1}}async function Be(e){return(await fetch(e,{credentials:"include"})).ok}const $e={};let qe=!1;function He(e,t){if("undefined"===typeof window||"undefined"===typeof document||!ze(window.location.host)||$e[e]===t||$e[e]||qe)return;function n(e){return`__firebase__banner__${e}`}$e[e]=t;const r="__firebase__banner",s=function(){const e={prod:[],emulator:[]};for(const t of Object.keys($e))$e[t]?e.emulator.push(t):e.prod.push(t);return e}().prod.length>0;function i(){const e=document.createElement("span");return e.style.cursor="pointer",e.style.marginLeft="16px",e.style.fontSize="24px",e.innerHTML=" &times;",e.onclick=()=>{qe=!0,function(){const e=document.getElementById(r);e&&e.remove()}()},e}function a(){const e=function(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}(r),t=n("text"),a=document.getElementById(t)||document.createElement("span"),o=n("learnmore"),l=document.getElementById(o)||document.createElement("a"),c=n("preprendIcon"),u=document.getElementById(c)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(e.created){const t=e.element;!function(e){e.style.display="flex",e.style.background="#7faaf0",e.style.position="fixed",e.style.bottom="5px",e.style.left="5px",e.style.padding=".5em",e.style.borderRadius="5px",e.style.alignItems="center"}(t),function(e,t){e.setAttribute("id",t),e.innerText="Learn more",e.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",e.setAttribute("target","__blank"),e.style.paddingLeft="5px",e.style.textDecoration="underline"}(l,o);const n=i();!function(e,t){e.setAttribute("width","24"),e.setAttribute("id",t),e.setAttribute("height","24"),e.setAttribute("viewBox","0 0 24 24"),e.setAttribute("fill","none"),e.style.marginLeft="-6px"}(u,c),t.append(u,a,l,n),document.body.appendChild(t)}s?(a.innerText="Preview backend disconnected.",u.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(u.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',a.innerText="Preview backend running in this workspace."),a.setAttribute("id",t)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",a):a()}function We(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Ke(){var e;const t=null===(e=Le())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}function Ge(){return!Ke()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Qe(){try{return"object"===typeof indexedDB}catch(e){return!1}}class Je extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,Je.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ye.prototype.create)}}class Ye{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n=`${this.service}/${e}`,r=this.errors[e],s=r?function(e,t){return e.replace(Xe,(e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`})}(r,t):"Error",i=`${this.serviceName}: ${s} (${n}).`;return new Je(n,i,t)}}const Xe=/\{\$([^}]+)}/g;function Ze(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const s of n){if(!r.includes(s))return!1;const n=e[s],i=t[s];if(et(n)&&et(i)){if(!Ze(n,i))return!1}else if(n!==i)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function et(e){return null!==e&&"object"===typeof e}function tt(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function nt(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function rt(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class st{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=it),void 0===r.error&&(r.error=it),void 0===r.complete&&(r.complete=it);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}}),this.observers.push(r),s}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function it(){}function at(e){return e&&e._delegate?e._delegate:e}class ot{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const lt="[DEFAULT]";class ct{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new Ve;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:lt})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lt;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lt;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lt;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[s,i]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(s)&&i.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),s=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const s of n)try{s(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(s=t,s===lt?void 0:s),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(i){}var s;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lt;return this.component?this.component.multipleInstances?e:lt:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ut{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new ct(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const dt=[];var ht;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(ht||(ht={}));const ft={debug:ht.DEBUG,verbose:ht.VERBOSE,info:ht.INFO,warn:ht.WARN,error:ht.ERROR,silent:ht.SILENT},pt=ht.INFO,mt={[ht.DEBUG]:"log",[ht.VERBOSE]:"log",[ht.INFO]:"info",[ht.WARN]:"warn",[ht.ERROR]:"error"},gt=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=mt[t];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);for(var s=arguments.length,i=new Array(s>2?s-2:0),a=2;a<s;a++)i[a-2]=arguments[a];console[r](`[${n}]  ${e.name}:`,...i)};class yt{constructor(e){this.name=e,this._logLevel=pt,this._logHandler=gt,this._userLogHandler=null,dt.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ht))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?ft[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ht.DEBUG,...t),this._logHandler(this,ht.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ht.VERBOSE,...t),this._logHandler(this,ht.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ht.INFO,...t),this._logHandler(this,ht.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ht.WARN,...t),this._logHandler(this,ht.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ht.ERROR,...t),this._logHandler(this,ht.ERROR,...t)}}let vt,xt;const bt=new WeakMap,wt=new WeakMap,Nt=new WeakMap,kt=new WeakMap,Et=new WeakMap;let _t={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return wt.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Nt.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ct(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function St(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(xt||(xt=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(jt(this),n),Ct(bt.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Ct(e.apply(jt(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];const i=e.call(jt(this),t,...r);return Nt.set(i,t.sort?t.sort():[t]),Ct(i)}}function Tt(e){return"function"===typeof e?St(e):(e instanceof IDBTransaction&&function(e){if(wt.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",i),e.removeEventListener("abort",i)},s=()=>{t(),r()},i=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",s),e.addEventListener("error",i),e.addEventListener("abort",i)});wt.set(e,t)}(e),t=e,(vt||(vt=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(e=>t instanceof e)?new Proxy(e,_t):e);var t}function Ct(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",s),e.removeEventListener("error",i)},s=()=>{t(Ct(e.result)),r()},i=()=>{n(e.error),r()};e.addEventListener("success",s),e.addEventListener("error",i)});return t.then(t=>{t instanceof IDBCursor&&bt.set(t,e)}).catch(()=>{}),Et.set(t,e),t}(e);if(kt.has(e))return kt.get(e);const t=Tt(e);return t!==e&&(kt.set(e,t),Et.set(t,e)),t}const jt=e=>Et.get(e);const It=["get","getKey","getAll","getAllKeys","count"],Pt=["put","add","delete","clear"],At=new Map;function Rt(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(At.get(t))return At.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,s=Pt.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!s&&!It.includes(n))return;const i=async function(e){const t=this.transaction(e,s?"readwrite":"readonly");let i=t.store;for(var a=arguments.length,o=new Array(a>1?a-1:0),l=1;l<a;l++)o[l-1]=arguments[l];return r&&(i=i.index(o.shift())),(await Promise.all([i[n](...o),s&&t.done]))[0]};return At.set(t,i),i}_t=(e=>({...e,get:(t,n,r)=>Rt(t,n)||e.get(t,n,r),has:(t,n)=>!!Rt(t,n)||e.has(t,n)}))(_t);class Dt{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null}).filter(e=>e).join(" ")}}const Ot="@firebase/app",Lt="0.13.2",Mt=new yt("@firebase/app"),Ft="@firebase/app-compat",Ut="@firebase/analytics-compat",Vt="@firebase/analytics",zt="@firebase/app-check-compat",Bt="@firebase/app-check",$t="@firebase/auth",qt="@firebase/auth-compat",Ht="@firebase/database",Wt="@firebase/data-connect",Kt="@firebase/database-compat",Gt="@firebase/functions",Qt="@firebase/functions-compat",Jt="@firebase/installations",Yt="@firebase/installations-compat",Xt="@firebase/messaging",Zt="@firebase/messaging-compat",en="@firebase/performance",tn="@firebase/performance-compat",nn="@firebase/remote-config",rn="@firebase/remote-config-compat",sn="@firebase/storage",an="@firebase/storage-compat",on="@firebase/firestore",ln="@firebase/ai",cn="@firebase/firestore-compat",un="firebase",dn="[DEFAULT]",hn={[Ot]:"fire-core",[Ft]:"fire-core-compat",[Vt]:"fire-analytics",[Ut]:"fire-analytics-compat",[Bt]:"fire-app-check",[zt]:"fire-app-check-compat",[$t]:"fire-auth",[qt]:"fire-auth-compat",[Ht]:"fire-rtdb",[Wt]:"fire-data-connect",[Kt]:"fire-rtdb-compat",[Gt]:"fire-fn",[Qt]:"fire-fn-compat",[Jt]:"fire-iid",[Yt]:"fire-iid-compat",[Xt]:"fire-fcm",[Zt]:"fire-fcm-compat",[en]:"fire-perf",[tn]:"fire-perf-compat",[nn]:"fire-rc",[rn]:"fire-rc-compat",[sn]:"fire-gcs",[an]:"fire-gcs-compat",[on]:"fire-fst",[cn]:"fire-fst-compat",[ln]:"fire-vertex","fire-js":"fire-js",[un]:"fire-js-all"},fn=new Map,pn=new Map,mn=new Map;function gn(e,t){try{e.container.addComponent(t)}catch(n){Mt.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function yn(e){const t=e.name;if(mn.has(t))return Mt.debug(`There were multiple attempts to register component ${t}.`),!1;mn.set(t,e);for(const n of fn.values())gn(n,e);for(const n of pn.values())gn(n,e);return!0}function vn(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function xn(e){return null!==e&&void 0!==e&&void 0!==e.settings}const bn=new Ye("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class wn{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new ot("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw bn.create("app-deleted",{appName:this._name})}}const Nn="11.10.0";function kn(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:dn,automaticDataCollectionEnabled:!0},t),s=r.name;if("string"!==typeof s||!s)throw bn.create("bad-app-name",{appName:String(s)});if(n||(n=Fe()),!n)throw bn.create("no-options");const i=fn.get(s);if(i){if(Ze(n,i.options)&&Ze(r,i.config))return i;throw bn.create("duplicate-app",{appName:s})}const a=new ut(s);for(const l of mn.values())a.addComponent(l);const o=new wn(n,r,a);return fn.set(s,o),o}function En(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dn;const t=fn.get(e);if(!t&&e===dn&&Fe())return kn();if(!t)throw bn.create("no-app",{appName:e});return t}function _n(e,t,n){var r;let s=null!==(r=hn[e])&&void 0!==r?r:e;n&&(s+=`-${n}`);const i=s.match(/\s|\//),a=t.match(/\s|\//);if(i||a){const e=[`Unable to register library "${s}" with version "${t}":`];return i&&e.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&a&&e.push("and"),a&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void Mt.warn(e.join(" "))}yn(new ot(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}const Sn="firebase-heartbeat-store";let Tn=null;function Cn(){return Tn||(Tn=function(e,t){let{blocked:n,upgrade:r,blocking:s,terminated:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=indexedDB.open(e,t),o=Ct(a);return r&&a.addEventListener("upgradeneeded",e=>{r(Ct(a.result),e.oldVersion,e.newVersion,Ct(a.transaction),e)}),n&&a.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),o.then(e=>{i&&e.addEventListener("close",()=>i()),s&&e.addEventListener("versionchange",e=>s(e.oldVersion,e.newVersion,e))}).catch(()=>{}),o}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(Sn)}catch(n){console.warn(n)}}}).catch(e=>{throw bn.create("idb-open",{originalErrorMessage:e.message})})),Tn}async function jn(e,t){try{const n=(await Cn()).transaction(Sn,"readwrite"),r=n.objectStore(Sn);await r.put(t,In(e)),await n.done}catch(n){if(n instanceof Je)Mt.warn(n.message);else{const e=bn.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});Mt.warn(e.message)}}}function In(e){return`${e.name}!${e.options.appId}`}class Pn{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Rn(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){var e,t;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=An();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(e=>e.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){Mt.warn(n)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=An(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const s of e){const e=n.find(e=>e.agent===s.agent);if(e){if(e.dates.push(s.date),Dn(n)>t){e.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Dn(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),s=Re(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return Mt.warn(t),""}}}function An(){return(new Date).toISOString().substring(0,10)}class Rn{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!Qe()&&new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var e;t((null===(e=s.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}}).then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await Cn()).transaction(Sn),n=await t.objectStore(Sn).get(In(e));return await t.done,n}catch(t){if(t instanceof Je)Mt.warn(t.message);else{const e=bn.create("idb-get",{originalErrorMessage:null===t||void 0===t?void 0:t.message});Mt.warn(e.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return jn(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return jn(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function Dn(e){return Re(JSON.stringify({version:2,heartbeats:e})).length}var On;On="",yn(new ot("platform-logger",e=>new Dt(e),"PRIVATE")),yn(new ot("heartbeat",e=>new Pn(e),"PRIVATE")),_n(Ot,Lt,On),_n(Ot,Lt,"esm2017"),_n("fire-js","");function Ln(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;function Mn(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Fn=Mn,Un=new Ye("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Vn=new yt("@firebase/auth");function zn(e){if(Vn.logLevel<=ht.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Vn.error(`Auth (${Nn}): ${e}`,...n)}}function Bn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Kn(e,...n)}function $n(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Kn(e,...n)}function qn(e,t,n){const r=Object.assign(Object.assign({},Fn()),{[t]:n});return new Ye("auth","Firebase",r).create(t,{appName:e.name})}function Hn(e){return qn(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Wn(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&Bn(e,"argument-error"),qn(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Kn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return Un.create(e,...n)}function Gn(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),s=2;s<n;s++)r[s-2]=arguments[s];throw Kn(t,...r)}}function Qn(e){const t="INTERNAL ASSERTION FAILED: "+e;throw zn(t),new Error(t)}function Jn(e,t){e||Qn(t)}function Yn(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Xn(){return"http:"===Zn()||"https:"===Zn()}function Zn(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function er(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Xn()||function(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class tr{constructor(e,t){this.shortDelay=e,this.longDelay=t,Jn(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(We())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return er()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function nr(e,t){Jn(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class rr{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void Qn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void Qn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void Qn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const sr={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},ir=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],ar=new tr(3e4,6e4);function or(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function lr(e,t,n,r){return cr(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},async()=>{let s={},i={};r&&("GET"===t?i=r:s={body:JSON.stringify(r)});const a=tt(Object.assign({key:e.config.apiKey},i)).slice(1),o=await e._getAdditionalHeaders();o["Content-Type"]="application/json",e.languageCode&&(o["X-Firebase-Locale"]=e.languageCode);const l=Object.assign({method:t,headers:o},s);return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(l.referrerPolicy="no-referrer"),e.emulatorConfig&&ze(e.emulatorConfig.host)&&(l.credentials="include"),rr.fetch()(await dr(e,e.config.apiHost,n,a),l)})}async function cr(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},sr),t);try{const t=new fr(e),s=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const i=await s.json();if("needConfirmation"in i)throw pr(e,"account-exists-with-different-credential",i);if(s.ok&&!("errorMessage"in i))return i;{const t=s.ok?i.errorMessage:i.error.message,[n,a]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw pr(e,"credential-already-in-use",i);if("EMAIL_EXISTS"===n)throw pr(e,"email-already-in-use",i);if("USER_DISABLED"===n)throw pr(e,"user-disabled",i);const o=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(a)throw qn(e,o,a);Bn(e,o)}}catch(s){if(s instanceof Je)throw s;Bn(e,"network-request-failed",{message:String(s)})}}async function ur(e,t,n,r){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const i=await lr(e,t,n,r,s);return"mfaPendingCredential"in i&&Bn(e,"multi-factor-auth-required",{_serverResponse:i}),i}async function dr(e,t,n,r){const s=`${t}${n}?${r}`,i=e,a=i.config.emulator?nr(e.config,s):`${e.config.apiScheme}://${s}`;if(ir.includes(n)&&(await i._persistenceManagerAvailable,"COOKIE"===i._getPersistenceType())){return i._getPersistence()._getFinalTarget(a).toString()}return a}function hr(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class fr{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t($n(this.auth,"network-request-failed")),ar.get())})}}function pr(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=$n(e,t,r);return s.customData._tokenResponse=n,s}function mr(e){return void 0!==e&&void 0!==e.enterprise}class gr{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return hr(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function yr(e,t){return lr(e,"GET","/v2/recaptchaConfig",or(e,t))}async function vr(e,t){return lr(e,"POST","/v1/accounts:lookup",t)}function xr(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}function br(e){return 1e3*Number(e)}function wr(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return zn("JWT malformed, contained fewer than 3 sections"),null;try{const e=De(n);return e?JSON.parse(e):(zn("Failed to decode base64 JWT payload"),null)}catch(s){return zn("Caught error parsing JWT payload as JSON",null===s||void 0===s?void 0:s.toString()),null}}function Nr(e){const t=wr(e);return Gn(t,"internal-error"),Gn("undefined"!==typeof t.exp,"internal-error"),Gn("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function kr(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(n){throw n instanceof Je&&function(e){let{code:t}=e;return"auth/user-disabled"===t||"auth/user-token-expired"===t}(n)&&e.auth.currentUser===e&&await e.auth.signOut(),n}}class Er{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void("auth/network-request-failed"===(null===e||void 0===e?void 0:e.code)&&this.schedule(!0))}this.schedule()}}class _r{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=xr(this.lastLoginAt),this.creationTime=xr(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Sr(e){var t;const n=e.auth,r=await e.getIdToken(),s=await kr(e,vr(n,{idToken:r}));Gn(null===s||void 0===s?void 0:s.users.length,n,"internal-error");const i=s.users[0];e._notifyReloadListener(i);const a=(null===(t=i.providerUserInfo)||void 0===t?void 0:t.length)?Tr(i.providerUserInfo):[],o=(l=e.providerData,c=a,[...l.filter(e=>!c.some(t=>t.providerId===e.providerId)),...c]);var l,c;const u=e.isAnonymous,d=!(e.email&&i.passwordHash)&&!(null===o||void 0===o?void 0:o.length),h=!!u&&d,f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new _r(i.createdAt,i.lastLoginAt),isAnonymous:h};Object.assign(e,f)}function Tr(e){return e.map(e=>{var{providerId:t}=e,n=Ln(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}class Cr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Gn(e.idToken,"internal-error"),Gn("undefined"!==typeof e.idToken,"internal-error"),Gn("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):Nr(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Gn(0!==e.length,"internal-error");const t=Nr(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(Gn(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:s}=await async function(e,t){const n=await cr(e,{},async()=>{const n=tt({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:s}=e.config,i=await dr(e,r,"/v1/token",`key=${s}`),a=await e._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const o={method:"POST",headers:a,body:n};return e.emulatorConfig&&ze(e.emulatorConfig.host)&&(o.credentials="include"),rr.fetch()(i,o)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(s))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:s}=t,i=new Cr;return n&&(Gn("string"===typeof n,"internal-error",{appName:e}),i.refreshToken=n),r&&(Gn("string"===typeof r,"internal-error",{appName:e}),i.accessToken=r),s&&(Gn("number"===typeof s,"internal-error",{appName:e}),i.expirationTime=s),i}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Cr,this.toJSON())}_performRefresh(){return Qn("not implemented")}}function jr(e,t){Gn("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class Ir{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,s=Ln(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Er(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new _r(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await kr(this,this.stsTokenManager.getToken(this.auth,e));return Gn(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=at(e),r=await n.getIdToken(t),s=wr(r);Gn(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i="object"===typeof s.firebase?s.firebase:void 0,a=null===i||void 0===i?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:xr(br(s.auth_time)),issuedAtTime:xr(br(s.iat)),expirationTime:xr(br(s.exp)),signInProvider:a||null,signInSecondFactor:(null===i||void 0===i?void 0:i.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=at(e);await Sr(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(Gn(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>Object.assign({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Ir(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Gn(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Sr(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(xn(this.auth.app))return Promise.reject(Hn(this.auth));const e=await this.getIdToken();return await kr(this,async function(e,t){return lr(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,s,i,a,o,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(s=t.phoneNumber)&&void 0!==s?s:void 0,f=null!==(i=t.photoURL)&&void 0!==i?i:void 0,p=null!==(a=t.tenantId)&&void 0!==a?a:void 0,m=null!==(o=t._redirectEventId)&&void 0!==o?o:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,y=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:v,emailVerified:x,isAnonymous:b,providerData:w,stsTokenManager:N}=t;Gn(v&&N,e,"internal-error");const k=Cr.fromJSON(this.name,N);Gn("string"===typeof v,e,"internal-error"),jr(u,e.name),jr(d,e.name),Gn("boolean"===typeof x,e,"internal-error"),Gn("boolean"===typeof b,e,"internal-error"),jr(h,e.name),jr(f,e.name),jr(p,e.name),jr(m,e.name),jr(g,e.name),jr(y,e.name);const E=new Ir({uid:v,auth:e,email:d,emailVerified:x,displayName:u,isAnonymous:b,photoURL:f,phoneNumber:h,tenantId:p,stsTokenManager:k,createdAt:g,lastLoginAt:y});return w&&Array.isArray(w)&&(E.providerData=w.map(e=>Object.assign({},e))),m&&(E._redirectEventId=m),E}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new Cr;r.updateFromServerResponse(t);const s=new Ir({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await Sr(s),s}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];Gn(void 0!==r.localId,"internal-error");const s=void 0!==r.providerUserInfo?Tr(r.providerUserInfo):[],i=!(r.email&&r.passwordHash)&&!(null===s||void 0===s?void 0:s.length),a=new Cr;a.updateFromIdToken(n);const o=new Ir({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:i}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new _r(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null===s||void 0===s?void 0:s.length)};return Object.assign(o,l),o}}const Pr=new Map;function Ar(e){Jn(e instanceof Function,"Expected a class definition");let t=Pr.get(e);return t?(Jn(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Pr.set(e,t),t)}class Rr{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Rr.type="NONE";const Dr=Rr;function Or(e,t,n){return`firebase:${e}:${t}:${n}`}class Lr{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:s}=this.auth;this.fullUserKey=Or(this.userKey,r.apiKey,s),this.fullPersistenceKey=Or("persistence",r.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if("string"===typeof e){const t=await vr(this.auth,{idToken:e}).catch(()=>{});return t?Ir._fromGetAccountInfoResponse(this.auth,t,e):null}return Ir._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new Lr(Ar(Dr),e,n);const r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e);let s=r[0]||Ar(Dr);const i=Or(n,e.config.apiKey,e.name);let a=null;for(const c of t)try{const t=await c._get(i);if(t){let n;if("string"===typeof t){const r=await vr(e,{idToken:t}).catch(()=>{});if(!r)break;n=await Ir._fromGetAccountInfoResponse(e,r,t)}else n=Ir._fromJSON(e,t);c!==s&&(a=n),s=c;break}}catch(l){}const o=r.filter(e=>e._shouldAllowMigration);return s._shouldAllowMigration&&o.length?(s=o[0],a&&await s._set(i,a.toJSON()),await Promise.all(t.map(async e=>{if(e!==s)try{await e._remove(i)}catch(l){}})),new Lr(s,e,n)):new Lr(s,e,n)}}function Mr(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(zr(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Fr(t))return"Firefox";if(t.includes("silk/"))return"Silk";if($r(t))return"Blackberry";if(qr(t))return"Webos";if(Ur(t))return"Safari";if((t.includes("chrome/")||Vr(t))&&!t.includes("edge/"))return"Chrome";if(Br(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function Fr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:We();return/firefox\//i.test(e)}function Ur(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:We()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Vr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:We();return/crios\//i.test(e)}function zr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:We();return/iemobile/i.test(e)}function Br(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:We();return/android/i.test(e)}function $r(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:We();return/blackberry/i.test(e)}function qr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:We();return/webos/i.test(e)}function Hr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:We();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Wr(){return function(){const e=We();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function Kr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:We();return Hr(e)||Br(e)||qr(e)||$r(e)||/windows phone/i.test(e)||zr(e)}function Gr(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Mr(We());break;case"Worker":t=`${Mr(We())}-${e}`;break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return`${t}/JsCore/${Nn}/${r}`}class Qr{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise((n,r)=>{try{n(e(t))}catch(s){r(s)}});n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const e of t)try{e()}catch(r){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===n||void 0===n?void 0:n.message})}}}class Jr{constructor(e){var t,n,r,s;const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=i.minPasswordLength)&&void 0!==t?t:6,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),void 0!==i.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),void 0!==i.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),void 0!==i.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),void 0!==i.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(s=e.forceUpgradeOnSignin)&&void 0!==s&&s,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,s,i,a;const o={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,o),this.validatePasswordCharacterOptions(e,o),o.isValid&&(o.isValid=null===(t=o.meetsMinPasswordLength)||void 0===t||t),o.isValid&&(o.isValid=null===(n=o.meetsMaxPasswordLength)||void 0===n||n),o.isValid&&(o.isValid=null===(r=o.containsLowercaseLetter)||void 0===r||r),o.isValid&&(o.isValid=null===(s=o.containsUppercaseLetter)||void 0===s||s),o.isValid&&(o.isValid=null===(i=o.containsNumericCharacter)||void 0===i||i),o.isValid&&(o.isValid=null===(a=o.containsNonAlphanumericCharacter)||void 0===a||a),o}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}class Yr{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Zr(this),this.idTokenSubscription=new Zr(this),this.beforeStateQueue=new Qr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Un,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(e=>this._resolvePersistenceManagerAvailable=e)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ar(t)),this._initializationPromise=this.queue(async()=>{var n,r,s;if(!this._deleted&&(this.persistenceManager=await Lr.create(this,e),null===(n=this._resolvePersistenceManagerAvailable)||void 0===n||n.call(this),!this._deleted)){if(null===(r=this._popupRedirectResolver)||void 0===r?void 0:r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(i){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(s=this.currentUser)||void 0===s?void 0:s.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await vr(this,{idToken:e}),n=await Ir._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(xn(this.app)){const e=this.app.settings.authIdToken;return e?new Promise(t=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(e).then(t,t))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,i=null===r||void 0===r?void 0:r._redirectEventId,a=await this.tryRedirectSignIn(e);n&&n!==i||!(null===a||void 0===a?void 0:a.user)||(r=a.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(i){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(i))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Gn(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(n){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Sr(e)}catch(t){if("auth/network-request-failed"!==(null===t||void 0===t?void 0:t.code))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(xn(this.app))return Promise.reject(Hn(this));const t=e?at(e):null;return t&&Gn(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&Gn(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return xn(this.app)?Promise.reject(Hn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return xn(this.app)?Promise.reject(Hn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ar(e))})}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return lr(e,"GET","/v2/passwordPolicy",or(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new Jr(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ye("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return lr(e,"POST","/v2/accounts:revokeToken",or(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ar(e)||this._popupRedirectResolver;Gn(t,this,"argument-error"),this.redirectPersistenceManager=await Lr.create(this,[Ar(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const s="function"===typeof t?t:t.next.bind(t);let i=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Gn(a,this,"internal-error"),a.then(()=>{i||s(this.currentUser)}),"function"===typeof t){const s=e.addObserver(t,n,r);return()=>{i=!0,s()}}{const n=e.addObserver(t);return()=>{i=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Gn(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Gr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;if(xn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(Vn.logLevel<=ht.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Vn.warn(`Auth (${Nn}): ${e}`,...n)}}(`Error while retrieving App Check token: ${t.error}`),null===t||void 0===t?void 0:t.token}}function Xr(e){return at(e)}class Zr{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new st(e,t);return n.subscribe.bind(n)}(e=>this.observer=e)}get next(){return Gn(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let es={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ts(e){return es.loadJS(e)}function ns(e){return`__${e}${Math.floor(1e6*Math.random())}`}class rs{constructor(){this.enterprise=new ss}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class ss{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const is="NO_RECAPTCHA";class as{constructor(e){this.type="recaptcha-enterprise",this.auth=Xr(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const s=window.grecaptcha;mr(s)?s.enterprise.ready(()=>{s.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n(is)})}):r(Error("No reCAPTCHA enterprise script loaded."))}if(this.auth.settings.appVerificationDisabledForTesting){return(new rs).execute("siteKey",{action:"verify"})}return new Promise((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{yr(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(r=>{if(void 0!==r.recaptchaKey){const n=new gr(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))}).catch(e=>{n(e)})})})(this.auth).then(s=>{if(!t&&mr(window.grecaptcha))n(s,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=es.recaptchaEnterpriseScript;0!==t.length&&(t+=s),ts(t).then(()=>{n(s,e,r)}).catch(e=>{r(e)})}}).catch(e=>{r(e)})})}}async function os(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const i=new as(e);let a;if(s)a=is;else try{a=await i.verify(n)}catch(l){a=await i.verify(n,!0)}const o=Object.assign({},t);if("mfaSmsEnrollment"===n||"mfaSmsSignIn"===n){if("phoneEnrollmentInfo"in o){const e=o.phoneEnrollmentInfo.phoneNumber,t=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){const e=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return r?Object.assign(o,{captchaResp:a}):Object.assign(o,{captchaResponse:a}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function ls(e,t,n,r,s){var i,a;if("EMAIL_PASSWORD_PROVIDER"===s){if(null===(i=e._getRecaptchaConfig())||void 0===i?void 0:i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await os(e,t,n,"getOobCode"===n);return r(e,s)}return r(e,t).catch(async s=>{if("auth/missing-recaptcha-token"===s.code){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const s=await os(e,t,n,"getOobCode"===n);return r(e,s)}return Promise.reject(s)})}if("PHONE_PROVIDER"===s){if(null===(a=e._getRecaptchaConfig())||void 0===a?void 0:a.isProviderEnabled("PHONE_PROVIDER")){const s=await os(e,t,n);return r(e,s).catch(async s=>{var i;if("AUDIT"===(null===(i=e._getRecaptchaConfig())||void 0===i?void 0:i.getProviderEnforcementState("PHONE_PROVIDER"))&&("auth/missing-recaptcha-token"===s.code||"auth/invalid-app-credential"===s.code)){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const s=await os(e,t,n,!1,!0);return r(e,s)}return Promise.reject(s)})}{const s=await os(e,t,n,!1,!0);return r(e,s)}}return Promise.reject(s+" provider is not supported.")}async function cs(e){const t=Xr(e),n=await yr(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new gr(n);if(null==t.tenantId?t._agentRecaptchaConfig=r:t._tenantRecaptchaConfigs[t.tenantId]=r,r.isAnyProviderEnabled()){new as(t).verify()}}function us(e,t,n){const r=Xr(e);Gn(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const s=!!(null===n||void 0===n?void 0:n.disableWarnings),i=ds(t),{host:a,port:o}=function(e){const t=ds(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const e=s[1];return{host:e,port:hs(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:hs(t)}}}(t),l=null===o?"":`:${o}`,c={url:`${i}//${a}${l}/`},u=Object.freeze({host:a,port:o,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator)return Gn(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),void Gn(Ze(c,r.config.emulator)&&Ze(u,r.emulatorConfig),r,"emulator-config-failed");r.config.emulator=c,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,ze(a)?(Be(`${i}//${a}${l}`),He("Auth",!0)):s||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function ds(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function hs(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class fs{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Qn("not implemented")}_getIdTokenResponse(e){return Qn("not implemented")}_linkToIdToken(e,t){return Qn("not implemented")}_getReauthenticationResolver(e){return Qn("not implemented")}}async function ps(e,t){return lr(e,"POST","/v1/accounts:signUp",t)}async function ms(e,t){return ur(e,"POST","/v1/accounts:signInWithPassword",or(e,t))}async function gs(e,t){return lr(e,"POST","/v1/accounts:sendOobCode",or(e,t))}async function ys(e,t){return gs(e,t)}class vs extends fs{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new vs(e,t,"password")}static _fromEmailAndCode(e,t){return new vs(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return ls(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",ms,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return ur(e,"POST","/v1/accounts:signInWithEmailLink",or(e,t))}(e,{email:this._email,oobCode:this._password});default:Bn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return ls(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ps,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return ur(e,"POST","/v1/accounts:signInWithEmailLink",or(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:Bn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function xs(e,t){return ur(e,"POST","/v1/accounts:signInWithIdp",or(e,t))}class bs extends fs{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new bs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Bn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,s=Ln(t,["providerId","signInMethod"]);if(!n||!r)return null;const i=new bs(n,r);return i.idToken=s.idToken||void 0,i.accessToken=s.accessToken||void 0,i.secret=s.secret,i.nonce=s.nonce,i.pendingToken=s.pendingToken||null,i}_getIdTokenResponse(e){return xs(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,xs(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,xs(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=tt(t)}return e}}async function ws(e,t){return lr(e,"POST","/v1/accounts:sendVerificationCode",or(e,t))}const Ns={USER_NOT_FOUND:"user-not-found"};class ks extends fs{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new ks({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new ks({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return ur(e,"POST","/v1/accounts:signInWithPhoneNumber",or(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await ur(e,"POST","/v1/accounts:signInWithPhoneNumber",or(e,t));if(n.temporaryProof)throw pr(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return ur(e,"POST","/v1/accounts:signInWithPhoneNumber",or(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),Ns)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:s}=e;return n||t||r||s?new ks({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:s}):null}}class Es{constructor(e){var t,n,r,s,i,a;const o=nt(rt(e)),l=null!==(t=o.apiKey)&&void 0!==t?t:null,c=null!==(n=o.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=o.mode)&&void 0!==r?r:null);Gn(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(s=o.continueUrl)&&void 0!==s?s:null,this.languageCode=null!==(i=o.lang)&&void 0!==i?i:null,this.tenantId=null!==(a=o.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(e){const t=nt(rt(e)).link,n=t?nt(rt(t)).deep_link_id:null,r=nt(rt(e)).deep_link_id;return(r?nt(rt(r)).link:null)||r||n||t||e}(e);try{return new Es(t)}catch(n){return null}}}class _s{constructor(){this.providerId=_s.PROVIDER_ID}static credential(e,t){return vs._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Es.parseLink(t);return Gn(n,"argument-error"),vs._fromEmailAndCode(e,n.code,n.tenantId)}}_s.PROVIDER_ID="password",_s.EMAIL_PASSWORD_SIGN_IN_METHOD="password",_s.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Ss{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Ts extends Ss{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Cs extends Ts{constructor(){super("facebook.com")}static credential(e){return bs._fromParams({providerId:Cs.PROVIDER_ID,signInMethod:Cs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Cs.credentialFromTaggedObject(e)}static credentialFromError(e){return Cs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Cs.credential(t.oauthAccessToken)}catch(n){return null}}}Cs.FACEBOOK_SIGN_IN_METHOD="facebook.com",Cs.PROVIDER_ID="facebook.com";class js extends Ts{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return bs._fromParams({providerId:js.PROVIDER_ID,signInMethod:js.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return js.credentialFromTaggedObject(e)}static credentialFromError(e){return js.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return js.credential(n,r)}catch(s){return null}}}js.GOOGLE_SIGN_IN_METHOD="google.com",js.PROVIDER_ID="google.com";class Is extends Ts{constructor(){super("github.com")}static credential(e){return bs._fromParams({providerId:Is.PROVIDER_ID,signInMethod:Is.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Is.credentialFromTaggedObject(e)}static credentialFromError(e){return Is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Is.credential(t.oauthAccessToken)}catch(n){return null}}}Is.GITHUB_SIGN_IN_METHOD="github.com",Is.PROVIDER_ID="github.com";class Ps extends Ts{constructor(){super("twitter.com")}static credential(e,t){return bs._fromParams({providerId:Ps.PROVIDER_ID,signInMethod:Ps.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ps.credentialFromTaggedObject(e)}static credentialFromError(e){return Ps.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Ps.credential(n,r)}catch(s){return null}}}async function As(e,t){return ur(e,"POST","/v1/accounts:signUp",or(e,t))}Ps.TWITTER_SIGN_IN_METHOD="twitter.com",Ps.PROVIDER_ID="twitter.com";class Rs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const s=await Ir._fromIdTokenResponse(e,n,r),i=Ds(n);return new Rs({user:s,providerId:i,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=Ds(n);return new Rs({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function Ds(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class Os extends Je{constructor(e,t,n,r){var s;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,Os.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new Os(e,t,n,r)}}function Ls(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if("auth/multi-factor-auth-required"===n.code)throw Os._fromErrorAndOperation(e,n,t,r);throw n})}async function Ms(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await kr(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Rs._forOperation(e,"link",r)}async function Fs(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if(xn(r.app))return Promise.reject(Hn(r));const s="reauthenticate";try{const i=await kr(e,Ls(r,s,t,e),n);Gn(i.idToken,r,"internal-error");const a=wr(i.idToken);Gn(a,r,"internal-error");const{sub:o}=a;return Gn(e.uid===o,r,"user-mismatch"),Rs._forOperation(e,s,i)}catch(i){throw"auth/user-not-found"===(null===i||void 0===i?void 0:i.code)&&Bn(r,"user-mismatch"),i}}async function Us(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(xn(e.app))return Promise.reject(Hn(e));const r="signIn",s=await Ls(e,r,t),i=await Rs._fromIdTokenResponse(e,r,s);return n||await e._updateCurrentUser(i.user),i}async function Vs(e,t){return Us(Xr(e),t)}function zs(e,t,n){var r;Gn((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),Gn("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),Gn("undefined"===typeof n.linkDomain||n.linkDomain.length>0,e,"invalid-hosting-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.linkDomain=n.linkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Gn(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Gn(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}async function Bs(e){const t=Xr(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function $s(e,t){const n=at(e),r={requestType:"VERIFY_EMAIL",idToken:await e.getIdToken()};t&&zs(n.auth,r,t);const{email:s}=await async function(e,t){return gs(e,t)}(n.auth,r);s!==e.email&&await e.reload()}async function qs(e,t){let{displayName:n,photoURL:r}=t;if(void 0===n&&void 0===r)return;const s=at(e),i={idToken:await s.getIdToken(),displayName:n,photoUrl:r,returnSecureToken:!0},a=await kr(s,async function(e,t){return lr(e,"POST","/v1/accounts:update",t)}(s.auth,i));s.displayName=a.displayName||null,s.photoURL=a.photoUrl||null;const o=s.providerData.find(e=>{let{providerId:t}=e;return"password"===t});o&&(o.displayName=s.displayName,o.photoURL=s.photoURL),await s._updateTokensIfNecessary(a)}function Hs(e,t){return lr(e,"POST","/v2/accounts/mfaEnrollment:start",or(e,t))}new WeakMap;const Ws="__sak";class Ks{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Ws,"1"),this.storage.removeItem(Ws),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class Gs extends Ks{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Kr(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},s=this.storage.getItem(n);Wr()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Gs.type="LOCAL";const Qs=Gs;function Js(e){var t,n;const r=e.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),s=RegExp(`${r}=([^;]+)`);return null!==(n=null===(t=document.cookie.match(s))||void 0===t?void 0:t[1])&&void 0!==n?n:null}function Ys(e){return`${"http:"===window.location.protocol?"__dev_":"__HOST-"}FIREBASE_${e.split(":")[3]}`}class Xs{constructor(){this.type="COOKIE",this.listenerUnsubscribes=new Map}_getFinalTarget(e){if(void 0===typeof window)return e;const t=new URL(`${window.location.origin}/__cookies__`);return t.searchParams.set("finalTarget",e),t}async _isAvailable(){var e;return!("boolean"===typeof isSecureContext&&!isSecureContext)&&("undefined"!==typeof navigator&&"undefined"!==typeof document&&(null===(e=navigator.cookieEnabled)||void 0===e||e))}async _set(e,t){}async _get(e){if(!this._isAvailable())return null;const t=Ys(e);if(window.cookieStore){const e=await window.cookieStore.get(t);return null===e||void 0===e?void 0:e.value}return Js(t)}async _remove(e){if(!this._isAvailable())return;if(!await this._get(e))return;const t=Ys(e);document.cookie=`${t}=;Max-Age=34560000;Partitioned;Secure;SameSite=Strict;Path=/;Priority=High`,await fetch("/__cookies__",{method:"DELETE"}).catch(()=>{})}_addListener(e,t){if(!this._isAvailable())return;const n=Ys(e);if(window.cookieStore){const e=e=>{const r=e.changed.find(e=>e.name===n);r&&t(r.value);e.deleted.find(e=>e.name===n)&&t(null)},r=()=>window.cookieStore.removeEventListener("change",e);return this.listenerUnsubscribes.set(t,r),window.cookieStore.addEventListener("change",e)}let r=Js(n);const s=setInterval(()=>{const e=Js(n);e!==r&&(t(e),r=e)},1e3);this.listenerUnsubscribes.set(t,()=>clearInterval(s))}_removeListener(e,t){const n=this.listenerUnsubscribes.get(t);n&&(n(),this.listenerUnsubscribes.delete(t))}}Xs.type="COOKIE";class Zs extends Ks{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Zs.type="SESSION";const ei=Zs;class ti{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;const n=new ti(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:s}=t.data,i=this.handlersMap[r];if(!(null===i||void 0===i?void 0:i.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const a=Array.from(i).map(async e=>e(t.origin,s)),o=await function(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}(a);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:o})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function ni(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}ti.receivers=[];class ri{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,i;return new Promise((a,o)=>{const l=ni("",20);r.port1.start();const c=setTimeout(()=>{o(new Error("unsupported_event"))},n);i={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{o(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(t.data.response);break;default:clearTimeout(c),clearTimeout(s),o(new Error("invalid_response"))}}},this.handlers.add(i),r.port1.addEventListener("message",i.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])}).finally(()=>{i&&this.removeMessageHandler(i)})}}function si(){return window}function ii(){return"undefined"!==typeof si().WorkerGlobalScope&&"function"===typeof si().importScripts}const ai="firebaseLocalStorageDb",oi="firebaseLocalStorage",li="fbase_key";class ci{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function ui(e,t){return e.transaction([oi],t?"readwrite":"readonly").objectStore(oi)}function di(){const e=indexedDB.open(ai,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(oi,{keyPath:li})}catch(r){n(r)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(oi)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(ai);return new ci(e).toPromise()}(),t(await di()))})})}async function hi(e,t,n){const r=ui(e,!0).put({[li]:t,value:n});return new ci(r).toPromise()}function fi(e,t){const n=ui(e,!0).delete(t);return new ci(n).toPromise()}class pi{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await di()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(n){if(t++>3)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ii()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ti._getInstance(ii()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new ri(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await di();return await hi(e,Ws,"1"),await fi(e,Ws),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>hi(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(t=>async function(e,t){const n=ui(e,!1).get(t),r=await new ci(n).toPromise();return void 0===r?null:r.value}(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>fi(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(e=>{const t=ui(e,!1).getAll();return new ci(t).toPromise()});if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:s}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(s)&&(this.notifyListeners(r,s),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}pi.type="LOCAL";const mi=pi;function gi(e,t){return lr(e,"POST","/v2/accounts/mfaSignIn:start",or(e,t))}ns("rcb"),new tr(3e4,6e4);const yi="recaptcha";async function vi(e,t,n){var r;if(!e._getRecaptchaConfig())try{await cs(e)}catch(s){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let s;if(s="string"===typeof t?{phoneNumber:t}:t,"session"in s){const t=s.session;if("phoneNumber"in s){Gn("enroll"===t.type,e,"internal-error");const r={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},i=ls(e,r,"mfaSmsEnrollment",async(e,t)=>{if(t.phoneEnrollmentInfo.captchaResponse===is){Gn((null===n||void 0===n?void 0:n.type)===yi,e,"argument-error");return Hs(e,await xi(e,t,n))}return Hs(e,t)},"PHONE_PROVIDER");return(await i.catch(e=>Promise.reject(e))).phoneSessionInfo.sessionInfo}{Gn("signin"===t.type,e,"internal-error");const i=(null===(r=s.multiFactorHint)||void 0===r?void 0:r.uid)||s.multiFactorUid;Gn(i,e,"missing-multi-factor-info");const a={mfaPendingCredential:t.credential,mfaEnrollmentId:i,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},o=ls(e,a,"mfaSmsSignIn",async(e,t)=>{if(t.phoneSignInInfo.captchaResponse===is){Gn((null===n||void 0===n?void 0:n.type)===yi,e,"argument-error");return gi(e,await xi(e,t,n))}return gi(e,t)},"PHONE_PROVIDER");return(await o.catch(e=>Promise.reject(e))).phoneResponseInfo.sessionInfo}}{const t={phoneNumber:s.phoneNumber,clientType:"CLIENT_TYPE_WEB"},r=ls(e,t,"sendVerificationCode",async(e,t)=>{if(t.captchaResponse===is){Gn((null===n||void 0===n?void 0:n.type)===yi,e,"argument-error");return ws(e,await xi(e,t,n))}return ws(e,t)},"PHONE_PROVIDER");return(await r.catch(e=>Promise.reject(e))).sessionInfo}}finally{null===n||void 0===n||n._reset()}}async function xi(e,t,n){Gn(n.type===yi,e,"argument-error");const r=await n.verify();Gn("string"===typeof r,e,"argument-error");const s=Object.assign({},t);if("phoneEnrollmentInfo"in s){const e=s.phoneEnrollmentInfo.phoneNumber,t=s.phoneEnrollmentInfo.captchaResponse,n=s.phoneEnrollmentInfo.clientType,i=s.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(s,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:r,captchaResponse:t,clientType:n,recaptchaVersion:i}}),s}if("phoneSignInInfo"in s){const e=s.phoneSignInInfo.captchaResponse,t=s.phoneSignInInfo.clientType,n=s.phoneSignInInfo.recaptchaVersion;return Object.assign(s,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:e,clientType:t,recaptchaVersion:n}}),s}return Object.assign(s,{recaptchaToken:r}),s}class bi{constructor(e){this.providerId=bi.PROVIDER_ID,this.auth=Xr(e)}verifyPhoneNumber(e,t){return vi(this.auth,e,at(t))}static credential(e,t){return ks._fromVerification(e,t)}static credentialFromResult(e){const t=e;return bi.credentialFromTaggedObject(t)}static credentialFromError(e){return bi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?ks._fromTokenResponse(n,r):null}}function wi(e,t){return t?Ar(t):(Gn(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}bi.PROVIDER_ID="phone",bi.PHONE_SIGN_IN_METHOD="phone";class Ni extends fs{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return xs(e,this._buildIdpRequest())}_linkToIdToken(e,t){return xs(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return xs(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function ki(e){return Us(e.auth,new Ni(e),e.bypassAuthState)}function Ei(e){const{auth:t,user:n}=e;return Gn(n,t,"internal-error"),Fs(n,new Ni(e),e.bypassAuthState)}async function _i(e){const{auth:t,user:n}=e;return Gn(n,t,"internal-error"),Ms(n,new Ni(e),e.bypassAuthState)}class Si{constructor(e,t,n,r){let s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:s,error:i,type:a}=e;if(i)return void this.reject(i);const o={auth:this.auth,requestUri:t,sessionId:n,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(o))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ki;case"linkViaPopup":case"linkViaRedirect":return _i;case"reauthViaPopup":case"reauthViaRedirect":return Ei;default:Bn(this.auth,"internal-error")}}resolve(e){Jn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Jn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ti=new tr(2e3,1e4);class Ci extends Si{constructor(e,t,n,r,s){super(e,t,r,s),this.provider=n,this.authWindow=null,this.pollId=null,Ci.currentPopupAction&&Ci.currentPopupAction.cancel(),Ci.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Gn(e,this.auth,"internal-error"),e}async onExecution(){Jn(1===this.filter.length,"Popup operations only handle one event");const e=ni();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject($n(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject($n(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ci.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject($n(this.auth,"popup-closed-by-user"))},8e3):this.pollId=window.setTimeout(e,Ti.get())};e()}}Ci.currentPopupAction=null;const ji=new Map;class Ii extends Si{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=ji.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=Ri(t),r=Ai(e);if(!await r._isAvailable())return!1;const s="true"===await r._get(n);return await r._remove(n),s}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}ji.set(this.auth._key(),e)}return this.bypassAuthState||ji.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function Pi(e,t){ji.set(e._key(),t)}function Ai(e){return Ar(e._redirectPersistence)}function Ri(e){return Or("pendingRedirect",e.config.apiKey,e.name)}async function Di(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(xn(e.app))return Promise.reject(Hn(e));const r=Xr(e),s=wi(r,t),i=new Ii(r,s,n),a=await i.execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,t)),a}class Oi{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Mi(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!Mi(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError($n(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Li(e))}saveEventToCache(e){this.cachedEventUids.add(Li(e)),this.lastProcessedEventTime=Date.now()}}function Li(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function Mi(e){let{type:t,error:n}=e;return"unknown"===t&&"auth/no-auth-event"===(null===n||void 0===n?void 0:n.code)}const Fi=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ui=/^https?/;async function Vi(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return lr(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(zi(r))return}catch(n){}Bn(e,"unauthorized-domain")}function zi(e){const t=Yn(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const s=new URL(e);return""===s.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&s.hostname===r}if(!Ui.test(n))return!1;if(Fi.test(e))return r===e;const s=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}const Bi=new tr(3e4,6e4);function $i(){const e=si().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function qi(e){return new Promise((t,n)=>{var r,s,i;function a(){$i(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{$i(),n($n(e,"network-request-failed"))},timeout:Bi.get()})}if(null===(s=null===(r=si().gapi)||void 0===r?void 0:r.iframes)||void 0===s?void 0:s.Iframe)t(gapi.iframes.getContext());else{if(!(null===(i=si().gapi)||void 0===i?void 0:i.load)){const t=ns("iframefcb");return si()[t]=()=>{gapi.load?a():n($n(e,"network-request-failed"))},ts(`${es.gapiScript}?onload=${t}`).catch(e=>n(e))}a()}}).catch(e=>{throw Hi=null,e})}let Hi=null;const Wi=new tr(5e3,15e3),Ki={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Gi=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Qi(e){const t=e.config;Gn(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?nr(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,r={apiKey:t.apiKey,appName:e.name,v:Nn},s=Gi.get(e.config.apiHost);s&&(r.eid=s);const i=e._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${tt(r).slice(1)}`}async function Ji(e){const t=await function(e){return Hi=Hi||qi(e),Hi}(e),n=si().gapi;return Gn(n,e,"internal-error"),t.open({where:document.body,url:Qi(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ki,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});const s=$n(e,"network-request-failed"),i=si().setTimeout(()=>{r(s)},Wi.get());function a(){si().clearTimeout(i),n(t)}t.ping(a).then(a,()=>{r(s)})}))}const Yi={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Xi{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function Zi(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const i=Math.max((window.screen.availHeight-s)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l=Object.assign(Object.assign({},Yi),{width:r.toString(),height:s.toString(),top:i,left:a}),c=We().toLowerCase();n&&(o=Vr(c)?"_blank":n),Fr(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce((e,t)=>{let[n,r]=t;return`${e}${n}=${r},`},"");if(function(){var e;return Hr(arguments.length>0&&void 0!==arguments[0]?arguments[0]:We())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==o)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",o),new Xi(null);const d=window.open(t||"",o,u);Gn(d,e,"popup-blocked");try{d.focus()}catch(h){}return new Xi(d)}const ea="__/auth/handler",ta="emulator/auth/handler",na=encodeURIComponent("fac");async function ra(e,t,n,r,s,i){Gn(e.config.authDomain,e,"auth-domain-config-required"),Gn(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Nn,eventId:s};if(t instanceof Ss){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(i||{}))a[e]=t}if(t instanceof Ts){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(a.scopes=e.join(","))}e.tenantId&&(a.tid=e.tenantId);const o=a;for(const u of Object.keys(o))void 0===o[u]&&delete o[u];const l=await e._getAppCheckToken(),c=l?`#${na}=${encodeURIComponent(l)}`:"";return`${function(e){let{config:t}=e;if(!t.emulator)return`https://${t.authDomain}/${ea}`;return nr(t,ta)}(e)}?${tt(o).slice(1)}${c}`}const sa="webStorageSupport";const ia=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ei,this._completeRedirectFn=Di,this._overrideRedirectResult=Pi}async _openPopup(e,t,n,r){var s;Jn(null===(s=this.eventManagers[e._key()])||void 0===s?void 0:s.manager,"_initialize() not called before _openPopup()");return Zi(e,await ra(e,t,n,Yn(),r),ni())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){si().location.href=e}(await ra(e,t,n,Yn(),r)),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(Jn(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await Ji(e),n=new Oi(e);return t.register("authEvent",t=>{Gn(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(sa,{type:sa},n=>{var r;const s=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[sa];void 0!==s&&t(!!s),Bn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Vi(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Kr()||Ur()||Hr()}};var aa="@firebase/auth",oa="1.10.8";class la{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Gn(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const ca=Ue("authIdTokenMaxAge")||300;let ua=null;var da;es={loadJS:e=>new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=$n("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},da="Browser",yn(new ot("auth",(e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=r.options;Gn(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:o,clientPlatform:da,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Gr(da)},c=new Yr(r,s,i,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ar);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),yn(new ot("auth-internal",e=>(e=>new la(e))(Xr(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),_n(aa,oa,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(da)),_n(aa,oa,"esm2017");var ha,fa,pa="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},ma={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var s=0;16>s;++s)r[s]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(s=0;16>s;++s)r[s]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],s=e.g[2];var i=e.g[3],a=t+(i^n&(s^i))+r[0]+3614090360&4294967295;a=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=n+(a<<7&4294967295|a>>>25))+((a=i+(s^t&(n^s))+r[1]+3905402710&4294967295)<<12&4294967295|a>>>20))+((a=s+(n^i&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^s&(i^t))+r[3]+3250441966&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^n&(s^i))+r[4]+4118548399&4294967295)<<7&4294967295|a>>>25))+((a=i+(s^t&(n^s))+r[5]+1200080426&4294967295)<<12&4294967295|a>>>20))+((a=s+(n^i&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^s&(i^t))+r[7]+4249261313&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^n&(s^i))+r[8]+1770035416&4294967295)<<7&4294967295|a>>>25))+((a=i+(s^t&(n^s))+r[9]+2336552879&4294967295)<<12&4294967295|a>>>20))+((a=s+(n^i&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^s&(i^t))+r[11]+2304563134&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^n&(s^i))+r[12]+1804603682&4294967295)<<7&4294967295|a>>>25))+((a=i+(s^t&(n^s))+r[13]+4254626195&4294967295)<<12&4294967295|a>>>20))+((a=s+(n^i&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^s&(i^t))+r[15]+1236535329&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^i&(n^s))+r[1]+4129170786&4294967295)<<5&4294967295|a>>>27))+((a=i+(n^s&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|a>>>23))+((a=s+(t^n&(i^t))+r[11]+643717713&4294967295)<<14&4294967295|a>>>18))+((a=n+(i^t&(s^i))+r[0]+3921069994&4294967295)<<20&4294967295|a>>>12))+((a=t+(s^i&(n^s))+r[5]+3593408605&4294967295)<<5&4294967295|a>>>27))+((a=i+(n^s&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|a>>>23))+((a=s+(t^n&(i^t))+r[15]+3634488961&4294967295)<<14&4294967295|a>>>18))+((a=n+(i^t&(s^i))+r[4]+3889429448&4294967295)<<20&4294967295|a>>>12))+((a=t+(s^i&(n^s))+r[9]+568446438&4294967295)<<5&4294967295|a>>>27))+((a=i+(n^s&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|a>>>23))+((a=s+(t^n&(i^t))+r[3]+4107603335&4294967295)<<14&4294967295|a>>>18))+((a=n+(i^t&(s^i))+r[8]+1163531501&4294967295)<<20&4294967295|a>>>12))+((a=t+(s^i&(n^s))+r[13]+2850285829&4294967295)<<5&4294967295|a>>>27))+((a=i+(n^s&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|a>>>23))+((a=s+(t^n&(i^t))+r[7]+1735328473&4294967295)<<14&4294967295|a>>>18))+((a=n+(i^t&(s^i))+r[12]+2368359562&4294967295)<<20&4294967295|a>>>12))+((a=t+(n^s^i)+r[5]+4294588738&4294967295)<<4&4294967295|a>>>28))+((a=i+(t^n^s)+r[8]+2272392833&4294967295)<<11&4294967295|a>>>21))+((a=s+(i^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|a>>>16))+((a=n+(s^i^t)+r[14]+4259657740&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^s^i)+r[1]+2763975236&4294967295)<<4&4294967295|a>>>28))+((a=i+(t^n^s)+r[4]+1272893353&4294967295)<<11&4294967295|a>>>21))+((a=s+(i^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|a>>>16))+((a=n+(s^i^t)+r[10]+3200236656&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^s^i)+r[13]+681279174&4294967295)<<4&4294967295|a>>>28))+((a=i+(t^n^s)+r[0]+3936430074&4294967295)<<11&4294967295|a>>>21))+((a=s+(i^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|a>>>16))+((a=n+(s^i^t)+r[6]+76029189&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^s^i)+r[9]+3654602809&4294967295)<<4&4294967295|a>>>28))+((a=i+(t^n^s)+r[12]+3873151461&4294967295)<<11&4294967295|a>>>21))+((a=s+(i^t^n)+r[15]+530742520&4294967295)<<16&4294967295|a>>>16))+((a=n+(s^i^t)+r[2]+3299628645&4294967295)<<23&4294967295|a>>>9))+((a=t+(s^(n|~i))+r[0]+4096336452&4294967295)<<6&4294967295|a>>>26))+((a=i+(n^(t|~s))+r[7]+1126891415&4294967295)<<10&4294967295|a>>>22))+((a=s+(t^(i|~n))+r[14]+2878612391&4294967295)<<15&4294967295|a>>>17))+((a=n+(i^(s|~t))+r[5]+4237533241&4294967295)<<21&4294967295|a>>>11))+((a=t+(s^(n|~i))+r[12]+1700485571&4294967295)<<6&4294967295|a>>>26))+((a=i+(n^(t|~s))+r[3]+2399980690&4294967295)<<10&4294967295|a>>>22))+((a=s+(t^(i|~n))+r[10]+4293915773&4294967295)<<15&4294967295|a>>>17))+((a=n+(i^(s|~t))+r[1]+2240044497&4294967295)<<21&4294967295|a>>>11))+((a=t+(s^(n|~i))+r[8]+1873313359&4294967295)<<6&4294967295|a>>>26))+((a=i+(n^(t|~s))+r[15]+4264355552&4294967295)<<10&4294967295|a>>>22))+((a=s+(t^(i|~n))+r[6]+2734768916&4294967295)<<15&4294967295|a>>>17))+((a=n+(i^(s|~t))+r[13]+1309151649&4294967295)<<21&4294967295|a>>>11))+((i=(t=n+((a=t+(s^(n|~i))+r[4]+4149444226&4294967295)<<6&4294967295|a>>>26))+((a=i+(n^(t|~s))+r[11]+3174756917&4294967295)<<10&4294967295|a>>>22))^((s=i+((a=s+(t^(i|~n))+r[2]+718787259&4294967295)<<15&4294967295|a>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(s+(a<<21&4294967295|a>>>11))&4294967295,e.g[2]=e.g[2]+s&4294967295,e.g[3]=e.g[3]+i&4294967295}function r(e,t){this.h=t;for(var n=[],r=!0,s=e.length-1;0<=s;s--){var i=0|e[s];r&&i==t||(n[s]=i,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var s=Array(arguments.length-2),i=2;i<arguments.length;i++)s[i-2]=arguments[i];return t.prototype[n].apply(e,s)}}(t,function(){this.blockSize=-1}),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,s=this.B,i=this.h,a=0;a<t;){if(0==i)for(;a<=r;)n(this,e,a),a+=this.blockSize;if("string"===typeof e){for(;a<t;)if(s[i++]=e.charCodeAt(a++),i==this.blockSize){n(this,s),i=0;break}}else for(;a<t;)if(s[i++]=e[a++],i==this.blockSize){n(this,s),i=0;break}}this.h=i,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var s={};function i(e){return-128<=e&&128>e?function(e,t){var n=s;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,function(e){return new r([0|e],0>e?-1:0)}):new r([0|e],0>e?-1:0)}function a(e){if(isNaN(e)||!isFinite(e))return o;if(0>e)return h(a(-e));for(var t=[],n=1,s=0;e>=n;s++)t[s]=e/n|0,n*=4294967296;return new r(t,0)}var o=i(0),l=i(1),c=i(16777216);function u(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function d(e){return-1==e.h}function h(e){for(var t=e.g.length,n=[],s=0;s<t;s++)n[s]=~e.g[s];return new r(n,~e.h).add(l)}function f(e,t){return e.add(h(t))}function p(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function m(e,t){this.g=e,this.h=t}function g(e,t){if(u(t))throw Error("division by zero");if(u(e))return new m(o,o);if(d(e))return t=g(h(e),t),new m(h(t.g),h(t.h));if(d(t))return t=g(e,h(t)),new m(h(t.g),t.h);if(30<e.g.length){if(d(e)||d(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;0>=r.l(e);)n=y(n),r=y(r);var s=v(n,1),i=v(r,1);for(r=v(r,2),n=v(n,2);!u(r);){var c=i.add(r);0>=c.l(e)&&(s=s.add(n),i=c),r=v(r,1),n=v(n,1)}return t=f(e,s.j(t)),new m(s,t)}for(s=o;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),c=(i=a(n)).j(t);d(c)||0<c.l(e);)c=(i=a(n-=r)).j(t);u(i)&&(i=l),s=s.add(i),e=f(e,c)}return new m(s,e)}function y(e){for(var t=e.g.length+1,n=[],s=0;s<t;s++)n[s]=e.i(s)<<1|e.i(s-1)>>>31;return new r(n,e.h)}function v(e,t){var n=t>>5;t%=32;for(var s=e.g.length-n,i=[],a=0;a<s;a++)i[a]=0<t?e.i(a+n)>>>t|e.i(a+n+1)<<32-t:e.i(a+n);return new r(i,e.h)}(e=r.prototype).m=function(){if(d(this))return-h(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(u(this))return"0";if(d(this))return"-"+h(this).toString(e);for(var t=a(Math.pow(e,6)),n=this,r="";;){var s=g(n,t).g,i=((0<(n=f(n,s.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(u(n=s))return i+r;for(;6>i.length;)i="0"+i;r=i+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return d(e=f(this,e))?-1:u(e)?0:1},e.abs=function(){return d(this)?h(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],s=0,i=0;i<=t;i++){var a=s+(65535&this.i(i))+(65535&e.i(i)),o=(a>>>16)+(this.i(i)>>>16)+(e.i(i)>>>16);s=o>>>16,a&=65535,o&=65535,n[i]=o<<16|a}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(u(this)||u(e))return o;if(d(this))return d(e)?h(this).j(h(e)):h(h(this).j(e));if(d(e))return h(this.j(h(e)));if(0>this.l(c)&&0>e.l(c))return a(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],s=0;s<2*t;s++)n[s]=0;for(s=0;s<this.g.length;s++)for(var i=0;i<e.g.length;i++){var l=this.i(s)>>>16,f=65535&this.i(s),m=e.i(i)>>>16,g=65535&e.i(i);n[2*s+2*i]+=f*g,p(n,2*s+2*i),n[2*s+2*i+1]+=l*g,p(n,2*s+2*i+1),n[2*s+2*i+1]+=f*m,p(n,2*s+2*i+1),n[2*s+2*i+2]+=l*m,p(n,2*s+2*i+2)}for(s=0;s<t;s++)n[s]=n[2*s+1]<<16|n[2*s];for(s=t;s<2*t;s++)n[s]=0;return new r(n,0)},e.A=function(e){return g(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],s=0;s<t;s++)n[s]=this.i(s)&e.i(s);return new r(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],s=0;s<t;s++)n[s]=this.i(s)|e.i(s);return new r(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],s=0;s<t;s++)n[s]=this.i(s)^e.i(s);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,fa=ma.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.A,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=a,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return h(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=a(Math.pow(n,8)),s=o,i=0;i<t.length;i+=8){var l=Math.min(8,t.length-i),c=parseInt(t.substring(i,i+l),n);8>l?(l=a(Math.pow(n,l)),s=s.j(l).add(a(c))):s=(s=s.j(r)).add(a(c))}return s},ha=ma.Integer=r}).apply("undefined"!==typeof pa?pa:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var ga,ya,va,xa,ba,wa,Na,ka,Ea="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},_a={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof Ea&&Ea];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,r){if(r)e:{var s=n;e=e.split(".");for(var i=0;i<e.length-1;i++){var a=e[i];if(!(a in s))break e;s=s[a]}(r=r(i=s[e=e[e.length-1]]))!=i&&null!=r&&t(s,e,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,s={next:function(){if(!r&&n<e.length){var s=n++;return{value:t(s,e[s]),done:!1}}return r=!0,{done:!0,value:void 0}}};return s[Symbol.iterator]=function(){return s},s}(this,function(e,t){return t})}});var r=r||{},s=this||self;function i(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function a(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function o(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function c(e,t,n){return(c=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?o:l).apply(null,arguments)}function u(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function d(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var s=Array(arguments.length-2),i=2;i<arguments.length;i++)s[i-2]=arguments[i];return t.prototype[n].apply(e,s)}}function h(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function f(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(i(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let s=0;s<r;s++)e[n+s]=t[s]}else e.push(t)}}function p(e){return/^[\s\xa0]*$/.test(e)}function m(){var e=s.navigator;return e&&(e=e.userAgent)?e:""}function g(e){return g[" "](e),e}g[" "]=function(){};var y=-1!=m().indexOf("Gecko")&&!(-1!=m().toLowerCase().indexOf("webkit")&&-1==m().indexOf("Edge"))&&!(-1!=m().indexOf("Trident")||-1!=m().indexOf("MSIE"))&&-1==m().indexOf("Edge");function v(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function x(e){const t={};for(const n in e)t[n]=e[n];return t}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(e,t){let n,r;for(let s=1;s<arguments.length;s++){for(n in r=arguments[s],r)e[n]=r[n];for(let t=0;t<b.length;t++)n=b[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function N(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function k(e){s.setTimeout(()=>{throw e},0)}function E(){var e=j;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var _=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new S,e=>e.reset());class S{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let T,C=!1,j=new class{constructor(){this.h=this.g=null}add(e,t){const n=_.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},I=()=>{const e=s.Promise.resolve(void 0);T=()=>{e.then(P)}};var P=()=>{for(var e;e=E();){try{e.h.call(e.g)}catch(n){k(n)}var t=_;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}C=!1};function A(){this.s=this.s,this.C=this.C}function R(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}A.prototype.s=!1,A.prototype.ma=function(){this.s||(this.s=!0,this.N())},A.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},R.prototype.h=function(){this.defaultPrevented=!0};var D=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};s.addEventListener("test",e,t),s.removeEventListener("test",e,t)}catch(n){}return e}();function O(e,t){if(R.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(y){e:{try{g(t.nodeName);var s=!0;break e}catch(i){}s=!1}s||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:L[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&O.aa.h.call(this)}}d(O,R);var L={2:"touch",3:"pen",4:"mouse"};O.prototype.h=function(){O.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var M="closure_listenable_"+(1e6*Math.random()|0),F=0;function U(e,t,n,r,s){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=s,this.key=++F,this.da=this.fa=!1}function V(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function z(e){this.src=e,this.g={},this.h=0}function B(e,t){var n=t.type;if(n in e.g){var r,s=e.g[n],i=Array.prototype.indexOf.call(s,t,void 0);(r=0<=i)&&Array.prototype.splice.call(s,i,1),r&&(V(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function $(e,t,n,r){for(var s=0;s<e.length;++s){var i=e[s];if(!i.da&&i.listener==t&&i.capture==!!n&&i.ha==r)return s}return-1}z.prototype.add=function(e,t,n,r,s){var i=e.toString();(e=this.g[i])||(e=this.g[i]=[],this.h++);var a=$(e,t,r,s);return-1<a?(t=e[a],n||(t.fa=!1)):((t=new U(t,this.src,i,!!r,s)).fa=n,e.push(t)),t};var q="closure_lm_"+(1e6*Math.random()|0),H={};function W(e,t,n,r,s){if(r&&r.once)return G(e,t,n,r,s);if(Array.isArray(t)){for(var i=0;i<t.length;i++)W(e,t[i],n,r,s);return null}return n=te(n),e&&e[M]?e.K(t,n,a(r)?!!r.capture:!!r,s):K(e,t,n,!1,r,s)}function K(e,t,n,r,s,i){if(!t)throw Error("Invalid event type");var o=a(s)?!!s.capture:!!s,l=Z(e);if(l||(e[q]=l=new z(e)),(n=l.add(t,n,r,o,i)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=X;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)D||(s=o),void 0===s&&(s=!1),e.addEventListener(t.toString(),r,s);else if(e.attachEvent)e.attachEvent(Y(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function G(e,t,n,r,s){if(Array.isArray(t)){for(var i=0;i<t.length;i++)G(e,t[i],n,r,s);return null}return n=te(n),e&&e[M]?e.L(t,n,a(r)?!!r.capture:!!r,s):K(e,t,n,!0,r,s)}function Q(e,t,n,r,s){if(Array.isArray(t))for(var i=0;i<t.length;i++)Q(e,t[i],n,r,s);else r=a(r)?!!r.capture:!!r,n=te(n),e&&e[M]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=$(i=e.g[t],n,r,s))&&(V(i[n]),Array.prototype.splice.call(i,n,1),0==i.length&&(delete e.g[t],e.h--)))):e&&(e=Z(e))&&(t=e.g[t.toString()],e=-1,t&&(e=$(t,n,r,s)),(n=-1<e?t[e]:null)&&J(n))}function J(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[M])B(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Y(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Z(t))?(B(n,e),0==n.h&&(n.src=null,t[q]=null)):V(e)}}}function Y(e){return e in H?H[e]:H[e]="on"+e}function X(e,t){if(e.da)e=!0;else{t=new O(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&J(e),e=n.call(r,t)}return e}function Z(e){return(e=e[q])instanceof z?e:null}var ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function te(e){return"function"===typeof e?e:(e[ee]||(e[ee]=function(t){return e.handleEvent(t)}),e[ee])}function ne(){A.call(this),this.i=new z(this),this.M=this,this.F=null}function re(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new R(t,e);else if(t instanceof R)t.target=t.target||e;else{var s=t;w(t=new R(r,e),s)}if(s=!0,n)for(var i=n.length-1;0<=i;i--){var a=t.g=n[i];s=se(a,r,!0,t)&&s}if(s=se(a=t.g=e,r,!0,t)&&s,s=se(a,r,!1,t)&&s,n)for(i=0;i<n.length;i++)s=se(a=t.g=n[i],r,!1,t)&&s}function se(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var s=!0,i=0;i<t.length;++i){var a=t[i];if(a&&!a.da&&a.capture==n){var o=a.listener,l=a.ha||a.src;a.fa&&B(e.i,a),s=!1!==o.call(l,r)&&s}}return s&&!r.defaultPrevented}function ie(e,t,n){if("function"===typeof e)n&&(e=c(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=c(e.handleEvent,e)}return 2147483647<Number(t)?-1:s.setTimeout(e,t||0)}function ae(e){e.g=ie(()=>{e.g=null,e.i&&(e.i=!1,ae(e))},e.l);const t=e.h;e.h=null,e.m.apply(null,t)}d(ne,A),ne.prototype[M]=!0,ne.prototype.removeEventListener=function(e,t,n,r){Q(this,e,t,n,r)},ne.prototype.N=function(){if(ne.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)V(n[r]);delete t.g[e],t.h--}}this.F=null},ne.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ne.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class oe extends A{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:ae(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function le(e){A.call(this),this.h=e,this.g={}}d(le,A);var ce=[];function ue(e){v(e.g,function(e,t){this.g.hasOwnProperty(t)&&J(e)},e),e.g={}}le.prototype.N=function(){le.aa.N.call(this),ue(this)},le.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var de=s.JSON.stringify,he=s.JSON.parse,fe=class{stringify(e){return s.JSON.stringify(e,void 0)}parse(e){return s.JSON.parse(e,void 0)}};function pe(){}function me(e){return e.h||(e.h=e.i())}function ge(){}pe.prototype.h=null;var ye={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ve(){R.call(this,"d")}function xe(){R.call(this,"c")}d(ve,R),d(xe,R);var be={},we=null;function Ne(){return we=we||new ne}function ke(e){R.call(this,be.La,e)}function Ee(e){const t=Ne();re(t,new ke(t))}function _e(e,t){R.call(this,be.STAT_EVENT,e),this.stat=t}function Se(e){const t=Ne();re(t,new _e(t,e))}function Te(e,t){R.call(this,be.Ma,e),this.size=t}function Ce(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){e()},t)}function je(){this.g=!0}function Ie(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var s=r[1];if(Array.isArray(s)&&!(1>s.length)){var i=s[0];if("noop"!=i&&"stop"!=i&&"close"!=i)for(var a=1;a<s.length;a++)s[a]=""}}}return de(n)}catch(o){return t}}(e,n)+(r?" "+r:"")})}be.La="serverreachability",d(ke,R),be.STAT_EVENT="statevent",d(_e,R),be.Ma="timingevent",d(Te,R),je.prototype.xa=function(){this.g=!1},je.prototype.info=function(){};var Pe,Ae={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Re={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function De(){}function Oe(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new le(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Le}function Le(){this.i=null,this.g="",this.h=!1}d(De,pe),De.prototype.g=function(){return new XMLHttpRequest},De.prototype.i=function(){return{}},Pe=new De;var Me={},Fe={};function Ue(e,t,n){e.L=1,e.v=dt(at(t)),e.m=n,e.P=!0,Ve(e,null)}function Ve(e,t){e.F=Date.now(),$e(e),e.A=at(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),_t(n.i,"t",r),e.C=0,n=e.j.J,e.h=new Le,e.g=fn(e.j,n?t:null,!e.m),0<e.O&&(e.M=new oe(c(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var s="readystatechange";Array.isArray(s)||(s&&(ce[0]=s.toString()),s=ce);for(var i=0;i<s.length;i++){var a=W(n,s[i],r||t.handleEvent,!1,t.h||t);if(!a)break;t.g[a.key]=a}t=e.H?x(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Ee(),function(e,t,n,r,s,i){e.info(function(){if(e.g)if(i)for(var a="",o=i.split("&"),l=0;l<o.length;l++){var c=o[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");a=2<=d.length&&"type"==d[1]?a+(u+"=")+c+"&":a+(u+"=redacted&")}}else a=null;else a=i;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+t+"\n"+n+"\n"+a})}(e.i,e.u,e.A,e.l,e.R,e.m)}function ze(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function Be(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Fe:(n=Number(t.substring(n,r)),isNaN(n)?Me:(r+=1)+n>t.length?Fe:(t=t.slice(r,r+n),e.C=r+n,t))}function $e(e){e.S=Date.now()+e.I,qe(e,e.I)}function qe(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Ce(c(e.ba,e),t)}function He(e){e.B&&(s.clearTimeout(e.B),e.B=null)}function We(e){0==e.j.G||e.J||ln(e.j,e)}function Ke(e){He(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,ue(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function Ge(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||Ze(n.h,e)))if(!e.K&&Ze(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var s=r;if(0==s[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;on(n),Jt(n)}rn(n),Se(18)}}else n.za=s[1],0<n.za-n.T&&37500>s[2]&&n.F&&0==n.v&&!n.C&&(n.C=Ce(c(n.Za,n),6e3));if(1>=Xe(n.h)&&n.ca){try{n.ca()}catch(u){}n.ca=void 0}}else un(n,11)}else if((e.K||n.g==e)&&on(n),!p(t))for(s=n.Da.g.parse(t),t=0;t<s.length;t++){let c=s[t];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.K=c[1],n.ia=c[2];const t=c[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const s=c[4];null!=s&&(n.Aa=s,n.j.info("SVER="+n.Aa));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var i=r.h;i.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(i.j=i.l,i.g=new Set,i.h&&(et(i,i.h),i.h=null))}if(r.D){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,ut(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var a=e;if((r=n).qa=hn(r,r.J?r.ia:null,r.W),a.K){tt(r.h,a);var o=a,l=r.L;l&&(o.I=l),o.B&&(He(o),$e(o)),r.g=a}else nn(r);0<n.i.length&&Xt(n)}else"stop"!=c[0]&&"close"!=c[0]||un(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?un(n,7):Qt(n):"noop"!=c[0]&&n.l&&n.l.ta(c),n.v=0)}Ee()}catch(u){}}Oe.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==Ht(e)?t.j():this.Y(e)},Oe.prototype.Y=function(e){try{if(e==this.g)e:{const h=Ht(this.g);var t=this.g.Ba();this.g.Z();if(!(3>h)&&(3!=h||this.g&&(this.h.h||this.g.oa()||Wt(this.g)))){this.J||4!=h||7==t||Ee(),He(this);var n=this.g.Z();this.X=n;t:if(ze(this)){var r=Wt(this.g);e="";var i=r.length,a=4==Ht(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Ke(this),We(this);var o="";break t}this.h.i=new s.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(a&&t==i-1)});r.length=0,this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.oa();if(this.o=200==n,function(e,t,n,r,s,i,a){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+t+"\n"+n+"\n"+i+" "+a})}(this.i,this.u,this.A,this.l,this.R,h,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!p(l)){var u=l;break t}}u=null}if(!(n=u)){this.o=!1,this.s=3,Se(12),Ke(this),We(this);break e}Ie(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ge(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<o.length;){if(e=Be(this,o),e==Fe){4==h&&(this.s=4,Se(14),n=!1),Ie(this.i,this.l,null,"[Incomplete Response]");break}if(e==Me){this.s=4,Se(15),Ie(this.i,this.l,o,"[Invalid Chunk]"),n=!1;break}Ie(this.i,this.l,e,null),Ge(this,e)}if(ze(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=h||0!=o.length||this.h.h||(this.s=1,Se(16),n=!1),this.o=this.o&&n,n){if(0<o.length&&!this.W){this.W=!0;var d=this.j;d.g==this&&d.ba&&!d.M&&(d.j.info("Great, no buffering proxy detected. Bytes received: "+o.length),sn(d),d.M=!0,Se(11))}}else Ie(this.i,this.l,o,"[Invalid Chunked Response]"),Ke(this),We(this)}else Ie(this.i,this.l,o,null),Ge(this,o);4==h&&Ke(this),this.o&&!this.J&&(4==h?ln(this.j,this):(this.o=!1,$e(this)))}else(function(e){const t={};e=(e.g&&2<=Ht(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(p(e[r]))continue;var n=N(e[r]);const s=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const i=t[s]||[];t[s]=i,i.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,function(e){return e.join(", ")})})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.s=3,Se(12)):(this.s=0,Se(13)),Ke(this),We(this)}}}catch(h){}},Oe.prototype.cancel=function(){this.J=!0,Ke(this)},Oe.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.i,this.A),2!=this.L&&(Ee(),Se(17)),Ke(this),this.s=2,We(this)):qe(this,this.S-e)};var Qe=class{constructor(e,t){this.g=e,this.map=t}};function Je(e){this.l=e||10,s.PerformanceNavigationTiming?e=0<(e=s.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ye(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Xe(e){return e.h?1:e.g?e.g.size:0}function Ze(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function et(e,t){e.g?e.g.add(t):e.h=t}function tt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function nt(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return h(e.i)}function rt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(i(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(i(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(i(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),s=r.length,a=0;a<s;a++)t.call(void 0,r[a],n&&n[a],e)}Je.prototype.cancel=function(){if(this.i=nt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var st=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function it(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof it){this.h=e.h,ot(this,e.j),this.o=e.o,this.g=e.g,lt(this,e.s),this.l=e.l;var t=e.i,n=new wt;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),ct(this,n),this.m=e.m}else e&&(t=String(e).match(st))?(this.h=!1,ot(this,t[1]||"",!0),this.o=ht(t[2]||""),this.g=ht(t[3]||"",!0),lt(this,t[4]),this.l=ht(t[5]||"",!0),ct(this,t[6]||"",!0),this.m=ht(t[7]||"")):(this.h=!1,this.i=new wt(null,this.h))}function at(e){return new it(e)}function ot(e,t,n){e.j=n?ht(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function lt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function ct(e,t,n){t instanceof wt?(e.i=t,function(e,t){t&&!e.j&&(Nt(e),e.i=null,e.g.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(kt(this,t),_t(this,n,e))},e)),e.j=t}(e.i,e.h)):(n||(t=ft(t,xt)),e.i=new wt(t,e.h))}function ut(e,t,n){e.i.set(t,n)}function dt(e){return ut(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ht(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ft(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,pt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function pt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}it.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ft(t,gt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(ft(t,gt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(ft(n,"/"==n.charAt(0)?vt:yt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",ft(n,bt)),e.join("")};var mt,gt=/[#\/\?@]/g,yt=/[#\?:]/g,vt=/[#\?]/g,xt=/[#\?@]/g,bt=/#/g;function wt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Nt(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),s=null;if(0<=r){var i=e[n].substring(0,r);s=e[n].substring(r+1)}else i=e[n];t(i,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function kt(e,t){Nt(e),t=St(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Et(e,t){return Nt(e),t=St(e,t),e.g.has(t)}function _t(e,t,n){kt(e,t),0<n.length&&(e.i=null,e.g.set(St(e,t),h(n)),e.h+=n.length)}function St(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Tt(e,t,n,r,s){try{s&&(s.onload=null,s.onerror=null,s.onabort=null,s.ontimeout=null),r(n)}catch(i){}}function Ct(){this.g=new fe}function jt(e,t,n){const r=n||"";try{rt(e,function(e,n){let s=e;a(e)&&(s=de(e)),t.push(r+n+"="+encodeURIComponent(s))})}catch(s){throw t.push(r+"type="+encodeURIComponent("_badmap")),s}}function It(e){this.l=e.Ub||null,this.j=e.eb||!1}function Pt(e,t){ne.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function At(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function Rt(e){e.readyState=4,e.l=null,e.j=null,e.v=null,Dt(e)}function Dt(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Ot(e){let t="";return v(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function Lt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Ot(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):ut(e,t,n))}function Mt(e){ne.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=wt.prototype).add=function(e,t){Nt(this),this.i=null,e=St(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){Nt(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)},e.na=function(){Nt(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const s=e[r];for(let e=0;e<s.length;e++)n.push(t[r])}return n},e.V=function(e){Nt(this);let t=[];if("string"===typeof e)Et(this,e)&&(t=t.concat(this.g.get(St(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return Nt(this),this.i=null,Et(this,e=St(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const i=encodeURIComponent(String(r)),a=this.V(r);for(r=0;r<a.length;r++){var s=i;""!==a[r]&&(s+="="+encodeURIComponent(String(a[r]))),e.push(s)}}return this.i=e.join("&")},d(It,pe),It.prototype.g=function(){return new Pt(this.l,this.j)},It.prototype.i=(mt={},function(){return mt}),d(Pt,ne),(e=Pt.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,Dt(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||s).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Rt(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Dt(this)),this.g&&(this.readyState=3,Dt(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof s.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;At(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Rt(this):Dt(this),3==this.readyState&&At(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,Rt(this))},e.Qa=function(e){this.g&&(this.response=e,Rt(this))},e.ga=function(){this.g&&Rt(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Pt.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),d(Mt,ne);var Ft=/^https?$/i,Ut=["POST","PUT"];function Vt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,zt(e),$t(e)}function zt(e){e.A||(e.A=!0,re(e,"complete"),re(e,"error"))}function Bt(e){if(e.h&&"undefined"!=typeof r&&(!e.v[1]||4!=Ht(e)||2!=e.Z()))if(e.u&&4==Ht(e))ie(e.Ea,0,e);else if(re(e,"readystatechange"),4==Ht(e)){e.h=!1;try{const r=e.Z();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var i;if(i=0===r){var a=String(e.D).match(st)[1]||null;!a&&s.self&&s.self.location&&(a=s.self.location.protocol.slice(0,-1)),i=!Ft.test(a?a.toLowerCase():"")}n=i}if(n)re(e,"complete"),re(e,"success");else{e.m=6;try{var o=2<Ht(e)?e.g.statusText:""}catch(l){o=""}e.l=o+" ["+e.Z()+"]",zt(e)}}finally{$t(e)}}}function $t(e,t){if(e.g){qt(e);const r=e.g,s=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||re(e,"ready");try{r.onreadystatechange=s}catch(n){}}}function qt(e){e.I&&(s.clearTimeout(e.I),e.I=null)}function Ht(e){return e.g?e.g.readyState:0}function Wt(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Kt(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Gt(e){this.Aa=0,this.i=[],this.j=new je,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Kt("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Kt("baseRetryDelayMs",5e3,e),this.cb=Kt("retryDelaySeedMs",1e4,e),this.Wa=Kt("forwardChannelMaxRetries",2,e),this.wa=Kt("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new Je(e&&e.concurrentRequestLimit),this.Da=new Ct,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Qt(e){if(Yt(e),3==e.G){var t=e.U++,n=at(e.I);if(ut(n,"SID",e.K),ut(n,"RID",t),ut(n,"TYPE","terminate"),en(e,n),(t=new Oe(e,e.j,t)).L=2,t.v=dt(at(n)),n=!1,s.navigator&&s.navigator.sendBeacon)try{n=s.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&s.Image&&((new Image).src=t.v,n=!0),n||(t.g=fn(t.j,null),t.g.ea(t.v)),t.F=Date.now(),$e(t)}dn(e)}function Jt(e){e.g&&(sn(e),e.g.cancel(),e.g=null)}function Yt(e){Jt(e),e.u&&(s.clearTimeout(e.u),e.u=null),on(e),e.h.cancel(),e.s&&("number"===typeof e.s&&s.clearTimeout(e.s),e.s=null)}function Xt(e){if(!Ye(e.h)&&!e.s){e.s=!0;var t=e.Ga;T||I(),C||(T(),C=!0),j.add(t,e),e.B=0}}function Zt(e,t){var n;n=t?t.l:e.U++;const r=at(e.I);ut(r,"SID",e.K),ut(r,"RID",n),ut(r,"AID",e.T),en(e,r),e.m&&e.o&&Lt(r,e.m,e.o),n=new Oe(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=tn(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),et(e.h,n),Ue(n,r,t)}function en(e,t){e.H&&v(e.H,function(e,n){ut(t,n,e)}),e.l&&rt({},function(e,n){ut(t,n,e)})}function tn(e,t,n){n=Math.min(e.i.length,n);var r=e.l?c(e.l.Na,e.l,e):null;e:{var s=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=s[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let a=!0;for(let o=0;o<n;o++){let n=s[o].g;const l=s[o].map;if(n-=t,0>n)t=Math.max(0,s[o].g-100),a=!1;else try{jt(l,e,"req"+n+"_")}catch(i){r&&r(l)}}if(a){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function nn(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;T||I(),C||(T(),C=!0),j.add(t,e),e.v=0}}function rn(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=Ce(c(e.Fa,e),cn(e,e.v)),e.v++,!0)}function sn(e){null!=e.A&&(s.clearTimeout(e.A),e.A=null)}function an(e){e.g=new Oe(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=at(e.qa);ut(t,"RID","rpc"),ut(t,"SID",e.K),ut(t,"AID",e.T),ut(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&ut(t,"TO",e.ja),ut(t,"TYPE","xmlhttp"),en(e,t),e.m&&e.o&&Lt(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=dt(at(t)),n.m=null,n.P=!0,Ve(n,e)}function on(e){null!=e.C&&(s.clearTimeout(e.C),e.C=null)}function ln(e,t){var n=null;if(e.g==t){on(e),sn(e),e.g=null;var r=2}else{if(!Ze(e.h,t))return;n=t.D,tt(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var s=e.B;re(r=Ne(),new Te(r,n)),Xt(e)}else nn(e);else if(3==(s=t.s)||0==s&&0<t.X||!(1==r&&function(e,t){return!(Xe(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa))&&(e.s=Ce(c(e.Ga,e,t),cn(e,e.B)),e.B++,!0))}(e,t)||2==r&&rn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),s){case 1:un(e,5);break;case 4:un(e,10);break;case 3:un(e,6);break;default:un(e,2)}}function cn(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function un(e,t){if(e.j.info("Error code "+t),2==t){var n=c(e.fb,e),r=e.Xa;const t=!r;r=new it(r||"//www.google.com/images/cleardot.gif"),s.location&&"http"==s.location.protocol||ot(r,"https"),dt(r),t?function(e,t){const n=new je;if(s.Image){const r=new Image;r.onload=u(Tt,n,"TestLoadImage: loaded",!0,t,r),r.onerror=u(Tt,n,"TestLoadImage: error",!1,t,r),r.onabort=u(Tt,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=u(Tt,n,"TestLoadImage: timeout",!1,t,r),s.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new je;const n=new AbortController,r=setTimeout(()=>{n.abort(),Tt(0,0,!1,t)},1e4);fetch(e,{signal:n.signal}).then(e=>{clearTimeout(r),e.ok?Tt(0,0,!0,t):Tt(0,0,!1,t)}).catch(()=>{clearTimeout(r),Tt(0,0,!1,t)})}(r.toString(),n)}else Se(2);e.G=0,e.l&&e.l.sa(t),dn(e),Yt(e)}function dn(e){if(e.G=0,e.ka=[],e.l){const t=nt(e.h);0==t.length&&0==e.i.length||(f(e.ka,t),f(e.ka,e.i),e.h.i.length=0,h(e.i),e.i.length=0),e.l.ra()}}function hn(e,t,n){var r=n instanceof it?at(n):new it(n);if(""!=r.g)t&&(r.g=t+"."+r.g),lt(r,r.s);else{var i=s.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new it(null);r&&ot(a,r),t&&(a.g=t),i&&lt(a,i),n&&(a.l=n),r=a}return n=e.D,t=e.ya,n&&t&&ut(r,n,t),ut(r,"VER",e.la),en(e,r),r}function fn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Mt(new It({eb:n})):new Mt(e.pa)).Ha(e.J),t}function pn(){}function mn(){}function gn(e,t){ne.call(this),this.g=new Gt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!p(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!p(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new xn(this)}function yn(e){ve.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function vn(){xe.call(this),this.status=1}function xn(e){this.g=e}(e=Mt.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Pe.g(),this.v=this.o?me(this.o):me(Pe),this.g.onreadystatechange=c(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(a){return void Vt(this,a)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find(e=>"content-type"==e.toLowerCase()),i=s.FormData&&e instanceof s.FormData,!(0<=Array.prototype.indexOf.call(Ut,t,void 0))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{qt(this),this.u=!0,this.g.send(e),this.u=!1}catch(a){Vt(this,a)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,re(this,"complete"),re(this,"abort"),$t(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),$t(this,!0)),Mt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Bt(this):this.bb())},e.bb=function(){Bt(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<Ht(this)?this.g.status:-1}catch(mt){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(mt){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),he(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=Gt.prototype).la=8,e.G=1,e.connect=function(e,t,n,r){Se(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=hn(this,null,this.W),Xt(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const s=new Oe(this,this.j,e);let i=this.o;if(this.S&&(i?(i=x(i),w(i,this.S)):i=this.S),null!==this.m||this.O||(s.H=i,i=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=tn(this,s,t),ut(n=at(this.I),"RID",e),ut(n,"CVER",22),this.D&&ut(n,"X-HTTP-Session-Id",this.D),en(this,n),i&&(this.O?t="headers="+encodeURIComponent(String(Ot(i)))+"&"+t:this.m&&Lt(n,this.m,i)),et(this.h,s),this.Ua&&ut(n,"TYPE","init"),this.P?(ut(n,"$req",t),ut(n,"SID","null"),s.T=!0,Ue(s,n,null)):Ue(s,n,t),this.G=2}}else 3==this.G&&(e?Zt(this,e):0==this.i.length||Ye(this.h)||Zt(this))},e.Fa=function(){if(this.u=null,an(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=Ce(c(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Se(10),Jt(this),an(this))},e.Za=function(){null!=this.C&&(this.C=null,Jt(this),rn(this),Se(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),Se(2)):(this.j.info("Failed to ping google.com"),Se(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=pn.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},mn.prototype.g=function(e,t){return new gn(e,t)},d(gn,ne),gn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},gn.prototype.close=function(){Qt(this.g)},gn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=de(e),e=n);t.i.push(new Qe(t.Ya++,e)),3==t.G&&Xt(t)},gn.prototype.N=function(){this.g.l=null,delete this.j,Qt(this.g),delete this.g,gn.aa.N.call(this)},d(yn,ve),d(vn,xe),d(xn,pn),xn.prototype.ua=function(){re(this.g,"a")},xn.prototype.ta=function(e){re(this.g,new yn(e))},xn.prototype.sa=function(e){re(this.g,new vn)},xn.prototype.ra=function(){re(this.g,"b")},mn.prototype.createWebChannel=mn.prototype.g,gn.prototype.send=gn.prototype.o,gn.prototype.open=gn.prototype.m,gn.prototype.close=gn.prototype.close,ka=_a.createWebChannelTransport=function(){return new mn},Na=_a.getStatEventTarget=function(){return Ne()},wa=_a.Event=be,ba=_a.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ae.NO_ERROR=0,Ae.TIMEOUT=8,Ae.HTTP_ERROR=6,xa=_a.ErrorCode=Ae,Re.COMPLETE="complete",va=_a.EventType=Re,ge.EventType=ye,ye.OPEN="a",ye.CLOSE="b",ye.ERROR="c",ye.MESSAGE="d",ne.prototype.listen=ne.prototype.K,ya=_a.WebChannel=ge,_a.FetchXmlHttpFactory=It,Mt.prototype.listenOnce=Mt.prototype.L,Mt.prototype.getLastError=Mt.prototype.Ka,Mt.prototype.getLastErrorCode=Mt.prototype.Ba,Mt.prototype.getStatus=Mt.prototype.Z,Mt.prototype.getResponseJson=Mt.prototype.Oa,Mt.prototype.getResponseText=Mt.prototype.oa,Mt.prototype.send=Mt.prototype.ea,Mt.prototype.setWithCredentials=Mt.prototype.Ha,ga=_a.XhrIo=Mt}).apply("undefined"!==typeof Ea?Ea:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const Sa="@firebase/firestore",Ta="4.8.0";class Ca{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ca.UNAUTHENTICATED=new Ca(null),Ca.GOOGLE_CREDENTIALS=new Ca("google-credentials-uid"),Ca.FIRST_PARTY=new Ca("first-party-uid"),Ca.MOCK_USER=new Ca("mock-user");let ja="11.10.0";const Ia=new yt("@firebase/firestore");function Pa(){return Ia.logLevel}function Aa(e){if(Ia.logLevel<=ht.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const s=n.map(Oa);Ia.debug(`Firestore (${ja}): ${e}`,...s)}}function Ra(e){if(Ia.logLevel<=ht.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const s=n.map(Oa);Ia.error(`Firestore (${ja}): ${e}`,...s)}}function Da(e){if(Ia.logLevel<=ht.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const s=n.map(Oa);Ia.warn(`Firestore (${ja}): ${e}`,...s)}}function Oa(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function La(e,t,n){let r="Unexpected state";"string"==typeof t?r=t:n=t,Ma(e,r,n)}function Ma(e,t,n){let r=`FIRESTORE (${ja}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(void 0!==n)try{r+=" CONTEXT: "+JSON.stringify(n)}catch(e){r+=" CONTEXT: "+n}throw Ra(r),new Error(r)}function Fa(e,t,n,r){let s="Unexpected state";"string"==typeof n?s=n:r=n,e||Ma(t,s,r)}function Ua(e,t){return e}const Va={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class za extends Je{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ba{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class $a{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class qa{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ca.UNAUTHENTICATED))}shutdown(){}}class Ha{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Wa{constructor(e){this.t=e,this.currentUser=Ca.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Fa(void 0===this.o,42304);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let s=new Ba;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ba,e.enqueueRetryable(()=>r(this.currentUser))};const i=()=>{const t=s;e.enqueueRetryable(async()=>{await t.promise,await r(this.currentUser)})},a=e=>{Aa("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),i())};this.t.onInit(e=>a(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?a(e):(Aa("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ba)}},0),i()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(Aa("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Fa("string"==typeof t.accessToken,31837,{l:t}),new $a(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Fa(null===e||"string"==typeof e,2055,{h:e}),new Ca(e)}}class Ka{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=Ca.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Ga{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new Ka(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Ca.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Qa{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ja{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,xn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Fa(void 0===this.o,3512);const n=e=>{null!=e.error&&Aa("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);const n=e.token!==this.m;return this.m=e.token,Aa("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>n(t))};const r=e=>{Aa("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(e=>r(e)),setTimeout(()=>{if(!this.appCheck){const e=this.V.getImmediate({optional:!0});e?r(e):Aa("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Qa(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(Fa("string"==typeof e.token,44558,{tokenResult:e}),this.m=e.token,new Qa(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Ya(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}function Xa(){return new TextEncoder}class Za{static newId(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const n=Ya(40);for(let r=0;r<n.length;++r)t.length<20&&n[r]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[r]%62))}return t}}function eo(e,t){return e<t?-1:e>t?1:0}function to(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=e.codePointAt(n),s=t.codePointAt(n);if(r!==s){if(r<128&&s<128)return eo(r,s);{const i=Xa(),a=ro(i.encode(no(e,n)),i.encode(no(t,n)));return 0!==a?a:eo(r,s)}}n+=r>65535?2:1}return eo(e.length,t.length)}function no(e,t){return e.codePointAt(t)>65535?e.substring(t,t+2):e.substring(t,t+1)}function ro(e,t){for(let n=0;n<e.length&&n<t.length;++n)if(e[n]!==t[n])return eo(e[n],t[n]);return eo(e.length,t.length)}function so(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}const io="__name__";class ao{constructor(e,t,n){void 0===t?t=0:t>e.length&&La(637,{offset:t,range:e.length}),void 0===n?n=e.length-t:n>e.length-t&&La(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===ao.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ao?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=ao.compareSegments(e.get(r),t.get(r));if(0!==n)return n}return eo(e.length,t.length)}static compareSegments(e,t){const n=ao.isNumericId(e),r=ao.isNumericId(t);return n&&!r?-1:!n&&r?1:n&&r?ao.extractNumericId(e).compare(ao.extractNumericId(t)):to(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ha.fromString(e.substring(4,e.length-2))}}class oo extends ao{construct(e,t,n){return new oo(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const s of n){if(s.indexOf("//")>=0)throw new za(Va.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);e.push(...s.split("/").filter(e=>e.length>0))}return new oo(e)}static emptyPath(){return new oo([])}}const lo=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class co extends ao{construct(e,t,n){return new co(e,t,n)}static isValidIdentifier(e){return lo.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),co.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===io}static keyField(){return new co([io])}static fromServerFormat(e){const t=[];let n="",r=0;const s=()=>{if(0===n.length)throw new za(Va.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let i=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new za(Va.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new za(Va.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(i=!i,r++):"."!==t||i?(n+=t,r++):(s(),r++)}if(s(),i)throw new za(Va.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new co(t)}static emptyPath(){return new co([])}}class uo{constructor(e){this.path=e}static fromPath(e){return new uo(oo.fromString(e))}static fromName(e){return new uo(oo.fromString(e).popFirst(5))}static empty(){return new uo(oo.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===oo.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return oo.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new uo(new oo(e.slice()))}}function ho(e,t,n){if(!n)throw new za(Va.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function fo(e){if(!uo.isDocumentKey(e))throw new za(Va.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function po(e){if(uo.isDocumentKey(e))throw new za(Va.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function mo(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}function go(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":La(12329,{type:typeof e})}function yo(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new za(Va.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=go(e);throw new za(Va.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function vo(e,t){if(t<=0)throw new za(Va.INVALID_ARGUMENT,`Function ${e}() requires a positive number, but it was: ${t}.`)}function xo(e,t){const n={typeString:e};return t&&(n.value=t),n}function bo(e,t){if(!mo(e))throw new za(Va.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const s=t[r].typeString,i="value"in t[r]?{value:t[r].value}:void 0;if(!(r in e)){n=`JSON missing required field: '${r}'`;break}const a=e[r];if(s&&typeof a!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(void 0!==i&&a!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new za(Va.INVALID_ARGUMENT,n);return!0}const wo=-62135596800,No=1e6;class ko{static now(){return ko.fromMillis(Date.now())}static fromDate(e){return ko.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*No);return new ko(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new za(Va.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new za(Va.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<wo)throw new za(Va.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new za(Va.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/No}_compareTo(e){return this.seconds===e.seconds?eo(this.nanoseconds,e.nanoseconds):eo(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ko._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(bo(e,ko._jsonSchema))return new ko(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-wo;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ko._jsonSchemaVersion="firestore/timestamp/1.0",ko._jsonSchema={type:xo("string",ko._jsonSchemaVersion),seconds:xo("number"),nanoseconds:xo("number")};class Eo{static fromTimestamp(e){return new Eo(e)}static min(){return new Eo(new ko(0,0))}static max(){return new Eo(new ko(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const _o=-1;class So{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}So.UNKNOWN_ID=-1;function To(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,s=Eo.fromTimestamp(1e9===r?new ko(n+1,0):new ko(n,r));return new jo(s,uo.empty(),t)}function Co(e){return new jo(e.readTime,e.key,_o)}class jo{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new jo(Eo.min(),uo.empty(),_o)}static max(){return new jo(Eo.max(),uo.empty(),_o)}}function Io(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=uo.comparator(e.documentKey,t.documentKey),0!==n?n:eo(e.largestBatchId,t.largestBatchId))}const Po="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ao{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}async function Ro(e){if(e.code!==Va.FAILED_PRECONDITION||e.message!==Po)throw e;Aa("LocalStore","Unexpectedly lost primary lease")}class Do{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&La(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Do((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Do?t:Do.resolve(t)}catch(e){return Do.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Do.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Do.reject(t)}static resolve(e){return new Do((t,n)=>{t(e)})}static reject(e){return new Do((t,n)=>{n(e)})}static waitFor(e){return new Do((t,n)=>{let r=0,s=0,i=!1;e.forEach(e=>{++r,e.next(()=>{++s,i&&s===r&&t()},e=>n(e))}),i=!0,s===r&&t()})}static or(e){let t=Do.resolve(!1);for(const n of e)t=t.next(e=>e?Do.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}static mapArray(e,t){return new Do((n,r)=>{const s=e.length,i=new Array(s);let a=0;for(let o=0;o<s;o++){const l=o;t(e[l]).next(e=>{i[l]=e,++a,a===s&&n(i)},e=>r(e))}})}static doWhile(e,t){return new Do((n,r)=>{const s=()=>{!0===e()?t().next(()=>{s()},r):n()};s()})}}function Oo(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Lo(e){return"IndexedDbTransactionError"===e.name}class Mo{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this._e(e),this.ae=e=>t.writeSequenceNumber(e))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}Mo.ue=-1;const Fo=-1;function Uo(e){return null==e}function Vo(e){return 0===e&&1/e==-1/0}function zo(e){return"number"==typeof e&&Number.isInteger(e)&&!Vo(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const Bo="\x01";function $o(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Ho(t)),t=qo(e.get(n),t);return Ho(t)}function qo(e,t){let n=t;const r=e.length;for(let s=0;s<r;s++){const t=e.charAt(s);switch(t){case"\0":n+="\x01\x10";break;case Bo:n+="\x01\x11";break;default:n+=t}}return n}function Ho(e){return e+Bo+"\x01"}const Wo="remoteDocuments",Ko="owner",Go="mutationQueues",Qo="mutations";const Jo="documentMutations",Yo="remoteDocumentsV14",Xo="remoteDocumentGlobal",Zo="targets",el="targetDocuments",tl="targetGlobal",nl="collectionParents",rl="clientMetadata",sl="bundles",il="namedQueries",al="indexConfiguration",ol="indexState",ll="indexEntries",cl="documentOverlays",ul="globals",dl=[Go,Qo,Jo,Wo,Zo,Ko,tl,el,rl,Xo,nl,sl,il],hl=[Go,Qo,Jo,Yo,Zo,Ko,tl,el,rl,Xo,nl,sl,il,cl],fl=hl,pl=[...fl,al,ol,ll];function ml(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function gl(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function yl(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class vl{constructor(e,t){this.comparator=e,this.root=t||bl.EMPTY}insert(e,t){return new vl(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,bl.BLACK,null,null))}remove(e){return new vl(this.comparator,this.root.remove(e,this.comparator).copy(null,null,bl.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push(`${t}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new xl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new xl(this.root,e,this.comparator,!1)}getReverseIterator(){return new xl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new xl(this.root,e,this.comparator,!0)}}class xl{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?n(e.key,t):1,t&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class bl{constructor(e,t,n,r,s){this.key=e,this.value=t,this.color=null!=n?n:bl.RED,this.left=null!=r?r:bl.EMPTY,this.right=null!=s?s:bl.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,s){return new bl(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=s?s:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const s=n(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===s?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return bl.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return bl.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,bl.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,bl.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw La(43730,{key:this.key,value:this.value});if(this.right.isRed())throw La(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw La(27949);return e+(this.isRed()?0:1)}}bl.EMPTY=null,bl.RED=!0,bl.BLACK=!1,bl.EMPTY=new class{constructor(){this.size=0}get key(){throw La(57766)}get value(){throw La(16141)}get color(){throw La(16727)}get left(){throw La(29726)}get right(){throw La(36894)}copy(e,t,n,r,s){return this}insert(e,t,n){return new bl(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class wl{constructor(e){this.comparator=e,this.data=new vl(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Nl(this.data.getIterator())}getIteratorFrom(e){return new Nl(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof wl))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new wl(this.comparator);return t.data=e,t}}class Nl{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class kl{constructor(e){this.fields=e,e.sort(co.comparator)}static empty(){return new kl([])}unionWith(e){let t=new wl(co.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new kl(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return so(this.fields,e.fields,(e,t)=>e.isEqual(t))}}class El extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class _l{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new El("Invalid base64 string: "+e):e}}(e);return new _l(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new _l(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return eo(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}_l.EMPTY_BYTE_STRING=new _l("");const Sl=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Tl(e){if(Fa(!!e,39018),"string"==typeof e){let t=0;const n=Sl.exec(e);if(Fa(!!n,46558,{timestamp:e}),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Cl(e.seconds),nanos:Cl(e.nanos)}}function Cl(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function jl(e){return"string"==typeof e?_l.fromBase64String(e):_l.fromUint8Array(e)}const Il="server_timestamp",Pl="__type__",Al="__previous_value__",Rl="__local_write_time__";function Dl(e){var t,n;return(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[Pl])||void 0===n?void 0:n.stringValue)===Il}function Ol(e){const t=e.mapValue.fields[Al];return Dl(t)?Ol(t):t}function Ll(e){const t=Tl(e.mapValue.fields[Rl].timestampValue);return new ko(t.seconds,t.nanos)}class Ml{constructor(e,t,n,r,s,i,a,o,l,c){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=s,this.forceLongPolling=i,this.autoDetectLongPolling=a,this.longPollingOptions=o,this.useFetchStreams=l,this.isUsingEmulator=c}}const Fl="(default)";class Ul{constructor(e,t){this.projectId=e,this.database=t||Fl}static empty(){return new Ul("","")}get isDefaultDatabase(){return this.database===Fl}isEqual(e){return e instanceof Ul&&e.projectId===this.projectId&&e.database===this.database}}const Vl="__type__",zl="__max__",Bl={mapValue:{fields:{__type__:{stringValue:zl}}}},$l="__vector__",ql="value";function Hl(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Dl(e)?4:lc(e)?9007199254740991:ac(e)?10:11:La(28295,{value:e})}function Wl(e,t){if(e===t)return!0;const n=Hl(e);if(n!==Hl(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Ll(e).isEqual(Ll(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Tl(e.timestampValue),r=Tl(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return jl(e.bytesValue).isEqual(jl(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Cl(e.geoPointValue.latitude)===Cl(t.geoPointValue.latitude)&&Cl(e.geoPointValue.longitude)===Cl(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Cl(e.integerValue)===Cl(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Cl(e.doubleValue),r=Cl(t.doubleValue);return n===r?Vo(n)===Vo(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return so(e.arrayValue.values||[],t.arrayValue.values||[],Wl);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(ml(n)!==ml(r))return!1;for(const s in n)if(n.hasOwnProperty(s)&&(void 0===r[s]||!Wl(n[s],r[s])))return!1;return!0}(e,t);default:return La(52216,{left:e})}}function Kl(e,t){return void 0!==(e.values||[]).find(e=>Wl(e,t))}function Gl(e,t){if(e===t)return 0;const n=Hl(e),r=Hl(t);if(n!==r)return eo(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return eo(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Cl(e.integerValue||e.doubleValue),r=Cl(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Ql(e.timestampValue,t.timestampValue);case 4:return Ql(Ll(e),Ll(t));case 5:return to(e.stringValue,t.stringValue);case 6:return function(e,t){const n=jl(e),r=jl(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let s=0;s<n.length&&s<r.length;s++){const e=eo(n[s],r[s]);if(0!==e)return e}return eo(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=eo(Cl(e.latitude),Cl(t.latitude));return 0!==n?n:eo(Cl(e.longitude),Cl(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return Jl(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,s,i;const a=e.fields||{},o=t.fields||{},l=null===(n=a[ql])||void 0===n?void 0:n.arrayValue,c=null===(r=o[ql])||void 0===r?void 0:r.arrayValue,u=eo((null===(s=null==l?void 0:l.values)||void 0===s?void 0:s.length)||0,(null===(i=null==c?void 0:c.values)||void 0===i?void 0:i.length)||0);return 0!==u?u:Jl(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===Bl.mapValue&&t===Bl.mapValue)return 0;if(e===Bl.mapValue)return 1;if(t===Bl.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),s=t.fields||{},i=Object.keys(s);r.sort(),i.sort();for(let a=0;a<r.length&&a<i.length;++a){const e=to(r[a],i[a]);if(0!==e)return e;const t=Gl(n[r[a]],s[i[a]]);if(0!==t)return t}return eo(r.length,i.length)}(e.mapValue,t.mapValue);default:throw La(23264,{le:n})}}function Ql(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return eo(e,t);const n=Tl(e),r=Tl(t),s=eo(n.seconds,r.seconds);return 0!==s?s:eo(n.nanos,r.nanos)}function Jl(e,t){const n=e.values||[],r=t.values||[];for(let s=0;s<n.length&&s<r.length;++s){const e=Gl(n[s],r[s]);if(e)return e}return eo(n.length,r.length)}function Yl(e){return Xl(e)}function Xl(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Tl(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return jl(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return uo.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return`geo(${e.latitude},${e.longitude})`}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Xl(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const s of t)r?r=!1:n+=",",n+=`${s}:${Xl(e.fields[s])}`;return n+"}"}(e.mapValue):La(61005,{value:e})}function Zl(e){switch(Hl(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Ol(e);return t?16+Zl(t):16;case 5:return 2*e.stringValue.length;case 6:return jl(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce((e,t)=>e+Zl(t),0)}(e.arrayValue);case 10:case 11:return function(e){let t=0;return gl(e.fields,(e,n)=>{t+=e.length+Zl(n)}),t}(e.mapValue);default:throw La(13486,{value:e})}}function ec(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function tc(e){return!!e&&"integerValue"in e}function nc(e){return!!e&&"arrayValue"in e}function rc(e){return!!e&&"nullValue"in e}function sc(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function ic(e){return!!e&&"mapValue"in e}function ac(e){var t,n;return(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[Vl])||void 0===n?void 0:n.stringValue)===$l}function oc(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return gl(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=oc(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=oc(e.arrayValue.values[n]);return t}return Object.assign({},e)}function lc(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===zl}class cc{constructor(e){this.value=e}static empty(){return new cc({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!ic(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=oc(t)}setAll(e){let t=co.emptyPath(),n={},r=[];e.forEach((e,s)=>{if(!t.isImmediateParentOf(s)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=s.popLast()}e?n[s.lastSegment()]=oc(e):r.push(s.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,n,r)}delete(e){const t=this.field(e.popLast());ic(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Wl(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];ic(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){gl(t,(t,n)=>e[t]=n);for(const r of n)delete e[r]}clone(){return new cc(oc(this.value))}}function uc(e){const t=[];return gl(e.fields,(e,n)=>{const r=new co([e]);if(ic(n)){const e=uc(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)}),new kl(t)}class dc{constructor(e,t,n,r,s,i,a){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=s,this.data=i,this.documentState=a}static newInvalidDocument(e){return new dc(e,0,Eo.min(),Eo.min(),Eo.min(),cc.empty(),0)}static newFoundDocument(e,t,n,r){return new dc(e,1,t,Eo.min(),n,r,0)}static newNoDocument(e,t){return new dc(e,2,t,Eo.min(),Eo.min(),cc.empty(),0)}static newUnknownDocument(e,t){return new dc(e,3,t,Eo.min(),Eo.min(),cc.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Eo.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=cc.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=cc.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Eo.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof dc&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new dc(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class hc{constructor(e,t){this.position=e,this.inclusive=t}}function fc(e,t,n){let r=0;for(let s=0;s<e.position.length;s++){const i=t[s],a=e.position[s];if(r=i.field.isKeyField()?uo.comparator(uo.fromName(a.referenceValue),n.key):Gl(a,n.data.field(i.field)),"desc"===i.dir&&(r*=-1),0!==r)break}return r}function pc(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Wl(e.position[n],t.position[n]))return!1;return!0}class mc{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function gc(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class yc{}class vc extends yc{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new Sc(e,t,n):"array-contains"===t?new Ic(e,n):"in"===t?new Pc(e,n):"not-in"===t?new Ac(e,n):"array-contains-any"===t?new Rc(e,n):new vc(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new Tc(e,n):new Cc(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&void 0===t.nullValue&&this.matchesComparison(Gl(t,this.value)):null!==t&&Hl(this.value)===Hl(t)&&this.matchesComparison(Gl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return La(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class xc extends yc{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new xc(e,t)}matches(e){return bc(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.he||(this.he=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function bc(e){return"and"===e.op}function wc(e){return Nc(e)&&bc(e)}function Nc(e){for(const t of e.filters)if(t instanceof xc)return!1;return!0}function kc(e){if(e instanceof vc)return e.field.canonicalString()+e.op.toString()+Yl(e.value);if(wc(e))return e.filters.map(e=>kc(e)).join(",");{const t=e.filters.map(e=>kc(e)).join(",");return`${e.op}(${t})`}}function Ec(e,t){return e instanceof vc?function(e,t){return t instanceof vc&&e.op===t.op&&e.field.isEqual(t.field)&&Wl(e.value,t.value)}(e,t):e instanceof xc?function(e,t){return t instanceof xc&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((e,n,r)=>e&&Ec(n,t.filters[r]),!0)}(e,t):void La(19439)}function _c(e){return e instanceof vc?function(e){return`${e.field.canonicalString()} ${e.op} ${Yl(e.value)}`}(e):e instanceof xc?function(e){return e.op.toString()+" {"+e.getFilters().map(_c).join(" ,")+"}"}(e):"Filter"}class Sc extends vc{constructor(e,t,n){super(e,t,n),this.key=uo.fromName(n.referenceValue)}matches(e){const t=uo.comparator(e.key,this.key);return this.matchesComparison(t)}}class Tc extends vc{constructor(e,t){super(e,"in",t),this.keys=jc("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Cc extends vc{constructor(e,t){super(e,"not-in",t),this.keys=jc("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function jc(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(e=>uo.fromName(e.referenceValue))}class Ic extends vc{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return nc(t)&&Kl(t.arrayValue,this.value)}}class Pc extends vc{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Kl(this.value.arrayValue,t)}}class Ac extends vc{constructor(e,t){super(e,"not-in",t)}matches(e){if(Kl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&void 0===t.nullValue&&!Kl(this.value.arrayValue,t)}}class Rc extends vc{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!nc(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>Kl(this.value.arrayValue,e))}}class Dc{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=s,this.startAt=i,this.endAt=a,this.Pe=null}}function Oc(e){return new Dc(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Lc(e){const t=Ua(e);if(null===t.Pe){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>kc(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>function(e){return e.field.canonicalString()+e.dir}(e)).join(","),Uo(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(e=>Yl(e)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(e=>Yl(e)).join(",")),t.Pe=e}return t.Pe}function Mc(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!gc(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Ec(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!pc(e.startAt,t.startAt)&&pc(e.endAt,t.endAt)}function Fc(e){return uo.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class Uc{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=s,this.limitType=i,this.startAt=a,this.endAt=o,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function Vc(e,t,n,r,s,i,a,o){return new Uc(e,t,n,r,s,i,a,o)}function zc(e){return new Uc(e)}function Bc(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function $c(e){return null!==e.collectionGroup}function qc(e){const t=Ua(e);if(null===t.Te){t.Te=[];const e=new Set;for(const s of t.explicitOrderBy)t.Te.push(s),e.add(s.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new wl(co.comparator);return e.filters.forEach(e=>{e.getFlattenedFilters().forEach(e=>{e.isInequality()&&(t=t.add(e.field))})}),t}(t);r.forEach(r=>{e.has(r.canonicalString())||r.isKeyField()||t.Te.push(new mc(r,n))}),e.has(co.keyField().canonicalString())||t.Te.push(new mc(co.keyField(),n))}return t.Te}function Hc(e){const t=Ua(e);return t.Ie||(t.Ie=Wc(t,qc(e))),t.Ie}function Wc(e,t){if("F"===e.limitType)return Oc(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(e=>{const t="desc"===e.dir?"asc":"desc";return new mc(e.field,t)});const n=e.endAt?new hc(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new hc(e.startAt.position,e.startAt.inclusive):null;return Oc(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Kc(e,t){const n=e.filters.concat([t]);return new Uc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Gc(e,t,n){return new Uc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Qc(e,t){return Mc(Hc(e),Hc(t))&&e.limitType===t.limitType}function Jc(e){return`${Lc(Hc(e))}|lt:${e.limitType}`}function Yc(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(e=>_c(e)).join(", ")}]`),Uo(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e)).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>Yl(e)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>Yl(e)).join(",")),`Target(${t})`}(Hc(e))}; limitType=${e.limitType})`}function Xc(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):uo.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of qc(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=fc(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,qc(e),t))&&!(e.endAt&&!function(e,t,n){const r=fc(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,qc(e),t))}(e,t)}function Zc(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function eu(e){return(t,n)=>{let r=!1;for(const s of qc(e)){const e=tu(s,t,n);if(0!==e)return e;r=r||s.field.isKeyField()}return 0}}function tu(e,t,n){const r=e.field.isKeyField()?uo.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),s=n.data.field(e);return null!==r&&null!==s?Gl(r,s):La(42886)}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return La(19790,{direction:e.dir})}}class nu{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,s]of n)if(this.equalsFn(r,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){gl(this.inner,(t,n)=>{for(const[r,s]of n)e(r,s)})}isEmpty(){return yl(this.inner)}size(){return this.innerSize}}const ru=new vl(uo.comparator);function su(){return ru}const iu=new vl(uo.comparator);function au(){let e=iu;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const s of n)e=e.insert(s.key,s);return e}function ou(e){let t=iu;return e.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function lu(){return uu()}function cu(){return uu()}function uu(){return new nu(e=>e.toString(),(e,t)=>e.isEqual(t))}const du=new vl(uo.comparator),hu=new wl(uo.comparator);function fu(){let e=hu;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const s of n)e=e.add(s);return e}const pu=new wl(eo);function mu(){return pu}function gu(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Vo(t)?"-0":t}}function yu(e){return{integerValue:""+e}}function vu(e,t){return zo(t)?yu(t):gu(e,t)}class xu{constructor(){this._=void 0}}function bu(e,t,n){return e instanceof ku?function(e,t){const n={fields:{[Pl]:{stringValue:Il},[Rl]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Dl(t)&&(t=Ol(t)),t&&(n.fields[Al]=t),{mapValue:n}}(n,t):e instanceof Eu?_u(e,t):e instanceof Su?Tu(e,t):function(e,t){const n=Nu(e,t),r=ju(n)+ju(e.Ee);return tc(n)&&tc(e.Ee)?yu(r):gu(e.serializer,r)}(e,t)}function wu(e,t,n){return e instanceof Eu?_u(e,t):e instanceof Su?Tu(e,t):n}function Nu(e,t){return e instanceof Cu?function(e){return tc(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class ku extends xu{}class Eu extends xu{constructor(e){super(),this.elements=e}}function _u(e,t){const n=Iu(t);for(const r of e.elements)n.some(e=>Wl(e,r))||n.push(r);return{arrayValue:{values:n}}}class Su extends xu{constructor(e){super(),this.elements=e}}function Tu(e,t){let n=Iu(t);for(const r of e.elements)n=n.filter(e=>!Wl(e,r));return{arrayValue:{values:n}}}class Cu extends xu{constructor(e,t){super(),this.serializer=e,this.Ee=t}}function ju(e){return Cl(e.integerValue||e.doubleValue)}function Iu(e){return nc(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Pu{constructor(e,t){this.field=e,this.transform=t}}class Au{constructor(e,t){this.version=e,this.transformResults=t}}class Ru{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ru}static exists(e){return new Ru(void 0,e)}static updateTime(e){return new Ru(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Du(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Ou{}function Lu(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Wu(e.key,Ru.none()):new zu(e.key,e.data,Ru.none());{const n=e.data,r=cc.empty();let s=new wl(co.comparator);for(let e of t.fields)if(!s.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),s=s.add(e)}return new Bu(e.key,r,new kl(s.toArray()),Ru.none())}}function Mu(e,t,n){e instanceof zu?function(e,t,n){const r=e.value.clone(),s=qu(e.fieldTransforms,t,n.transformResults);r.setAll(s),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Bu?function(e,t,n){if(!Du(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=qu(e.fieldTransforms,t,n.transformResults),s=t.data;s.setAll($u(e)),s.setAll(r),t.convertToFoundDocument(n.version,s).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Fu(e,t,n,r){return e instanceof zu?function(e,t,n,r){if(!Du(e.precondition,t))return n;const s=e.value.clone(),i=Hu(e.fieldTransforms,r,t);return s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null}(e,t,n,r):e instanceof Bu?function(e,t,n,r){if(!Du(e.precondition,t))return n;const s=Hu(e.fieldTransforms,r,t),i=t.data;return i.setAll($u(e)),i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,n,r):function(e,t,n){return Du(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Uu(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),s=Nu(r.transform,e||null);null!=s&&(null===n&&(n=cc.empty()),n.set(r.field,s))}return n||null}function Vu(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&so(e,t,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Eu&&t instanceof Eu||e instanceof Su&&t instanceof Su?so(e.elements,t.elements,Wl):e instanceof Cu&&t instanceof Cu?Wl(e.Ee,t.Ee):e instanceof ku&&t instanceof ku}(e.transform,t.transform)}(e,t))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class zu extends Ou{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Bu extends Ou{constructor(e,t,n,r){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function $u(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function qu(e,t,n){const r=new Map;Fa(e.length===n.length,32656,{Ae:n.length,Re:e.length});for(let s=0;s<n.length;s++){const i=e[s],a=i.transform,o=t.data.field(i.field);r.set(i.field,wu(a,o,n[s]))}return r}function Hu(e,t,n){const r=new Map;for(const s of e){const e=s.transform,i=n.data.field(s.field);r.set(s.field,bu(e,i,t))}return r}class Wu extends Ou{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Ku extends Ou{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Gu{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&Mu(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Fu(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Fu(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=cu();return this.mutations.forEach(r=>{const s=e.get(r.key),i=s.overlayedDocument;let a=this.applyToLocalView(i,s.mutatedFields);a=t.has(r.key)?null:a;const o=Lu(i,a);null!==o&&n.set(r.key,o),i.isValidDocument()||i.convertToNoDocument(Eo.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),fu())}isEqual(e){return this.batchId===e.batchId&&so(this.mutations,e.mutations,(e,t)=>Vu(e,t))&&so(this.baseMutations,e.baseMutations,(e,t)=>Vu(e,t))}}class Qu{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){Fa(e.mutations.length===n.length,58842,{Ve:e.mutations.length,me:n.length});let r=du;const s=e.mutations;for(let i=0;i<s.length;i++)r=r.insert(s[i].key,n[i].version);return new Qu(e,t,n,r)}}class Ju{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Yu{constructor(e,t){this.count=e,this.unchangedNames=t}}var Xu,Zu;function ed(e){switch(e){case Va.OK:return La(64938);case Va.CANCELLED:case Va.UNKNOWN:case Va.DEADLINE_EXCEEDED:case Va.RESOURCE_EXHAUSTED:case Va.INTERNAL:case Va.UNAVAILABLE:case Va.UNAUTHENTICATED:return!1;case Va.INVALID_ARGUMENT:case Va.NOT_FOUND:case Va.ALREADY_EXISTS:case Va.PERMISSION_DENIED:case Va.FAILED_PRECONDITION:case Va.ABORTED:case Va.OUT_OF_RANGE:case Va.UNIMPLEMENTED:case Va.DATA_LOSS:return!0;default:return La(15467,{code:e})}}function td(e){if(void 0===e)return Ra("GRPC error has no .code"),Va.UNKNOWN;switch(e){case Xu.OK:return Va.OK;case Xu.CANCELLED:return Va.CANCELLED;case Xu.UNKNOWN:return Va.UNKNOWN;case Xu.DEADLINE_EXCEEDED:return Va.DEADLINE_EXCEEDED;case Xu.RESOURCE_EXHAUSTED:return Va.RESOURCE_EXHAUSTED;case Xu.INTERNAL:return Va.INTERNAL;case Xu.UNAVAILABLE:return Va.UNAVAILABLE;case Xu.UNAUTHENTICATED:return Va.UNAUTHENTICATED;case Xu.INVALID_ARGUMENT:return Va.INVALID_ARGUMENT;case Xu.NOT_FOUND:return Va.NOT_FOUND;case Xu.ALREADY_EXISTS:return Va.ALREADY_EXISTS;case Xu.PERMISSION_DENIED:return Va.PERMISSION_DENIED;case Xu.FAILED_PRECONDITION:return Va.FAILED_PRECONDITION;case Xu.ABORTED:return Va.ABORTED;case Xu.OUT_OF_RANGE:return Va.OUT_OF_RANGE;case Xu.UNIMPLEMENTED:return Va.UNIMPLEMENTED;case Xu.DATA_LOSS:return Va.DATA_LOSS;default:return La(39323,{code:e})}}(Zu=Xu||(Xu={}))[Zu.OK=0]="OK",Zu[Zu.CANCELLED=1]="CANCELLED",Zu[Zu.UNKNOWN=2]="UNKNOWN",Zu[Zu.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Zu[Zu.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Zu[Zu.NOT_FOUND=5]="NOT_FOUND",Zu[Zu.ALREADY_EXISTS=6]="ALREADY_EXISTS",Zu[Zu.PERMISSION_DENIED=7]="PERMISSION_DENIED",Zu[Zu.UNAUTHENTICATED=16]="UNAUTHENTICATED",Zu[Zu.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Zu[Zu.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Zu[Zu.ABORTED=10]="ABORTED",Zu[Zu.OUT_OF_RANGE=11]="OUT_OF_RANGE",Zu[Zu.UNIMPLEMENTED=12]="UNIMPLEMENTED",Zu[Zu.INTERNAL=13]="INTERNAL",Zu[Zu.UNAVAILABLE=14]="UNAVAILABLE",Zu[Zu.DATA_LOSS=15]="DATA_LOSS";let nd=null;const rd=new ha([4294967295,4294967295],0);function sd(e){const t=Xa().encode(e),n=new fa;return n.update(t),new Uint8Array(n.digest())}function id(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),s=t.getUint32(8,!0),i=t.getUint32(12,!0);return[new ha([n,r],0),new ha([s,i],0)]}class ad{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new od(`Invalid padding: ${t}`);if(n<0)throw new od(`Invalid hash count: ${n}`);if(e.length>0&&0===this.hashCount)throw new od(`Invalid hash count: ${n}`);if(0===e.length&&0!==t)throw new od(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=ha.fromNumber(this.fe)}pe(e,t,n){let r=e.add(t.multiply(ha.fromNumber(n)));return 1===r.compare(rd)&&(r=new ha([r.getBits(0),r.getBits(1)],0)),r.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.fe)return!1;const t=sd(e),[n,r]=id(t);for(let s=0;s<this.hashCount;s++){const e=this.pe(n,r,s);if(!this.ye(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),i=new ad(s,r,t);return n.forEach(e=>i.insert(e)),i}insert(e){if(0===this.fe)return;const t=sd(e),[n,r]=id(t);for(let s=0;s<this.hashCount;s++){const e=this.pe(n,r,s);this.we(e)}}we(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class od extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class ld{constructor(e,t,n,r,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,cd.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new ld(Eo.min(),r,new vl(eo),su(),fu())}}class cd{constructor(e,t,n,r,s){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new cd(n,t,fu(),fu(),fu())}}class ud{constructor(e,t,n,r){this.Se=e,this.removedTargetIds=t,this.key=n,this.be=r}}class dd{constructor(e,t){this.targetId=e,this.De=t}}class hd{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_l.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class fd{constructor(){this.ve=0,this.Ce=gd(),this.Fe=_l.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return 0!==this.ve}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=fu(),t=fu(),n=fu();return this.Ce.forEach((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:La(38017,{changeType:s})}}),new cd(this.Fe,this.Me,e,t,n)}ke(){this.xe=!1,this.Ce=gd()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,Fa(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class pd{constructor(e){this.We=e,this.Ge=new Map,this.ze=su(),this.je=md(),this.Je=md(),this.He=new vl(eo)}Ye(e){for(const t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(const t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,t=>{const n=this.tt(t);switch(e.state){case 0:this.nt(t)&&n.Be(e.resumeToken);break;case 1:n.Ue(),n.Oe||n.ke(),n.Be(e.resumeToken);break;case 2:n.Ue(),n.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(n.Ke(),n.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),n.Be(e.resumeToken));break;default:La(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach((e,n)=>{this.nt(n)&&t(n)})}it(e){const t=e.targetId,n=e.De.count,r=this.st(t);if(r){const s=r.target;if(Fc(s))if(0===n){const e=new uo(s.path);this.Xe(t,e,dc.newNoDocument(e,Eo.min()))}else Fa(1===n,20013,{expectedCount:n});else{const r=this.ot(t);if(r!==n){const n=this._t(e),s=n?this.ut(n,e,r):1;if(0!==s){this.rt(t);const e=2===s?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,e)}null==nd||nd.ct(function(e,t,n,r,s){var i,a,o,l,c,u;const d={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},h=t.unchangedNames;return h&&(d.bloomFilter={applied:0===s,hashCount:null!==(i=null==h?void 0:h.hashCount)&&void 0!==i?i:0,bitmapLength:null!==(l=null===(o=null===(a=null==h?void 0:h.bits)||void 0===a?void 0:a.bitmap)||void 0===o?void 0:o.length)&&void 0!==l?l:0,padding:null!==(u=null===(c=null==h?void 0:h.bits)||void 0===c?void 0:c.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),d}(r,e.De,this.We.lt(),n,s))}}}}_t(e){const t=e.De.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:s=0}=t;let i,a;try{i=jl(n).toUint8Array()}catch(e){if(e instanceof El)return Da("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{a=new ad(i,r,s)}catch(e){return Da(e instanceof od?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===a.fe?null:a}ut(e,t,n){return t.De.count===n-this.ht(e,t.targetId)?0:2}ht(e,t){const n=this.We.getRemoteKeysForTarget(t);let r=0;return n.forEach(n=>{const s=this.We.lt(),i=`projects/${s.projectId}/databases/${s.database}/documents/${n.path.canonicalString()}`;e.mightContain(i)||(this.Xe(t,n,null),r++)}),r}Pt(e){const t=new Map;this.Ge.forEach((n,r)=>{const s=this.st(r);if(s){if(n.current&&Fc(s.target)){const t=new uo(s.target.path);this.Tt(t).has(r)||this.It(r,t)||this.Xe(r,t,dc.newNoDocument(t,e))}n.Ne&&(t.set(r,n.Le()),n.ke())}});let n=fu();this.Je.forEach((e,t)=>{let r=!0;t.forEachWhile(e=>{const t=this.st(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)}),r&&(n=n.add(e))}),this.ze.forEach((t,n)=>n.setReadTime(e));const r=new ld(e,t,this.He,this.ze,n);return this.ze=su(),this.je=md(),this.Je=md(),this.He=new vl(eo),r}Ze(e,t){if(!this.nt(e))return;const n=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,n),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,n){if(!this.nt(e))return;const r=this.tt(e);this.It(e,t)?r.qe(t,1):r.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),n&&(this.ze=this.ze.insert(t,n))}removeTarget(e){this.Ge.delete(e)}ot(e){const t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new fd,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new wl(eo),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new wl(eo),this.je=this.je.insert(e,t)),t}nt(e){const t=null!==this.st(e);return t||Aa("WatchChangeAggregator","Detected inactive target",e),t}st(e){const t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new fd),this.We.getRemoteKeysForTarget(e).forEach(t=>{this.Xe(e,t,null)})}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}}function md(){return new vl(uo.comparator)}function gd(){return new vl(uo.comparator)}const yd={asc:"ASCENDING",desc:"DESCENDING"},vd={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},xd={and:"AND",or:"OR"};class bd{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function wd(e,t){return e.useProto3Json||Uo(t)?t:{value:t}}function Nd(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function kd(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Ed(e,t){return Nd(e,t.toTimestamp())}function _d(e){return Fa(!!e,49232),Eo.fromTimestamp(function(e){const t=Tl(e);return new ko(t.seconds,t.nanos)}(e))}function Sd(e,t){return Td(e,t).canonicalString()}function Td(e,t){const n=function(e){return new oo(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function Cd(e){const t=oo.fromString(e);return Fa(Gd(t),10190,{key:t.toString()}),t}function jd(e,t){return Sd(e.databaseId,t.path)}function Id(e,t){const n=Cd(t);if(n.get(1)!==e.databaseId.projectId)throw new za(Va.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new za(Va.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new uo(Dd(n))}function Pd(e,t){return Sd(e.databaseId,t)}function Ad(e){const t=Cd(e);return 4===t.length?oo.emptyPath():Dd(t)}function Rd(e){return new oo(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Dd(e){return Fa(e.length>4&&"documents"===e.get(4),29091,{key:e.toString()}),e.popFirst(5)}function Od(e,t,n){return{name:jd(e,t),fields:n.value.mapValue.fields}}function Ld(e,t){let n;if(t instanceof zu)n={update:Od(e,t.key,t.value)};else if(t instanceof Wu)n={delete:jd(e,t.key)};else if(t instanceof Bu)n={update:Od(e,t.key,t.data),updateMask:Kd(t.fieldMask)};else{if(!(t instanceof Ku))return La(16599,{Rt:t.type});n={verify:jd(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const n=t.transform;if(n instanceof ku)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Eu)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Su)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Cu)return{fieldPath:t.field.canonicalString(),increment:n.Ee};throw La(20930,{transform:t.transform})}(0,e))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Ed(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:La(27497)}(e,t.precondition)),n}function Md(e,t){return{documents:[Pd(e,t.path)]}}function Fd(e,t){const n={structuredQuery:{}},r=t.path;let s;null!==t.collectionGroup?(s=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Pd(e,s);const i=function(e){if(0!==e.length)return Wd(xc.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const a=function(e){if(0!==e.length)return e.map(e=>function(e){return{field:qd(e.field),direction:zd(e.dir)}}(e))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);const o=wd(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{Vt:n,parent:s}}function Ud(e){let t=Ad(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Fa(1===r,65062);const e=n.from[0];e.allDescendants?s=e.collectionId:t=t.child(e.collectionId)}let i=[];n.where&&(i=function(e){const t=Vd(e);return t instanceof xc&&wc(t)?t.getFilters():[t]}(n.where));let a=[];n.orderBy&&(a=function(e){return e.map(e=>function(e){return new mc(Hd(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))}(n.orderBy));let o=null;n.limit&&(o=function(e){let t;return t="object"==typeof e?e.value:e,Uo(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new hc(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new hc(n,t)}(n.endAt)),Vc(t,s,a,i,o,"F",l,c)}function Vd(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Hd(e.unaryFilter.field);return vc.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Hd(e.unaryFilter.field);return vc.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Hd(e.unaryFilter.field);return vc.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Hd(e.unaryFilter.field);return vc.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return La(61313);default:return La(60726)}}(e):void 0!==e.fieldFilter?function(e){return vc.create(Hd(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return La(58110);default:return La(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return xc.create(e.compositeFilter.filters.map(e=>Vd(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return La(1026)}}(e.compositeFilter.op))}(e):La(30097,{filter:e})}function zd(e){return yd[e]}function Bd(e){return vd[e]}function $d(e){return xd[e]}function qd(e){return{fieldPath:e.canonicalString()}}function Hd(e){return co.fromServerFormat(e.fieldPath)}function Wd(e){return e instanceof vc?function(e){if("=="===e.op){if(sc(e.value))return{unaryFilter:{field:qd(e.field),op:"IS_NAN"}};if(rc(e.value))return{unaryFilter:{field:qd(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(sc(e.value))return{unaryFilter:{field:qd(e.field),op:"IS_NOT_NAN"}};if(rc(e.value))return{unaryFilter:{field:qd(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qd(e.field),op:Bd(e.op),value:e.value}}}(e):e instanceof xc?function(e){const t=e.getFilters().map(e=>Wd(e));return 1===t.length?t[0]:{compositeFilter:{op:$d(e.op),filters:t}}}(e):La(54877,{filter:e})}function Kd(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function Gd(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Qd{constructor(e,t,n,r){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Eo.min(),i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Eo.min(),a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:_l.EMPTY_BYTE_STRING,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=i,this.resumeToken=a,this.expectedCount=o}withSequenceNumber(e){return new Qd(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Qd(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Qd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Qd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Jd{constructor(e){this.gt=e}}function Yd(e){const t=Ud({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Gc(t,t.limit,"L"):t}class Xd{constructor(){}bt(e,t){this.Dt(e,t),t.vt()}Dt(e,t){if("nullValue"in e)this.Ct(t,5);else if("booleanValue"in e)this.Ct(t,10),t.Ft(e.booleanValue?1:0);else if("integerValue"in e)this.Ct(t,15),t.Ft(Cl(e.integerValue));else if("doubleValue"in e){const n=Cl(e.doubleValue);isNaN(n)?this.Ct(t,13):(this.Ct(t,15),Vo(n)?t.Ft(0):t.Ft(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Ct(t,20),"string"==typeof n&&(n=Tl(n)),t.Mt(`${n.seconds||""}`),t.Ft(n.nanos||0)}else if("stringValue"in e)this.xt(e.stringValue,t),this.Ot(t);else if("bytesValue"in e)this.Ct(t,30),t.Nt(jl(e.bytesValue)),this.Ot(t);else if("referenceValue"in e)this.Bt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Ct(t,45),t.Ft(n.latitude||0),t.Ft(n.longitude||0)}else"mapValue"in e?lc(e)?this.Ct(t,Number.MAX_SAFE_INTEGER):ac(e)?this.Lt(e.mapValue,t):(this.kt(e.mapValue,t),this.Ot(t)):"arrayValue"in e?(this.qt(e.arrayValue,t),this.Ot(t)):La(19022,{Qt:e})}xt(e,t){this.Ct(t,25),this.$t(e,t)}$t(e,t){t.Mt(e)}kt(e,t){const n=e.fields||{};this.Ct(t,55);for(const r of Object.keys(n))this.xt(r,t),this.Dt(n[r],t)}Lt(e,t){var n,r;const s=e.fields||{};this.Ct(t,53);const i=ql,a=(null===(r=null===(n=s[i].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.length)||0;this.Ct(t,15),t.Ft(Cl(a)),this.xt(i,t),this.Dt(s[i],t)}qt(e,t){const n=e.values||[];this.Ct(t,50);for(const r of n)this.Dt(r,t)}Bt(e,t){this.Ct(t,37),uo.fromName(e).path.forEach(e=>{this.Ct(t,60),this.$t(e,t)})}Ct(e,t){e.Ft(t)}Ot(e){e.Ft(2)}}Xd.Ut=new Xd;class Zd{constructor(){this.Dn=new eh}addToCollectionParentIndex(e,t){return this.Dn.add(t),Do.resolve()}getCollectionParents(e,t){return Do.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return Do.resolve()}deleteFieldIndex(e,t){return Do.resolve()}deleteAllFieldIndexes(e){return Do.resolve()}createTargetIndexes(e,t){return Do.resolve()}getDocumentsMatchingTarget(e,t){return Do.resolve(null)}getIndexType(e,t){return Do.resolve(0)}getFieldIndexes(e,t){return Do.resolve([])}getNextCollectionGroupToUpdate(e){return Do.resolve(null)}getMinOffset(e,t){return Do.resolve(jo.min())}getMinOffsetFromCollectionGroup(e,t){return Do.resolve(jo.min())}updateCollectionGroup(e,t,n){return Do.resolve()}updateIndexEntries(e,t){return Do.resolve()}}class eh{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new wl(oo.comparator),s=!r.has(n);return this.index[t]=r.add(n),s}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new wl(oo.comparator)).toArray()}}new Uint8Array(0);const th={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},nh=41943040;class rh{static withCacheSize(e){return new rh(e,rh.DEFAULT_COLLECTION_PERCENTILE,rh.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}rh.DEFAULT_COLLECTION_PERCENTILE=10,rh.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,rh.DEFAULT=new rh(nh,rh.DEFAULT_COLLECTION_PERCENTILE,rh.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),rh.DISABLED=new rh(-1,0,0);class sh{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new sh(0)}static ur(){return new sh(-1)}}const ih="LruGarbageCollector",ah=1048576;function oh(e,t){let[n,r]=e,[s,i]=t;const a=eo(n,s);return 0===a?eo(r,i):a}class lh{constructor(e){this.Tr=e,this.buffer=new wl(oh),this.Ir=0}dr(){return++this.Ir}Er(e){const t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();oh(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class ch{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Ar=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return null!==this.Ar}Rr(e){Aa(ih,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Lo(e)?Aa(ih,"Ignoring IndexedDB error during garbage collection: ",e):await Ro(e)}await this.Rr(3e5)})}}class uh{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next(e=>Math.floor(t/100*e))}nthSequenceNumber(e,t){if(0===t)return Do.resolve(Mo.ue);const n=new lh(t);return this.Vr.forEachTarget(e,e=>n.Er(e.sequenceNumber)).next(()=>this.Vr.gr(e,e=>n.Er(e))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.Vr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Aa("LruGarbageCollector","Garbage collection skipped; disabled"),Do.resolve(th)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(Aa("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),th):this.pr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let n,r,s,i,a,o,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(t=>(t>this.params.maximumSequenceNumbersToCollect?(Aa("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),r=this.params.maximumSequenceNumbersToCollect):r=t,i=Date.now(),this.nthSequenceNumber(e,r))).next(r=>(n=r,a=Date.now(),this.removeTargets(e,n,t))).next(t=>(s=t,o=Date.now(),this.removeOrphanedDocuments(e,n))).next(e=>(l=Date.now(),Pa()<=ht.DEBUG&&Aa("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${i-c}ms\n\tDetermined least recently used ${r} in `+(a-i)+"ms\n"+`\tRemoved ${s} targets in `+(o-a)+"ms\n"+`\tRemoved ${e} documents in `+(l-o)+"ms\n"+`Total Duration: ${l-c}ms`),Do.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:e})))}}function dh(e,t){return new uh(e,t)}class hh{constructor(){this.changes=new nu(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,dc.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Do.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class fh{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class ph{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(n=r,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==n&&Fu(n.mutation,e,kl.empty(),ko.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,fu()).next(()=>t))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:fu();const r=lu();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,n).next(e=>{let t=au();return e.forEach((e,n)=>{t=t.insert(e,n.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){const n=lu();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,fu()))}populateOverlays(e,t,n){const r=[];return n.forEach(e=>{t.has(e)||r.push(e)}),this.documentOverlayCache.getOverlays(e,r).next(e=>{e.forEach((e,n)=>{t.set(e,n)})})}computeViews(e,t,n,r){let s=su();const i=uu(),a=uu();return t.forEach((e,t)=>{const a=n.get(t.key);r.has(t.key)&&(void 0===a||a.mutation instanceof Bu)?s=s.insert(t.key,t):void 0!==a?(i.set(t.key,a.mutation.getFieldMask()),Fu(a.mutation,t,a.mutation.getFieldMask(),ko.now())):i.set(t.key,kl.empty())}),this.recalculateAndSaveOverlays(e,s).next(e=>(e.forEach((e,t)=>i.set(e,t)),t.forEach((e,t)=>{var n;return a.set(e,new fh(t,null!==(n=i.get(e))&&void 0!==n?n:null))}),a))}recalculateAndSaveOverlays(e,t){const n=uu();let r=new vl((e,t)=>e-t),s=fu();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(const s of e)s.keys().forEach(e=>{const i=t.get(e);if(null===i)return;let a=n.get(e)||kl.empty();a=s.applyToLocalView(i,a),n.set(e,a);const o=(r.get(s.batchId)||fu()).add(e);r=r.insert(s.batchId,o)})}).next(()=>{const i=[],a=r.getReverseIterator();for(;a.hasNext();){const r=a.getNext(),o=r.key,l=r.value,c=cu();l.forEach(e=>{if(!s.has(e)){const r=Lu(t.get(e),n.get(e));null!==r&&c.set(e,r),s=s.add(e)}}),i.push(this.documentOverlayCache.saveOverlays(e,o,c))}return Do.waitFor(i)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return uo.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):$c(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next(s=>{const i=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-s.size):Do.resolve(lu());let a=_o,o=s;return i.next(t=>Do.forEach(t,(t,n)=>(a<n.largestBatchId&&(a=n.largestBatchId),s.get(t)?Do.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{o=o.insert(t,e)}))).next(()=>this.populateOverlays(e,t,s)).next(()=>this.computeViews(e,o,t,fu())).next(e=>({batchId:a,changes:ou(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new uo(t)).next(e=>{let t=au();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const s=t.collectionGroup;let i=au();return this.indexManager.getCollectionParents(e,s).next(a=>Do.forEach(a,a=>{const o=function(e,t){return new Uc(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(s));return this.getDocumentsMatchingCollectionQuery(e,o,n,r).next(e=>{e.forEach((e,t)=>{i=i.insert(e,t)})})}).next(()=>i))}getDocumentsMatchingCollectionQuery(e,t,n,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(i=>(s=i,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,s,r))).next(e=>{s.forEach((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,dc.newInvalidDocument(r)))});let n=au();return e.forEach((e,r)=>{const i=s.get(e);void 0!==i&&Fu(i.mutation,r,kl.empty(),ko.now()),Xc(t,r)&&(n=n.insert(e,r))}),n})}}class mh{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return Do.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,function(e){return{id:e.id,version:e.version,createTime:_d(e.createTime)}}(t)),Do.resolve()}getNamedQuery(e,t){return Do.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,function(e){return{name:e.name,query:Yd(e.bundledQuery),readTime:_d(e.readTime)}}(t)),Do.resolve()}}class gh{constructor(){this.overlays=new vl(uo.comparator),this.kr=new Map}getOverlay(e,t){return Do.resolve(this.overlays.get(t))}getOverlays(e,t){const n=lu();return Do.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((n,r)=>{this.wt(e,t,r)}),Do.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.kr.get(n);return void 0!==r&&(r.forEach(e=>this.overlays=this.overlays.remove(e)),this.kr.delete(n)),Do.resolve()}getOverlaysForCollection(e,t,n){const r=lu(),s=t.length+1,i=new uo(t.child("")),a=this.overlays.getIteratorFrom(i);for(;a.hasNext();){const e=a.getNext().value,i=e.getKey();if(!t.isPrefixOf(i.path))break;i.path.length===s&&e.largestBatchId>n&&r.set(e.getKey(),e)}return Do.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let s=new vl((e,t)=>e-t);const i=this.overlays.getIterator();for(;i.hasNext();){const e=i.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=s.get(e.largestBatchId);null===t&&(t=lu(),s=s.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const a=lu(),o=s.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach((e,t)=>a.set(e,t)),!(a.size()>=r)););return Do.resolve(a)}wt(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.kr.get(r.largestBatchId).delete(n.key);this.kr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Ju(t,n));let s=this.kr.get(t);void 0===s&&(s=fu(),this.kr.set(t,s)),this.kr.set(t,s.add(n.key))}}class yh{constructor(){this.sessionToken=_l.EMPTY_BYTE_STRING}getSessionToken(e){return Do.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Do.resolve()}}class vh{constructor(){this.qr=new wl(xh.Qr),this.$r=new wl(xh.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){const n=new xh(e,t);this.qr=this.qr.add(n),this.$r=this.$r.add(n)}Kr(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.Wr(new xh(e,t))}Gr(e,t){e.forEach(e=>this.removeReference(e,t))}zr(e){const t=new uo(new oo([])),n=new xh(t,e),r=new xh(t,e+1),s=[];return this.$r.forEachInRange([n,r],e=>{this.Wr(e),s.push(e.key)}),s}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const t=new uo(new oo([])),n=new xh(t,e),r=new xh(t,e+1);let s=fu();return this.$r.forEachInRange([n,r],e=>{s=s.add(e.key)}),s}containsKey(e){const t=new xh(e,0),n=this.qr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class xh{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return uo.comparator(e.key,t.key)||eo(e.Hr,t.Hr)}static Ur(e,t){return eo(e.Hr,t.Hr)||uo.comparator(e.key,t.key)}}class bh{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new wl(xh.Qr)}checkEmpty(e){return Do.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const s=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const i=new Gu(s,t,n,r);this.mutationQueue.push(i);for(const a of r)this.Yr=this.Yr.add(new xh(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Do.resolve(i)}lookupMutationBatch(e,t){return Do.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.Xr(n),s=r<0?0:r;return Do.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Do.resolve(0===this.mutationQueue.length?Fo:this.er-1)}getAllMutationBatches(e){return Do.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new xh(t,0),r=new xh(t,Number.POSITIVE_INFINITY),s=[];return this.Yr.forEachInRange([n,r],e=>{const t=this.Zr(e.Hr);s.push(t)}),Do.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new wl(eo);return t.forEach(e=>{const t=new xh(e,0),r=new xh(e,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([t,r],e=>{n=n.add(e.Hr)})}),Do.resolve(this.ei(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let s=n;uo.isDocumentKey(s)||(s=s.child(""));const i=new xh(new uo(s),0);let a=new wl(eo);return this.Yr.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.Hr)),!0)},i),Do.resolve(this.ei(a))}ei(e){const t=[];return e.forEach(e=>{const n=this.Zr(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){Fa(0===this.ti(t.batchId,"removed"),55003),this.mutationQueue.shift();let n=this.Yr;return Do.forEach(t.mutations,r=>{const s=new xh(r.key,t.batchId);return n=n.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Yr=n})}rr(e){}containsKey(e,t){const n=new xh(t,0),r=this.Yr.firstAfterOrEqual(n);return Do.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Do.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class wh{constructor(e){this.ni=e,this.docs=new vl(uo.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),s=r?r.size:0,i=this.ni(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:i}),this.size+=i-s,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Do.resolve(n?n.document.mutableCopy():dc.newInvalidDocument(t))}getEntries(e,t){let n=su();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():dc.newInvalidDocument(e))}),Do.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let s=su();const i=t.path,a=new uo(i.child("__id-9223372036854775808__")),o=this.docs.getIteratorFrom(a);for(;o.hasNext();){const{key:e,value:{document:a}}=o.getNext();if(!i.isPrefixOf(e.path))break;e.path.length>i.length+1||Io(Co(a),n)<=0||(r.has(a.key)||Xc(t,a))&&(s=s.insert(a.key,a.mutableCopy()))}return Do.resolve(s)}getAllFromCollectionGroup(e,t,n,r){La(9500)}ri(e,t){return Do.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new Nh(this)}getSize(e){return Do.resolve(this.size)}}class Nh extends hh{constructor(e){super(),this.Or=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?t.push(this.Or.addEntry(e,r)):this.Or.removeEntry(n)}),Do.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}}class kh{constructor(e){this.persistence=e,this.ii=new nu(e=>Lc(e),Mc),this.lastRemoteSnapshotVersion=Eo.min(),this.highestTargetId=0,this.si=0,this.oi=new vh,this.targetCount=0,this._i=sh.ar()}forEachTarget(e,t){return this.ii.forEach((e,n)=>t(n)),Do.resolve()}getLastRemoteSnapshotVersion(e){return Do.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Do.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),Do.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.si&&(this.si=t),Do.resolve()}hr(e){this.ii.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this._i=new sh(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,Do.resolve()}updateTargetData(e,t){return this.hr(t),Do.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,Do.resolve()}removeTargets(e,t,n){let r=0;const s=[];return this.ii.forEach((i,a)=>{a.sequenceNumber<=t&&null===n.get(a.targetId)&&(this.ii.delete(i),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),Do.waitFor(s).next(()=>r)}getTargetCount(e){return Do.resolve(this.targetCount)}getTargetData(e,t){const n=this.ii.get(t)||null;return Do.resolve(n)}addMatchingKeys(e,t,n){return this.oi.Kr(t,n),Do.resolve()}removeMatchingKeys(e,t,n){this.oi.Gr(t,n);const r=this.persistence.referenceDelegate,s=[];return r&&t.forEach(t=>{s.push(r.markPotentiallyOrphaned(e,t))}),Do.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),Do.resolve()}getMatchingKeysForTargetId(e,t){const n=this.oi.Jr(t);return Do.resolve(n)}containsKey(e,t){return Do.resolve(this.oi.containsKey(t))}}class Eh{constructor(e,t){this.ai={},this.overlays={},this.ui=new Mo(0),this.ci=!1,this.ci=!0,this.li=new yh,this.referenceDelegate=e(this),this.hi=new kh(this),this.indexManager=new Zd,this.remoteDocumentCache=function(e){return new wh(e)}(e=>this.referenceDelegate.Pi(e)),this.serializer=new Jd(t),this.Ti=new mh(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new gh,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ai[e.toKey()];return n||(n=new bh(t,this.referenceDelegate),this.ai[e.toKey()]=n),n}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,n){Aa("MemoryPersistence","Starting transaction:",e);const r=new _h(this.ui.next());return this.referenceDelegate.Ii(),n(r).next(e=>this.referenceDelegate.di(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Ei(e,t){return Do.or(Object.values(this.ai).map(n=>()=>n.containsKey(e,t)))}}class _h extends Ao{constructor(e){super(),this.currentSequenceNumber=e}}class Sh{constructor(e){this.persistence=e,this.Ai=new vh,this.Ri=null}static Vi(e){return new Sh(e)}get mi(){if(this.Ri)return this.Ri;throw La(60996)}addReference(e,t,n){return this.Ai.addReference(n,t),this.mi.delete(n.toString()),Do.resolve()}removeReference(e,t,n){return this.Ai.removeReference(n,t),this.mi.add(n.toString()),Do.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),Do.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach(e=>this.mi.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.mi.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}Ii(){this.Ri=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Do.forEach(this.mi,n=>{const r=uo.fromPath(n);return this.fi(e,r).next(e=>{e||t.removeEntry(r,Eo.min())})}).next(()=>(this.Ri=null,t.apply(e)))}updateLimboDocument(e,t){return this.fi(e,t).next(e=>{e?this.mi.delete(t.toString()):this.mi.add(t.toString())})}Pi(e){return 0}fi(e,t){return Do.or([()=>Do.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class Th{constructor(e,t){this.persistence=e,this.gi=new nu(e=>$o(e.path),(e,t)=>e.isEqual(t)),this.garbageCollector=dh(this,t)}static Vi(e,t){return new Th(e,t)}Ii(){}di(e){return Do.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){const t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(e=>t.next(t=>e+t))}yr(e){let t=0;return this.gr(e,e=>{t++}).next(()=>t)}gr(e,t){return Do.forEach(this.gi,(n,r)=>this.Sr(e,n,r).next(e=>e?Do.resolve():t(r)))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),s=r.newChangeBuffer();return r.ri(e,r=>this.Sr(e,r,t).next(e=>{e||(n++,s.removeEntry(r,Eo.min()))})).next(()=>s.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),Do.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.gi.set(n,e.currentSequenceNumber),Do.resolve()}removeReference(e,t,n){return this.gi.set(n,e.currentSequenceNumber),Do.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),Do.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Zl(e.data.value)),t}Sr(e,t,n){return Do.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.gi.get(t);return Do.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Ch{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Is=n,this.ds=r}static Es(e,t){let n=fu(),r=fu();for(const s of t.docChanges)switch(s.type){case 0:n=n.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new Ch(e,t.fromCache,n,r)}}class jh{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Ih{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=Ge()?8:Oo(We())>0?6:4}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,n,r){const s={result:null};return this.ps(e,t).next(e=>{s.result=e}).next(()=>{if(!s.result)return this.ys(e,t,r,n).next(e=>{s.result=e})}).next(()=>{if(s.result)return;const n=new jh;return this.ws(e,t,n).next(r=>{if(s.result=r,this.Rs)return this.Ss(e,t,n,r.size)})}).next(()=>s.result)}Ss(e,t,n,r){return n.documentReadCount<this.Vs?(Pa()<=ht.DEBUG&&Aa("QueryEngine","SDK will not create cache indexes for query:",Yc(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),Do.resolve()):(Pa()<=ht.DEBUG&&Aa("QueryEngine","Query:",Yc(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.fs*r?(Pa()<=ht.DEBUG&&Aa("QueryEngine","The SDK decides to create cache indexes for query:",Yc(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Hc(t))):Do.resolve())}ps(e,t){if(Bc(t))return Do.resolve(null);let n=Hc(t);return this.indexManager.getIndexType(e,n).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=Gc(t,null,"F"),n=Hc(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(r=>{const s=fu(...r);return this.gs.getDocuments(e,s).next(r=>this.indexManager.getMinOffset(e,n).next(n=>{const i=this.bs(t,r);return this.Ds(t,i,s,n.readTime)?this.ps(e,Gc(t,null,"F")):this.vs(e,i,t,n)}))})))}ys(e,t,n,r){return Bc(t)||r.isEqual(Eo.min())?Do.resolve(null):this.gs.getDocuments(e,n).next(s=>{const i=this.bs(t,s);return this.Ds(t,i,n,r)?Do.resolve(null):(Pa()<=ht.DEBUG&&Aa("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Yc(t)),this.vs(e,i,t,To(r,_o)).next(e=>e))})}bs(e,t){let n=new wl(eu(e));return t.forEach((t,r)=>{Xc(e,r)&&(n=n.add(r))}),n}Ds(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}ws(e,t,n){return Pa()<=ht.DEBUG&&Aa("QueryEngine","Using full collection scan to execute query:",Yc(t)),this.gs.getDocumentsMatchingQuery(e,t,jo.min(),n)}vs(e,t,n,r){return this.gs.getDocumentsMatchingQuery(e,n,r).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}const Ph="LocalStore";class Ah{constructor(e,t,n,r){this.persistence=e,this.Cs=t,this.serializer=r,this.Fs=new vl(eo),this.Ms=new nu(e=>Lc(e),Mc),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(n)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ph(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Fs))}}function Rh(e,t,n,r){return new Ah(e,t,n,r)}async function Dh(e,t){const n=Ua(e);return await n.persistence.runTransaction("Handle user change","readonly",e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next(s=>(r=s,n.Ns(t),n.mutationQueue.getAllMutationBatches(e))).next(t=>{const s=[],i=[];let a=fu();for(const e of r){s.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}for(const e of t){i.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}return n.localDocuments.getDocuments(e,a).next(e=>({Bs:e,removedBatchIds:s,addedBatchIds:i}))})})}function Oh(e){const t=Ua(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.hi.getLastRemoteSnapshotVersion(e))}function Lh(e,t,n){let r=fu(),s=fu();return n.forEach(e=>r=r.add(e)),t.getEntries(e,r).next(e=>{let r=su();return n.forEach((n,i)=>{const a=e.get(n);i.isFoundDocument()!==a.isFoundDocument()&&(s=s.add(n)),i.isNoDocument()&&i.version.isEqual(Eo.min())?(t.removeEntry(n,i.readTime),r=r.insert(n,i)):!a.isValidDocument()||i.version.compareTo(a.version)>0||0===i.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(i),r=r.insert(n,i)):Aa(Ph,"Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",i.version)}),{Ls:r,ks:s}})}function Mh(e,t){const n=Ua(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=Fo),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)))}function Fh(e,t){const n=Ua(e);return n.persistence.runTransaction("Allocate target","readwrite",e=>{let r;return n.hi.getTargetData(e,t).next(s=>s?(r=s,Do.resolve(r)):n.hi.allocateTargetId(e).next(s=>(r=new Qd(t,s,"TargetPurposeListen",e.currentSequenceNumber),n.hi.addTargetData(e,r).next(()=>r))))}).then(e=>{const r=n.Fs.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(e.targetId,e),n.Ms.set(t,e.targetId)),e})}async function Uh(e,t,n){const r=Ua(e),s=r.Fs.get(t),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,e=>r.persistence.referenceDelegate.removeTarget(e,s))}catch(e){if(!Lo(e))throw e;Aa(Ph,`Failed to update sequence numbers for target ${t}: ${e}`)}r.Fs=r.Fs.remove(t),r.Ms.delete(s.target)}function Vh(e,t,n){const r=Ua(e);let s=Eo.min(),i=fu();return r.persistence.runTransaction("Execute query","readwrite",e=>function(e,t,n){const r=Ua(e),s=r.Ms.get(n);return void 0!==s?Do.resolve(r.Fs.get(s)):r.hi.getTargetData(t,n)}(r,e,Hc(t)).next(t=>{if(t)return s=t.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(e,t.targetId).next(e=>{i=e})}).next(()=>r.Cs.getDocumentsMatchingQuery(e,t,n?s:Eo.min(),n?i:fu())).next(e=>(zh(r,Zc(t),e),{documents:e,qs:i})))}function zh(e,t,n){let r=e.xs.get(t)||Eo.min();n.forEach((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)}),e.xs.set(t,r)}class Bh{constructor(){this.activeTargetIds=mu()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class $h{constructor(){this.Fo=new Bh,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,n){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new Bh,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class qh{xo(e){}shutdown(){}}const Hh="ConnectivityMonitor";class Wh{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){Aa(Hh,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){Aa(Hh,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Kh=null;function Gh(){return null===Kh?Kh=268435456+Math.round(2147483648*Math.random()):Kh++,"0x"+Kh.toString(16)}const Qh="RestConnection",Jh={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Yh{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${n}/databases/${r}`,this.Ko=this.databaseId.database===Fl?`project_id=${n}`:`project_id=${n}&database_id=${r}`}Wo(e,t,n,r,s){const i=Gh(),a=this.Go(e,t.toUriEncodedString());Aa(Qh,`Sending RPC '${e}' ${i}:`,a,n);const o={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(o,r,s);const{host:l}=new URL(a),c=ze(l);return this.jo(e,a,o,n,c).then(t=>(Aa(Qh,`Received RPC '${e}' ${i}: `,t),t),t=>{throw Da(Qh,`RPC '${e}' ${i} failed with error: `,t,"url: ",a,"request:",n),t})}Jo(e,t,n,r,s,i){return this.Wo(e,t,n,r,s)}zo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+ja,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}Go(e,t){const n=Jh[e];return`${this.$o}/v1/${t}:${n}`}terminate(){}}class Xh{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}const Zh="WebChannelConnection";class ef extends Yh{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,n,r,s){const i=Gh();return new Promise((s,a)=>{const o=new ga;o.setWithCredentials(!0),o.listenOnce(va.COMPLETE,()=>{try{switch(o.getLastErrorCode()){case xa.NO_ERROR:const t=o.getResponseJson();Aa(Zh,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(t)),s(t);break;case xa.TIMEOUT:Aa(Zh,`RPC '${e}' ${i} timed out`),a(new za(Va.DEADLINE_EXCEEDED,"Request time out"));break;case xa.HTTP_ERROR:const n=o.getStatus();if(Aa(Zh,`RPC '${e}' ${i} failed with status:`,n,"response text:",o.getResponseText()),n>0){let e=o.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Va).indexOf(t)>=0?t:Va.UNKNOWN}(t.status);a(new za(e,t.message))}else a(new za(Va.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new za(Va.UNAVAILABLE,"Connection failed."));break;default:La(9055,{c_:e,streamId:i,l_:o.getLastErrorCode(),h_:o.getLastError()})}}finally{Aa(Zh,`RPC '${e}' ${i} completed.`)}});const l=JSON.stringify(r);Aa(Zh,`RPC '${e}' ${i} sending request:`,r),o.send(t,"POST",l,n,15)})}P_(e,t,n){const r=Gh(),s=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=ka(),a=Na(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(o.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(o.useFetchStreams=!0),this.zo(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;const c=s.join("");Aa(Zh,`Creating RPC '${e}' stream ${r}: ${c}`,o);const u=i.createWebChannel(c,o);this.T_(u);let d=!1,h=!1;const f=new Xh({Ho:t=>{h?Aa(Zh,`Not sending because RPC '${e}' stream ${r} is closed:`,t):(d||(Aa(Zh,`Opening RPC '${e}' stream ${r} transport.`),u.open(),d=!0),Aa(Zh,`RPC '${e}' stream ${r} sending:`,t),u.send(t))},Yo:()=>u.close()}),p=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};return p(u,ya.EventType.OPEN,()=>{h||(Aa(Zh,`RPC '${e}' stream ${r} transport opened.`),f.s_())}),p(u,ya.EventType.CLOSE,()=>{h||(h=!0,Aa(Zh,`RPC '${e}' stream ${r} transport closed`),f.__(),this.I_(u))}),p(u,ya.EventType.ERROR,t=>{h||(h=!0,Da(Zh,`RPC '${e}' stream ${r} transport errored. Name:`,t.name,"Message:",t.message),f.__(new za(Va.UNAVAILABLE,"The operation could not be completed")))}),p(u,ya.EventType.MESSAGE,t=>{var n;if(!h){const s=t.data[0];Fa(!!s,16349);const i=s,a=(null==i?void 0:i.error)||(null===(n=i[0])||void 0===n?void 0:n.error);if(a){Aa(Zh,`RPC '${e}' stream ${r} received error:`,a);const t=a.status;let n=function(e){const t=Xu[e];if(void 0!==t)return td(t)}(t),s=a.message;void 0===n&&(n=Va.INTERNAL,s="Unknown error status: "+t+" with message "+a.message),h=!0,f.__(new za(n,s)),u.close()}else Aa(Zh,`RPC '${e}' stream ${r} received:`,s),f.a_(s)}}),p(a,wa.STAT_EVENT,t=>{t.stat===ba.PROXY?Aa(Zh,`RPC '${e}' stream ${r} detected buffering proxy`):t.stat===ba.NOPROXY&&Aa(Zh,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{f.o_()},0),f}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(t=>t===e)}}function tf(){return"undefined"!=typeof document?document:null}function nf(e){return new bd(e,!0)}class rf{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.Fi=e,this.timerId=t,this.d_=n,this.E_=r,this.A_=s,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const t=Math.floor(this.R_+this.p_()),n=Math.max(0,Date.now()-this.m_),r=Math.max(0,t-n);r>0&&Aa("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,r,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){null!==this.V_&&(this.V_.skipDelay(),this.V_=null)}cancel(){null!==this.V_&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}const sf="PersistentStream";class af{constructor(e,t,n,r,s,i,a,o){this.Fi=e,this.w_=n,this.S_=r,this.connection=s,this.authCredentialsProvider=i,this.appCheckCredentialsProvider=a,this.listener=o,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new rf(e,t)}M_(){return 1===this.state||5===this.state||this.x_()}x_(){return 2===this.state||3===this.state}start(){this.C_=0,4!==this.state?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&null===this.D_&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,4!==e?this.F_.reset():t&&t.code===Va.RESOURCE_EXHAUSTED?(Ra(t.toString()),Ra("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===Va.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(t)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(e=>{let[n,r]=e;this.b_===t&&this.W_(n,r)},t=>{e(()=>{const e=new za(Va.UNKNOWN,"Fetching auth token failed: "+t.message);return this.G_(e)})})}W_(e,t){const n=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo(()=>{n(()=>this.listener.Zo())}),this.stream.e_(()=>{n(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(e=>{n(()=>this.G_(e))}),this.stream.onMessage(e=>{n(()=>1==++this.C_?this.j_(e):this.onNext(e))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return Aa(sf,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget(()=>this.b_===e?t():(Aa(sf,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class of extends af{constructor(e,t,n,r,s,i){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,i),this.serializer=s}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:La(39313,{state:e})}(t.targetChange.targetChangeType||"NO_CHANGE"),s=t.targetChange.targetIds||[],i=function(e,t){return e.useProto3Json?(Fa(void 0===t||"string"==typeof t,58123),_l.fromBase64String(t||"")):(Fa(void 0===t||t instanceof Buffer||t instanceof Uint8Array,16193),_l.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,o=a&&function(e){const t=void 0===e.code?Va.UNKNOWN:td(e.code);return new za(t,e.message||"")}(a);n=new hd(r,s,i,o||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const s=Id(e,r.document.name),i=_d(r.document.updateTime),a=r.document.createTime?_d(r.document.createTime):Eo.min(),o=new cc({mapValue:{fields:r.document.fields}}),l=dc.newFoundDocument(s,i,a,o),c=r.targetIds||[],u=r.removedTargetIds||[];n=new ud(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const s=Id(e,r.document),i=r.readTime?_d(r.readTime):Eo.min(),a=dc.newNoDocument(s,i),o=r.removedTargetIds||[];n=new ud([],o,a.key,a)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const s=Id(e,r.document),i=r.removedTargetIds||[];n=new ud([],i,s,null)}else{if(!("filter"in t))return La(11601,{At:t});{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:s}=e,i=new Yu(r,s),a=e.targetId;n=new dd(a,i)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Eo.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Eo.min():t.readTime?_d(t.readTime):Eo.min()}(e);return this.listener.J_(t,n)}H_(e){const t={};t.database=Rd(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=Fc(r)?{documents:Md(e,r)}:{query:Fd(e,r).Vt},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=kd(e,t.resumeToken);const r=wd(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(Eo.min())>0){n.readTime=Nd(e,t.snapshotVersion.toTimestamp());const r=wd(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return La(28987,{purpose:e})}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.k_(t)}Y_(e){const t={};t.database=Rd(this.serializer),t.removeTarget=e,this.k_(t)}}class lf extends af{constructor(e,t,n,r,s,i){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,i),this.serializer=s}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,t){return this.connection.P_("Write",e,t)}j_(e){return Fa(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Fa(!e.writeResults||0===e.writeResults.length,55816),this.listener.ea()}onNext(e){Fa(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const t=function(e,t){return e&&e.length>0?(Fa(void 0!==t,14353),e.map(e=>function(e,t){let n=e.updateTime?_d(e.updateTime):_d(t);return n.isEqual(Eo.min())&&(n=_d(t)),new Au(n,e.transformResults||[])}(e,t))):[]}(e.writeResults,e.commitTime),n=_d(e.commitTime);return this.listener.ta(n,t)}na(){const e={};e.database=Rd(this.serializer),this.k_(e)}X_(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>Ld(this.serializer,e))};this.k_(t)}}class cf{}class uf extends cf{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.ra=!1}ia(){if(this.ra)throw new za(Va.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,n,r){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(s=>{let[i,a]=s;return this.connection.Wo(e,Td(t,n),r,i,a)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===Va.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new za(Va.UNKNOWN,e.toString())})}Jo(e,t,n,r,s){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(i=>{let[a,o]=i;return this.connection.Jo(e,Td(t,n),r,a,o,s)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===Va.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new za(Va.UNKNOWN,e.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class df{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){0===this.sa&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){"Online"===this.state?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,"Online"===e&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Ra(t),this._a=!1):Aa("OnlineStateTracker",t)}ha(){null!==this.oa&&(this.oa.cancel(),this.oa=null)}}const hf="RemoteStore";class ff{constructor(e,t,n,r,s){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=s,this.Ea.xo(e=>{n.enqueueAndForget(async()=>{Nf(this)&&(Aa(hf,"Restarting streams for network reachability change."),await async function(e){const t=Ua(e);t.Ia.add(4),await mf(t),t.Aa.set("Unknown"),t.Ia.delete(4),await pf(t)}(this))})}),this.Aa=new df(n,r)}}async function pf(e){if(Nf(e))for(const t of e.da)await t(!0)}async function mf(e){for(const t of e.da)await t(!1)}function gf(e,t){const n=Ua(e);n.Ta.has(t.targetId)||(n.Ta.set(t.targetId,t),wf(n)?bf(n):zf(n).x_()&&vf(n,t))}function yf(e,t){const n=Ua(e),r=zf(n);n.Ta.delete(t),r.x_()&&xf(n,t),0===n.Ta.size&&(r.x_()?r.B_():Nf(n)&&n.Aa.set("Unknown"))}function vf(e,t){if(e.Ra.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Eo.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}zf(e).H_(t)}function xf(e,t){e.Ra.$e(t),zf(e).Y_(t)}function bf(e){e.Ra=new pd({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),Et:t=>e.Ta.get(t)||null,lt:()=>e.datastore.serializer.databaseId}),zf(e).start(),e.Aa.aa()}function wf(e){return Nf(e)&&!zf(e).M_()&&e.Ta.size>0}function Nf(e){return 0===Ua(e).Ia.size}function kf(e){e.Ra=void 0}async function Ef(e){e.Aa.set("Online")}async function _f(e){e.Ta.forEach((t,n)=>{vf(e,t)})}async function Sf(e,t){kf(e),wf(e)?(e.Aa.la(t),bf(e)):e.Aa.set("Unknown")}async function Tf(e,t,n){if(e.Aa.set("Online"),t instanceof hd&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.Ta.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Ta.delete(r),e.Ra.removeTarget(r))}(e,t)}catch(n){Aa(hf,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Cf(e,n)}else if(t instanceof ud?e.Ra.Ye(t):t instanceof dd?e.Ra.it(t):e.Ra.et(t),!n.isEqual(Eo.min()))try{const t=await Oh(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Ra.Pt(t);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const s=e.Ta.get(r);s&&e.Ta.set(r,s.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach((t,n)=>{const r=e.Ta.get(t);if(!r)return;e.Ta.set(t,r.withResumeToken(_l.EMPTY_BYTE_STRING,r.snapshotVersion)),xf(e,t);const s=new Qd(r.target,t,n,r.sequenceNumber);vf(e,s)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){Aa(hf,"Failed to raise snapshot:",t),await Cf(e,t)}}async function Cf(e,t,n){if(!Lo(t))throw t;e.Ia.add(1),await mf(e),e.Aa.set("Offline"),n||(n=()=>Oh(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{Aa(hf,"Retrying IndexedDB access"),await n(),e.Ia.delete(1),await pf(e)})}function jf(e,t){return t().catch(n=>Cf(e,n,t))}async function If(e){const t=Ua(e),n=Bf(t);let r=t.Pa.length>0?t.Pa[t.Pa.length-1].batchId:Fo;for(;Pf(t);)try{const e=await Mh(t.localStore,r);if(null===e){0===t.Pa.length&&n.B_();break}r=e.batchId,Af(t,e)}catch(e){await Cf(t,e)}Rf(t)&&Df(t)}function Pf(e){return Nf(e)&&e.Pa.length<10}function Af(e,t){e.Pa.push(t);const n=Bf(e);n.x_()&&n.Z_&&n.X_(t.mutations)}function Rf(e){return Nf(e)&&!Bf(e).M_()&&e.Pa.length>0}function Df(e){Bf(e).start()}async function Of(e){Bf(e).na()}async function Lf(e){const t=Bf(e);for(const n of e.Pa)t.X_(n.mutations)}async function Mf(e,t,n){const r=e.Pa.shift(),s=Qu.from(r,t,n);await jf(e,()=>e.remoteSyncer.applySuccessfulWrite(s)),await If(e)}async function Ff(e,t){t&&Bf(e).Z_&&await async function(e,t){if(function(e){return ed(e)&&e!==Va.ABORTED}(t.code)){const n=e.Pa.shift();Bf(e).N_(),await jf(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),await If(e)}}(e,t),Rf(e)&&Df(e)}async function Uf(e,t){const n=Ua(e);n.asyncQueue.verifyOperationInProgress(),Aa(hf,"RemoteStore received new credentials");const r=Nf(n);n.Ia.add(3),await mf(n),r&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ia.delete(3),await pf(n)}async function Vf(e,t){const n=Ua(e);t?(n.Ia.delete(2),await pf(n)):t||(n.Ia.add(2),await mf(n),n.Aa.set("Unknown"))}function zf(e){return e.Va||(e.Va=function(e,t,n){const r=Ua(e);return r.ia(),new of(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Zo:Ef.bind(null,e),e_:_f.bind(null,e),n_:Sf.bind(null,e),J_:Tf.bind(null,e)}),e.da.push(async t=>{t?(e.Va.N_(),wf(e)?bf(e):e.Aa.set("Unknown")):(await e.Va.stop(),kf(e))})),e.Va}function Bf(e){return e.ma||(e.ma=function(e,t,n){const r=Ua(e);return r.ia(),new lf(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Zo:()=>Promise.resolve(),e_:Of.bind(null,e),n_:Ff.bind(null,e),ea:Lf.bind(null,e),ta:Mf.bind(null,e)}),e.da.push(async t=>{t?(e.ma.N_(),await If(e)):(await e.ma.stop(),e.Pa.length>0&&(Aa(hf,`Stopping write stream with ${e.Pa.length} pending writes`),e.Pa=[]))})),e.ma}class $f{constructor(e,t,n,r,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=s,this.deferred=new Ba,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,s){const i=Date.now()+n,a=new $f(e,t,i,r,s);return a.start(n),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new za(Va.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function qf(e,t){if(Ra("AsyncQueue",`${t}: ${e}`),Lo(e))return new za(Va.UNAVAILABLE,`${t}: ${e}`);throw e}class Hf{static emptySet(e){return new Hf(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||uo.comparator(t.key,n.key):(e,t)=>uo.comparator(e.key,t.key),this.keyedMap=au(),this.sortedSet=new vl(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Hf))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new Hf;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class Wf{constructor(){this.fa=new vl(uo.comparator)}track(e){const t=e.doc.key,n=this.fa.get(t);n?0!==e.type&&3===n.type?this.fa=this.fa.insert(t,e):3===e.type&&1!==n.type?this.fa=this.fa.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.fa=this.fa.remove(t):1===e.type&&2===n.type?this.fa=this.fa.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):La(63341,{At:e,ga:n}):this.fa=this.fa.insert(t,e)}pa(){const e=[];return this.fa.inorderTraversal((t,n)=>{e.push(n)}),e}}class Kf{constructor(e,t,n,r,s,i,a,o,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=s,this.fromCache=i,this.syncStateChanged=a,this.excludesMetadataChanges=o,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,s){const i=[];return t.forEach(e=>{i.push({type:0,doc:e})}),new Kf(e,t,Hf.emptySet(t),i,n,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Qc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class Gf{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class Qf{constructor(){this.queries=Jf(),this.onlineState="Unknown",this.Da=new Set}terminate(){!function(e,t){const n=Ua(e),r=n.queries;n.queries=Jf(),r.forEach((e,n)=>{for(const r of n.wa)r.onError(t)})}(this,new za(Va.ABORTED,"Firestore shutting down"))}}function Jf(){return new nu(e=>Jc(e),Qc)}async function Yf(e,t){const n=Ua(e);let r=3;const s=t.query;let i=n.queries.get(s);i?!i.Sa()&&t.ba()&&(r=2):(i=new Gf,r=t.ba()?0:1);try{switch(r){case 0:i.ya=await n.onListen(s,!0);break;case 1:i.ya=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(e){const n=qf(e,`Initialization of query '${Yc(t.query)}' failed`);return void t.onError(n)}n.queries.set(s,i),i.wa.push(t),t.va(n.onlineState),i.ya&&t.Ca(i.ya)&&tp(n)}async function Xf(e,t){const n=Ua(e),r=t.query;let s=3;const i=n.queries.get(r);if(i){const e=i.wa.indexOf(t);e>=0&&(i.wa.splice(e,1),0===i.wa.length?s=t.ba()?0:1:!i.Sa()&&t.ba()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Zf(e,t){const n=Ua(e);let r=!1;for(const s of t){const e=s.query,t=n.queries.get(e);if(t){for(const e of t.wa)e.Ca(s)&&(r=!0);t.ya=s}}r&&tp(n)}function ep(e,t,n){const r=Ua(e),s=r.queries.get(t);if(s)for(const i of s.wa)i.onError(n);r.queries.delete(t)}function tp(e){e.Da.forEach(e=>{e.next()})}var np,rp;(rp=np||(np={})).Fa="default",rp.Cache="cache";class sp{constructor(e,t,n){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=n||{}}Ca(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new Kf(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache)return!0;if(!this.ba())return!0;const n="Offline"!==t;return(!this.options.ka||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Na(e){if(e.docChanges.length>0)return!0;const t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}La(e){e=Kf.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==np.Cache}}class ip{constructor(e){this.key=e}}class ap{constructor(e){this.key=e}}class op{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=fu(),this.mutatedKeys=fu(),this.Xa=eu(e),this.eu=new Hf(this.Xa)}get tu(){return this.Ha}nu(e,t){const n=t?t.ru:new Wf,r=t?t.eu:this.eu;let s=t?t.mutatedKeys:this.mutatedKeys,i=r,a=!1;const o="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((e,t)=>{const c=r.get(e),u=Xc(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),f=!0):this.iu(c,u)||(n.track({type:2,doc:u}),f=!0,(o&&this.Xa(u,o)>0||l&&this.Xa(u,l)<0)&&(a=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(o||l)&&(a=!0)),f&&(u?(i=i.add(u),s=h?s.add(e):s.delete(e)):(i=i.delete(e),s=s.delete(e)))}),null!==this.query.limit)for(;i.size>this.query.limit;){const e="F"===this.query.limitType?i.last():i.first();i=i.delete(e.key),s=s.delete(e.key),n.track({type:1,doc:e})}return{eu:i,ru:n,Ds:a,mutatedKeys:s}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const s=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const i=e.ru.pa();i.sort((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return La(20277,{At:e})}};return n(e)-n(t)}(e.type,t.type)||this.Xa(e.doc,t.doc)),this.su(n),r=null!=r&&r;const a=t&&!r?this.ou():[],o=0===this.Za.size&&this.current&&!r?1:0,l=o!==this.Ya;return this.Ya=o,0!==i.length||l?{snapshot:new Kf(this.query,e.eu,s,i,e.mutatedKeys,0===o,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),_u:a}:{_u:a}}va(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({eu:this.eu,ru:new Wf,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(e=>this.Ha=this.Ha.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.Ha=this.Ha.delete(e)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=fu(),this.eu.forEach(e=>{this.au(e.key)&&(this.Za=this.Za.add(e.key))});const t=[];return e.forEach(e=>{this.Za.has(e)||t.push(new ap(e))}),this.Za.forEach(n=>{e.has(n)||t.push(new ip(n))}),t}uu(e){this.Ha=e.qs,this.Za=fu();const t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return Kf.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,0===this.Ya,this.hasCachedResults)}}const lp="SyncEngine";class cp{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class up{constructor(e){this.key=e,this.lu=!1}}class dp{constructor(e,t,n,r,s,i){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=i,this.hu={},this.Pu=new nu(e=>Jc(e),Qc),this.Tu=new Map,this.Iu=new Set,this.du=new vl(uo.comparator),this.Eu=new Map,this.Au=new vh,this.Ru={},this.Vu=new Map,this.mu=sh.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return!0===this.fu}}async function hp(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=Rp(e);let s;const i=r.Pu.get(t);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.cu()):s=await pp(r,t,n,!0),s}async function fp(e,t){const n=Rp(e);await pp(n,t,!0,!1)}async function pp(e,t,n,r){const s=await Fh(e.localStore,Hc(t)),i=s.targetId,a=e.sharedClientState.addLocalQueryTarget(i,n);let o;return r&&(o=await mp(e,t,i,"current"===a,s.resumeToken)),e.isPrimaryClient&&n&&gf(e.remoteStore,s),o}async function mp(e,t,n,r,s){e.gu=(t,n,r)=>async function(e,t,n,r){let s=t.view.nu(n);s.Ds&&(s=await Vh(e.localStore,t.query,!1).then(e=>{let{documents:n}=e;return t.view.nu(n,s)}));const i=r&&r.targetChanges.get(t.targetId),a=r&&null!=r.targetMismatches.get(t.targetId),o=t.view.applyChanges(s,e.isPrimaryClient,i,a);return Tp(e,t.targetId,o._u),o.snapshot}(e,t,n,r);const i=await Vh(e.localStore,t,!0),a=new op(t,i.qs),o=a.nu(i.documents),l=cd.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,s),c=a.applyChanges(o,e.isPrimaryClient,l);Tp(e,n,c._u);const u=new cp(t,n,a);return e.Pu.set(t,u),e.Tu.has(n)?e.Tu.get(n).push(t):e.Tu.set(n,[t]),c.snapshot}async function gp(e,t,n){const r=Ua(e),s=r.Pu.get(t),i=r.Tu.get(s.targetId);if(i.length>1)return r.Tu.set(s.targetId,i.filter(e=>!Qc(e,t))),void r.Pu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Uh(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&yf(r.remoteStore,s.targetId),_p(r,s.targetId)}).catch(Ro)):(_p(r,s.targetId),await Uh(r.localStore,s.targetId,!0))}async function yp(e,t){const n=Ua(e),r=n.Pu.get(t),s=n.Tu.get(r.targetId);n.isPrimaryClient&&1===s.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),yf(n.remoteStore,r.targetId))}async function vp(e,t){const n=Ua(e);try{const e=await function(e,t){const n=Ua(e),r=t.snapshotVersion;let s=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const i=n.Os.newChangeBuffer({trackRemovals:!0});s=n.Fs;const a=[];t.targetChanges.forEach((i,o)=>{const l=s.get(o);if(!l)return;a.push(n.hi.removeMatchingKeys(e,i.removedDocuments,o).next(()=>n.hi.addMatchingKeys(e,i.addedDocuments,o)));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(o)?c=c.withResumeToken(_l.EMPTY_BYTE_STRING,Eo.min()).withLastLimboFreeSnapshotVersion(Eo.min()):i.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(i.resumeToken,r)),s=s.insert(o,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(l,c,i)&&a.push(n.hi.updateTargetData(e,c))});let o=su(),l=fu();if(t.documentUpdates.forEach(r=>{t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),a.push(Lh(e,i,t.documentUpdates).next(e=>{o=e.Ls,l=e.ks})),!r.isEqual(Eo.min())){const t=n.hi.getLastRemoteSnapshotVersion(e).next(t=>n.hi.setTargetsMetadata(e,e.currentSequenceNumber,r));a.push(t)}return Do.waitFor(a).next(()=>i.apply(e)).next(()=>n.localDocuments.getLocalViewOfDocuments(e,o,l)).next(()=>o)}).then(e=>(n.Fs=s,e))}(n.localStore,t);t.targetChanges.forEach((e,t)=>{const r=n.Eu.get(t);r&&(Fa(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1,22616),e.addedDocuments.size>0?r.lu=!0:e.modifiedDocuments.size>0?Fa(r.lu,14607):e.removedDocuments.size>0&&(Fa(r.lu,42227),r.lu=!1))}),await Ip(n,e,t)}catch(e){await Ro(e)}}function xp(e,t,n){const r=Ua(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.Pu.forEach((n,r)=>{const s=r.view.va(t);s.snapshot&&e.push(s.snapshot)}),function(e,t){const n=Ua(e);n.onlineState=t;let r=!1;n.queries.forEach((e,n)=>{for(const s of n.wa)s.va(t)&&(r=!0)}),r&&tp(n)}(r.eventManager,t),e.length&&r.hu.J_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function bp(e,t,n){const r=Ua(e);r.sharedClientState.updateQueryState(t,"rejected",n);const s=r.Eu.get(t),i=s&&s.key;if(i){let e=new vl(uo.comparator);e=e.insert(i,dc.newNoDocument(i,Eo.min()));const n=fu().add(i),s=new ld(Eo.min(),new Map,new vl(eo),e,n);await vp(r,s),r.du=r.du.remove(i),r.Eu.delete(t),jp(r)}else await Uh(r.localStore,t,!1).then(()=>_p(r,t,n)).catch(Ro)}async function wp(e,t){const n=Ua(e),r=t.batch.batchId;try{const e=await function(e,t){const n=Ua(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const r=t.batch.keys(),s=n.Os.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const s=n.batch,i=s.keys();let a=Do.resolve();return i.forEach(e=>{a=a.next(()=>r.getEntry(t,e)).next(t=>{const i=n.docVersions.get(e);Fa(null!==i,48541),t.version.compareTo(i)<0&&(s.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))})}),a.next(()=>e.mutationQueue.removeMutationBatch(t,s))}(n,e,t,s).next(()=>s.apply(e)).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=fu();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))).next(()=>n.localDocuments.getDocuments(e,r))})}(n.localStore,t);Ep(n,r,null),kp(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ip(n,e)}catch(e){await Ro(e)}}async function Np(e,t,n){const r=Ua(e);try{const e=await function(e,t){const n=Ua(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next(t=>(Fa(null!==t,37113),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t))).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)).next(()=>n.localDocuments.getDocuments(e,r))})}(r.localStore,t);Ep(r,t,n),kp(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Ip(r,e)}catch(n){await Ro(n)}}function kp(e,t){(e.Vu.get(t)||[]).forEach(e=>{e.resolve()}),e.Vu.delete(t)}function Ep(e,t,n){const r=Ua(e);let s=r.Ru[r.currentUser.toKey()];if(s){const e=s.get(t);e&&(n?e.reject(n):e.resolve(),s=s.remove(t)),r.Ru[r.currentUser.toKey()]=s}}function _p(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Tu.get(t))e.Pu.delete(r),n&&e.hu.pu(r,n);e.Tu.delete(t),e.isPrimaryClient&&e.Au.zr(t).forEach(t=>{e.Au.containsKey(t)||Sp(e,t)})}function Sp(e,t){e.Iu.delete(t.path.canonicalString());const n=e.du.get(t);null!==n&&(yf(e.remoteStore,n),e.du=e.du.remove(t),e.Eu.delete(n),jp(e))}function Tp(e,t,n){for(const r of n)r instanceof ip?(e.Au.addReference(r.key,t),Cp(e,r)):r instanceof ap?(Aa(lp,"Document no longer in limbo: "+r.key),e.Au.removeReference(r.key,t),e.Au.containsKey(r.key)||Sp(e,r.key)):La(19791,{yu:r})}function Cp(e,t){const n=t.key,r=n.path.canonicalString();e.du.get(n)||e.Iu.has(r)||(Aa(lp,"New document in limbo: "+n),e.Iu.add(r),jp(e))}function jp(e){for(;e.Iu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Iu.values().next().value;e.Iu.delete(t);const n=new uo(oo.fromString(t)),r=e.mu.next();e.Eu.set(r,new up(n)),e.du=e.du.insert(n,r),gf(e.remoteStore,new Qd(Hc(zc(n.path)),r,"TargetPurposeLimboResolution",Mo.ue))}}async function Ip(e,t,n){const r=Ua(e),s=[],i=[],a=[];r.Pu.isEmpty()||(r.Pu.forEach((e,o)=>{a.push(r.gu(o,t,n).then(e=>{var t;if((e||n)&&r.isPrimaryClient){const s=e?!e.fromCache:null===(t=null==n?void 0:n.targetChanges.get(o.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(o.targetId,s?"current":"not-current")}if(e){s.push(e);const t=Ch.Es(o.targetId,e);i.push(t)}}))}),await Promise.all(a),r.hu.J_(s),await async function(e,t){const n=Ua(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>Do.forEach(t,t=>Do.forEach(t.Is,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>Do.forEach(t.ds,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))}catch(e){if(!Lo(e))throw e;Aa(Ph,"Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Fs.get(e),r=t.snapshotVersion,s=t.withLastLimboFreeSnapshotVersion(r);n.Fs=n.Fs.insert(e,s)}}}(r.localStore,i))}async function Pp(e,t){const n=Ua(e);if(!n.currentUser.isEqual(t)){Aa(lp,"User change. New user:",t.toKey());const e=await Dh(n.localStore,t);n.currentUser=t,function(e,t){e.Vu.forEach(e=>{e.forEach(e=>{e.reject(new za(Va.CANCELLED,t))})}),e.Vu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await Ip(n,e.Bs)}}function Ap(e,t){const n=Ua(e),r=n.Eu.get(t);if(r&&r.lu)return fu().add(r.key);{let e=fu();const r=n.Tu.get(t);if(!r)return e;for(const t of r){const r=n.Pu.get(t);e=e.unionWith(r.view.tu)}return e}}function Rp(e){const t=Ua(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=vp.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ap.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=bp.bind(null,t),t.hu.J_=Zf.bind(null,t.eventManager),t.hu.pu=ep.bind(null,t.eventManager),t}function Dp(e){const t=Ua(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=wp.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Np.bind(null,t),t}class Op{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=nf(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,t){return null}Fu(e,t){return null}vu(e){return Rh(this.persistence,new Ih,e.initialUser,this.serializer)}Du(e){return new Eh(Sh.Vi,this.serializer)}bu(e){return new $h}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Op.provider={build:()=>new Op};class Lp extends Op{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){Fa(this.persistence.referenceDelegate instanceof Th,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new ch(n,e.asyncQueue,t)}Du(e){const t=void 0!==this.cacheSizeBytes?rh.withCacheSize(this.cacheSizeBytes):rh.DEFAULT;return new Eh(e=>Th.Vi(e,t),this.serializer)}}class Mp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>xp(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Pp.bind(null,this.syncEngine),await Vf(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Qf}createDatastore(e){const t=nf(e.databaseInfo.databaseId),n=function(e){return new ef(e)}(e.databaseInfo);return function(e,t,n,r){return new uf(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,s){return new ff(e,t,n,r,s)}(this.localStore,this.datastore,e.asyncQueue,e=>xp(this.syncEngine,e,0),Wh.C()?new Wh:new qh)}createSyncEngine(e,t){return function(e,t,n,r,s,i,a){const o=new dp(e,t,n,r,s,i);return a&&(o.fu=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=Ua(e);Aa(hf,"RemoteStore shutting down."),t.Ia.add(5),await mf(t),t.Ea.shutdown(),t.Aa.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}Mp.provider={build:()=>new Mp};class Fp{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):Ra("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}const Up="FirestoreClient";class Vp{constructor(e,t,n,r,s){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Ca.UNAUTHENTICATED,this.clientId=Za.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(n,async e=>{Aa(Up,"Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(n,e=>(Aa(Up,"Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ba;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=qf(t,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function zp(e,t){e.asyncQueue.verifyOperationInProgress(),Aa(Up,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async e=>{r.isEqual(e)||(await Dh(t.localStore,e),r=e)}),t.persistence.setDatabaseDeletedListener(()=>{Da("Terminating Firestore due to IndexedDb database deletion"),e.terminate().then(()=>{Aa("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(e=>{Da("Terminating Firestore due to IndexedDb database deletion failed",e)})}),e._offlineComponents=t}async function Bp(e,t){e.asyncQueue.verifyOperationInProgress();const n=await $p(e);Aa(Up,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(e=>Uf(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,n)=>Uf(t.remoteStore,n)),e._onlineComponents=t}async function $p(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Aa(Up,"Using user provided OfflineComponentProvider");try{await zp(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(e){return"FirebaseError"===e.name?e.code===Va.FAILED_PRECONDITION||e.code===Va.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;Da("Error using user provided cache. Falling back to memory cache: "+n),await zp(e,new Op)}}else Aa(Up,"Using default OfflineComponentProvider"),await zp(e,new Lp(void 0));return e._offlineComponents}async function qp(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Aa(Up,"Using user provided OnlineComponentProvider"),await Bp(e,e._uninitializedComponentsProvider._online)):(Aa(Up,"Using default OnlineComponentProvider"),await Bp(e,new Mp))),e._onlineComponents}function Hp(e){return qp(e).then(e=>e.syncEngine)}async function Wp(e){const t=await qp(e),n=t.eventManager;return n.onListen=hp.bind(null,t.syncEngine),n.onUnlisten=gp.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=fp.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=yp.bind(null,t.syncEngine),n}function Kp(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Ba;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,s){const i=new Fp({next:o=>{i.Ou(),t.enqueueAndForget(()=>Xf(e,a));const l=o.docs.has(n);!l&&o.fromCache?s.reject(new za(Va.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&o.fromCache&&r&&"server"===r.source?s.reject(new za(Va.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):s.resolve(o)},error:e=>s.reject(e)}),a=new sp(zc(n.path),i,{includeMetadataChanges:!0,ka:!0});return Yf(e,a)}(await Wp(e),e.asyncQueue,t,n,r)),r.promise}function Gp(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Ba;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,s){const i=new Fp({next:n=>{i.Ou(),t.enqueueAndForget(()=>Xf(e,a)),n.fromCache&&"server"===r.source?s.reject(new za(Va.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):s.resolve(n)},error:e=>s.reject(e)}),a=new sp(n,i,{includeMetadataChanges:!0,ka:!0});return Yf(e,a)}(await Wp(e),e.asyncQueue,t,n,r)),r.promise}function Qp(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const Jp=new Map,Yp="firestore.googleapis.com",Xp=!0;class Zp{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new za(Va.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Yp,this.ssl=Xp}else this.host=e.host,this.ssl=null!==(t=e.ssl)&&void 0!==t?t:Xp;if(this.isUsingEmulator=void 0!==e.emulatorOptions,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=nh;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<ah)throw new za(Va.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new za(Va.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Qp(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new za(Va.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new za(Va.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new za(Va.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class em{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Zp({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new za(Va.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new za(Va.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Zp(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new qa;switch(e.type){case"firstParty":return new Ga(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new za(Va.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Jp.get(e);t&&(Aa("ComponentProvider","Removing Datastore"),Jp.delete(e),t.terminate())}(this),Promise.resolve()}}function tm(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var s;e=yo(e,em);const i=ze(t),a=e._getSettings(),o=Object.assign(Object.assign({},a),{emulatorOptions:e._getEmulatorOptions()}),l=`${t}:${n}`;i&&(Be(`https://${l}`),He("Firestore",!0)),a.host!==Yp&&a.host!==l&&Da("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c=Object.assign(Object.assign({},a),{host:l,ssl:i,emulatorOptions:r});if(!Ze(c,o)&&(e._setSettings(c),r.mockUserToken)){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=Ca.MOCK_USER;else{t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const i=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Re(JSON.stringify({alg:"none",type:"JWT"})),Re(JSON.stringify(i)),""].join(".")}(r.mockUserToken,null===(s=e._app)||void 0===s?void 0:s.options.projectId);const i=r.mockUserToken.sub||r.mockUserToken.user_id;if(!i)throw new za(Va.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Ca(i)}e._authCredentials=new Ha(new $a(t,n))}}class nm{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new nm(this.firestore,e,this._query)}}class rm{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new sm(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new rm(this.firestore,e,this._key)}toJSON(){return{type:rm._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,n){if(bo(t,rm._jsonSchema))return new rm(e,n||null,new uo(oo.fromString(t.referencePath)))}}rm._jsonSchemaVersion="firestore/documentReference/1.0",rm._jsonSchema={type:xo("string",rm._jsonSchemaVersion),referencePath:xo("string")};class sm extends nm{constructor(e,t,n){super(e,t,zc(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new rm(this.firestore,null,new uo(e))}withConverter(e){return new sm(this.firestore,e,this._path)}}function im(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),s=2;s<n;s++)r[s-2]=arguments[s];if(e=at(e),ho("collection","path",t),e instanceof em){const n=oo.fromString(t,...r);return po(n),new sm(e,null,n)}{if(!(e instanceof rm||e instanceof sm))throw new za(Va.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(oo.fromString(t,...r));return po(n),new sm(e.firestore,null,n)}}function am(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),s=2;s<n;s++)r[s-2]=arguments[s];if(e=at(e),1===arguments.length&&(t=Za.newId()),ho("doc","path",t),e instanceof em){const n=oo.fromString(t,...r);return fo(n),new rm(e,null,new uo(n))}{if(!(e instanceof rm||e instanceof sm))throw new za(Va.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(oo.fromString(t,...r));return fo(n),new rm(e.firestore,e instanceof sm?e.converter:null,new uo(n))}}const om="AsyncQueue";class lm{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new rf(this,"async_queue_retry"),this.oc=()=>{const e=tf();e&&Aa(om,"Visibility state changed to "+e.visibilityState),this.F_.y_()},this._c=e;const t=tf();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const t=tf();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const t=new Ba;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(0!==this.Zu.length){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Lo(e))throw e;Aa(om,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const t=this._c.then(()=>(this.nc=!0,e().catch(e=>{throw this.tc=e,this.nc=!1,Ra("INTERNAL UNHANDLED ERROR: ",cm(e)),e}).then(e=>(this.nc=!1,e))));return this._c=t,t}enqueueAfterDelay(e,t,n){this.ac(),this.sc.indexOf(e)>-1&&(t=0);const r=$f.createAndSchedule(this,e,t,n,e=>this.lc(e));return this.ec.push(r),r}ac(){this.tc&&La(47125,{hc:cm(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do{e=this._c,await e}while(e!==this._c)}Tc(e){for(const t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.ec)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const t=this.ec.indexOf(e);this.ec.splice(t,1)}}function cm(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}class um extends em{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new lm,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new lm(e),this._firestoreClient=void 0,await e}}}function dm(e){if(e._terminated)throw new za(Va.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||hm(e),e._firestoreClient}function hm(e){var t,n,r;const s=e._freezeSettings(),i=function(e,t,n,r){return new Ml(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,Qp(r.experimentalLongPollingOptions),r.useFetchStreams,r.isUsingEmulator)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,s);e._componentsProvider||(null===(n=s.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=s.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),e._firestoreClient=new Vp(e._authCredentials,e._appCheckCredentials,e._queue,i,e._componentsProvider&&function(e){const t=null==e?void 0:e._online.build();return{_offline:null==e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}class fm{constructor(e){this._byteString=e}static fromBase64String(e){try{return new fm(_l.fromBase64String(e))}catch(e){throw new za(Va.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new fm(_l.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:fm._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(bo(e,fm._jsonSchema))return fm.fromBase64String(e.bytes)}}fm._jsonSchemaVersion="firestore/bytes/1.0",fm._jsonSchema={type:xo("string",fm._jsonSchemaVersion),bytes:xo("string")};class pm{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new za(Va.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new co(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class mm{constructor(e){this._methodName=e}}class gm{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new za(Va.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new za(Va.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return eo(this._lat,e._lat)||eo(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:gm._jsonSchemaVersion}}static fromJSON(e){if(bo(e,gm._jsonSchema))return new gm(e.latitude,e.longitude)}}gm._jsonSchemaVersion="firestore/geoPoint/1.0",gm._jsonSchema={type:xo("string",gm._jsonSchemaVersion),latitude:xo("number"),longitude:xo("number")};class ym{constructor(e){this._values=(e||[]).map(e=>e)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}toJSON(){return{type:ym._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(bo(e,ym._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(e=>"number"==typeof e))return new ym(e.vectorValues);throw new za(Va.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ym._jsonSchemaVersion="firestore/vectorValue/1.0",ym._jsonSchema={type:xo("string",ym._jsonSchemaVersion),vectorValues:xo("object")};const vm=/^__.*__$/;class xm{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Bu(e,this.data,this.fieldMask,t,this.fieldTransforms):new zu(e,this.data,t,this.fieldTransforms)}}class bm{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Bu(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function wm(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw La(40011,{Ec:e})}}class Nm{constructor(e,t,n,r,s,i){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===s&&this.Ac(),this.fieldTransforms=s||[],this.fieldMask=i||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new Nm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Rc({path:n,mc:!1});return r.fc(e),r}gc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Rc({path:n,mc:!1});return r.Ac(),r}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return zm(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(0===e.length)throw this.wc("Document fields must not be empty");if(wm(this.Ec)&&vm.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class km{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||nf(e)}Dc(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Nm({Ec:e,methodName:t,bc:n,path:co.emptyPath(),mc:!1,Sc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Em(e){const t=e._freezeSettings(),n=nf(e._databaseId);return new km(e._databaseId,!!t.ignoreUndefinedProperties,n)}function _m(e,t,n,r,s){let i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const a=e.Dc(i.merge||i.mergeFields?2:0,t,n,s);Mm("Data must be an object, but it was:",a,r);const o=Om(r,a);let l,c;if(i.merge)l=new kl(a.fieldMask),c=a.fieldTransforms;else if(i.mergeFields){const e=[];for(const r of i.mergeFields){const s=Fm(t,r,n);if(!a.contains(s))throw new za(Va.INVALID_ARGUMENT,`Field '${s}' is specified in your field mask but missing from your input data.`);Bm(e,s)||e.push(s)}l=new kl(e),c=a.fieldTransforms.filter(e=>l.covers(e.field))}else l=null,c=a.fieldTransforms;return new xm(new cc(o),l,c)}class Sm extends mm{_toFieldTransform(e){if(2!==e.Ec)throw 1===e.Ec?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Sm}}function Tm(e,t,n){return new Nm({Ec:3,bc:t.settings.bc,methodName:e._methodName,mc:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class Cm extends mm{_toFieldTransform(e){return new Pu(e.path,new ku)}isEqual(e){return e instanceof Cm}}class jm extends mm{constructor(e,t){super(e),this.vc=t}_toFieldTransform(e){const t=Tm(this,e,!0),n=this.vc.map(e=>Dm(e,t)),r=new Eu(n);return new Pu(e.path,r)}isEqual(e){return e instanceof jm&&Ze(this.vc,e.vc)}}class Im extends mm{constructor(e,t){super(e),this.Cc=t}_toFieldTransform(e){const t=new Cu(e.serializer,vu(e.serializer,this.Cc));return new Pu(e.path,t)}isEqual(e){return e instanceof Im&&this.Cc===e.Cc}}function Pm(e,t,n,r){const s=e.Dc(1,t,n);Mm("Data must be an object, but it was:",s,r);const i=[],a=cc.empty();gl(r,(e,r)=>{const o=Vm(t,e,n);r=at(r);const l=s.gc(o);if(r instanceof Sm)i.push(o);else{const e=Dm(r,l);null!=e&&(i.push(o),a.set(o,e))}});const o=new kl(i);return new bm(a,o,s.fieldTransforms)}function Am(e,t,n,r,s,i){const a=e.Dc(1,t,n),o=[Fm(t,r,n)],l=[s];if(i.length%2!=0)throw new za(Va.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<i.length;h+=2)o.push(Fm(t,i[h])),l.push(i[h+1]);const c=[],u=cc.empty();for(let h=o.length-1;h>=0;--h)if(!Bm(c,o[h])){const e=o[h];let t=l[h];t=at(t);const n=a.gc(e);if(t instanceof Sm)c.push(e);else{const r=Dm(t,n);null!=r&&(c.push(e),u.set(e,r))}}const d=new kl(c);return new bm(u,d,a.fieldTransforms)}function Rm(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Dm(n,e.Dc(r?4:3,t))}function Dm(e,t){if(Lm(e=at(e)))return Mm("Unsupported field value:",t,e),Om(e,t);if(e instanceof mm)return function(e,t){if(!wm(t.Ec))throw t.wc(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.wc(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.mc&&4!==t.Ec)throw t.wc("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const s of e){let e=Dm(s,t.yc(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=at(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return vu(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=ko.fromDate(e);return{timestampValue:Nd(t.serializer,n)}}if(e instanceof ko){const n=new ko(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Nd(t.serializer,n)}}if(e instanceof gm)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof fm)return{bytesValue:kd(t.serializer,e._byteString)};if(e instanceof rm){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.wc(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:Sd(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof ym)return function(e,t){return{mapValue:{fields:{[Vl]:{stringValue:$l},[ql]:{arrayValue:{values:e.toArray().map(e=>{if("number"!=typeof e)throw t.wc("VectorValues must only contain numeric values.");return gu(t.serializer,e)})}}}}}}(e,t);throw t.wc(`Unsupported field value: ${go(e)}`)}(e,t)}function Om(e,t){const n={};return yl(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):gl(e,(e,r)=>{const s=Dm(r,t.Vc(e));null!=s&&(n[e]=s)}),{mapValue:{fields:n}}}function Lm(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof ko||e instanceof gm||e instanceof fm||e instanceof rm||e instanceof mm||e instanceof ym)}function Mm(e,t,n){if(!Lm(n)||!mo(n)){const r=go(n);throw"an object"===r?t.wc(e+" a custom object"):t.wc(e+" "+r)}}function Fm(e,t,n){if((t=at(t))instanceof pm)return t._internalPath;if("string"==typeof t)return Vm(e,t);throw zm("Field path arguments must be of type string or ",e,!1,void 0,n)}const Um=new RegExp("[~\\*/\\[\\]]");function Vm(e,t,n){if(t.search(Um)>=0)throw zm(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new pm(...t.split("."))._internalPath}catch(r){throw zm(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function zm(e,t,n,r,s){const i=r&&!r.isEmpty(),a=void 0!==s;let o=`Function ${t}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(i||a)&&(l+=" (found",i&&(l+=` in field ${r}`),a&&(l+=` in document ${s}`),l+=")"),new za(Va.INVALID_ARGUMENT,o+e+l)}function Bm(e,t){return e.some(e=>e.isEqual(t))}class $m{constructor(e,t,n,r,s){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new rm(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new qm(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Hm("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class qm extends $m{data(){return super.data()}}function Hm(e,t){return"string"==typeof t?Vm(e,t):t instanceof pm?t._internalPath:t._delegate._internalPath}function Wm(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new za(Va.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Km{}class Gm extends Km{}function Qm(e,t){let n=[];for(var r=arguments.length,s=new Array(r>2?r-2:0),i=2;i<r;i++)s[i-2]=arguments[i];t instanceof Km&&n.push(t),n=n.concat(s),function(e){const t=e.filter(e=>e instanceof Xm).length,n=e.filter(e=>e instanceof Jm).length;if(t>1||t>0&&n>0)throw new za(Va.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const a of n)e=a._apply(e);return e}class Jm extends Gm{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new Jm(e,t,n)}_apply(e){const t=this._parse(e);return ig(e._query,t),new nm(e.firestore,e.converter,Kc(e._query,t))}_parse(e){const t=Em(e.firestore),n=function(e,t,n,r,s,i,a){let o;if(s.isKeyField()){if("array-contains"===i||"array-contains-any"===i)throw new za(Va.INVALID_ARGUMENT,`Invalid Query. You can't perform '${i}' queries on documentId().`);if("in"===i||"not-in"===i){sg(a,i);const t=[];for(const n of a)t.push(rg(r,e,n));o={arrayValue:{values:t}}}else o=rg(r,e,a)}else"in"!==i&&"not-in"!==i&&"array-contains-any"!==i||sg(a,i),o=Rm(n,t,a,"in"===i||"not-in"===i);return vc.create(s,i,o)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}function Ym(e,t,n){const r=t,s=Hm("where",e);return Jm._create(s,r,n)}class Xm extends Km{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Xm(e,t)}_parse(e){const t=this._queryConstraints.map(t=>t._parse(e)).filter(e=>e.getFilters().length>0);return 1===t.length?t[0]:xc.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const s of r)ig(n,s),n=Kc(n,s)}(e._query,t),new nm(e.firestore,e.converter,Kc(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Zm extends Gm{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Zm(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new za(Va.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new za(Va.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new mc(t,n)}(e._query,this._field,this._direction);return new nm(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new Uc(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}function eg(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=Hm("orderBy",e);return Zm._create(n,t)}class tg extends Gm{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new tg(e,t,n)}_apply(e){return new nm(e.firestore,e.converter,Gc(e._query,this._limit,this._limitType))}}function ng(e){return vo("limit",e),tg._create("limit",e,"F")}function rg(e,t,n){if("string"==typeof(n=at(n))){if(""===n)throw new za(Va.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!$c(t)&&-1!==n.indexOf("/"))throw new za(Va.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(oo.fromString(n));if(!uo.isDocumentKey(r))throw new za(Va.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return ec(e,new uo(r))}if(n instanceof rm)return ec(e,n._key);throw new za(Va.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${go(n)}.`)}function sg(e,t){if(!Array.isArray(e)||0===e.length)throw new za(Va.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function ig(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new za(Va.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new za(Va.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class ag{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Hl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Cl(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(jl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw La(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return gl(e,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertVectorValue(e){var t,n,r;const s=null===(r=null===(n=null===(t=e.fields)||void 0===t?void 0:t[ql].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.map(e=>Cl(e.doubleValue));return new ym(s)}convertGeoPoint(e){return new gm(Cl(e.latitude),Cl(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Ol(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Ll(e));default:return null}}convertTimestamp(e){const t=Tl(e);return new ko(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=oo.fromString(e);Fa(Gd(n),9688,{name:e});const r=new Ul(n.get(1),n.get(3)),s=new uo(n.popFirst(5));return r.isEqual(t)||Ra(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}function og(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class lg{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class cg extends $m{constructor(e,t,n,r,s,i){super(e,t,n,r,i),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new ug(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(Hm("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new za(Va.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=cg._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),e&&e.isValidDocument()&&e.isFoundDocument()?(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t):t}}cg._jsonSchemaVersion="firestore/documentSnapshot/1.0",cg._jsonSchema={type:xo("string",cg._jsonSchemaVersion),bundleSource:xo("string","DocumentSnapshot"),bundleName:xo("string"),bundle:xo("string")};class ug extends cg{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class dg{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new lg(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new ug(this._firestore,this._userDataWriter,n.key,n,new lg(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new za(Va.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>{const r=new ug(e._firestore,e._userDataWriter,n.doc.key,n.doc,new lg(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}})}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const r=new ug(e._firestore,e._userDataWriter,t.doc.key,t.doc,new lg(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let s=-1,i=-1;return 0!==t.type&&(s=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),i=n.indexOf(t.doc.key)),{type:hg(t.type),doc:r,oldIndex:s,newIndex:i}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new za(Va.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=dg._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Za.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],n=[],r=[];return this.docs.forEach(e=>{null!==e._document&&(t.push(e._document),n.push(this._userDataWriter.convertObjectMap(e._document.data.value.mapValue.fields,"previous")),r.push(e.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function hg(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return La(61501,{type:e})}}function fg(e){e=yo(e,rm);const t=yo(e.firestore,um);return Kp(dm(t),e._key).then(n=>xg(t,e,n))}dg._jsonSchemaVersion="firestore/querySnapshot/1.0",dg._jsonSchema={type:xo("string",dg._jsonSchemaVersion),bundleSource:xo("string","QuerySnapshot"),bundleName:xo("string"),bundle:xo("string")};class pg extends ag{constructor(e){super(),this.firestore=e}convertBytes(e){return new fm(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new rm(this.firestore,null,t)}}function mg(e){e=yo(e,nm);const t=yo(e.firestore,um),n=dm(t),r=new pg(t);return Wm(e._query),Gp(n,e._query).then(n=>new dg(t,r,e,n))}function gg(e,t,n){e=yo(e,rm);const r=yo(e.firestore,um),s=og(e.converter,t,n);return vg(r,[_m(Em(r),"setDoc",e._key,s,null!==e.converter,n).toMutation(e._key,Ru.none())])}function yg(e,t,n){e=yo(e,rm);const r=yo(e.firestore,um),s=Em(r);let i;for(var a=arguments.length,o=new Array(a>3?a-3:0),l=3;l<a;l++)o[l-3]=arguments[l];return i="string"==typeof(t=at(t))||t instanceof pm?Am(s,"updateDoc",e._key,t,n,o):Pm(s,"updateDoc",e._key,t),vg(r,[i.toMutation(e._key,Ru.exists(!0))])}function vg(e,t){return function(e,t){const n=new Ba;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t,n){const r=Dp(e);try{const e=await function(e,t){const n=Ua(e),r=ko.now(),s=t.reduce((e,t)=>e.add(t.key),fu());let i,a;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>{let o=su(),l=fu();return n.Os.getEntries(e,s).next(e=>{o=e,o.forEach((e,t)=>{t.isValidDocument()||(l=l.add(e))})}).next(()=>n.localDocuments.getOverlayedDocuments(e,o)).next(s=>{i=s;const a=[];for(const e of t){const t=Uu(e,i.get(e.key).overlayedDocument);null!=t&&a.push(new Bu(e.key,t,uc(t.value.mapValue),Ru.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,a,t)}).next(t=>{a=t;const r=t.applyToLocalDocumentSet(i,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)})}).then(()=>({batchId:a.batchId,changes:ou(i)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Ru[e.currentUser.toKey()];r||(r=new vl(eo)),r=r.insert(t,n),e.Ru[e.currentUser.toKey()]=r}(r,e.batchId,n),await Ip(r,e.changes),await If(r.remoteStore)}catch(e){const t=qf(e,"Failed to persist write");n.reject(t)}}(await Hp(e),t,n)),n.promise}(dm(e),t)}function xg(e,t,n){const r=n.docs.get(t._key),s=new pg(e);return new cg(e,s,t._key,r,new lg(n.hasPendingWrites,n.fromCache),t.converter)}function bg(){return new Cm("serverTimestamp")}function wg(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new jm("arrayUnion",t)}function Ng(e){return new Im("increment",e)}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){ja=e}(Nn),yn(new ot("firestore",(e,n)=>{let{instanceIdentifier:r,options:s}=n;const i=e.getProvider("app").getImmediate(),a=new um(new Wa(e.getProvider("auth-internal")),new Ja(i,e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new za(Va.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ul(e.options.projectId,t)}(i,r),i);return s=Object.assign({useFetchStreams:t},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),_n(Sa,Ta,e),_n(Sa,Ta,"esm2017")}();_n("firebase","11.10.0","app");const kg=()=>({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_FIREBASE_API_KEY&&"demo-api-key"!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_FIREBASE_API_KEY&&{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_FIREBASE_PROJECT_ID&&"demo-project"!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_FIREBASE_PROJECT_ID),Eg=kg()?{apiKey:{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_FIREBASE_API_KEY,authDomain:{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_FIREBASE_AUTH_DOMAIN,projectId:{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_FIREBASE_PROJECT_ID,storageBucket:{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_FIREBASE_STORAGE_BUCKET,messagingSenderId:{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_FIREBASE_MESSAGING_SENDER_ID,appId:{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_FIREBASE_APP_ID}:{apiKey:"demo-api-key",authDomain:"demo-project.firebaseapp.com",projectId:"demo-project",storageBucket:"demo-project.appspot.com",messagingSenderId:"123456789",appId:"demo-app-id"};let _g,Sg,Tg;if(kg())try{_g=kn(Eg),Sg=function(e,t){const n="object"==typeof e?e:En(),r="string"==typeof e?e:t||Fl,s=vn(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const e=(()=>{const e=Me("firestore");if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(t+1),10);return"["===e[0]?[e.substring(1,t-1),n]:[e.substring(0,t),n]})();e&&tm(s,...e)}return s}(_g),Tg=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:En();const t=vn(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=vn(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(Ze(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;Bn(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:ia,persistence:[mi,Qs,ei]}),r=Ue("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(s=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>ca)return;const r=null===t||void 0===t?void 0:t.token;ua!==r&&(ua=r,await fetch(s,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});!function(e,t,n){at(e).beforeAuthStateChanged(t,n)}(n,t,()=>t(n.currentUser)),function(e,t,n,r){at(e).onIdTokenChanged(t,n,r)}(n,e=>t(e))}}var s;const i=Me("auth");return i&&us(n,`http://${i}`),n}(_g)}catch(kv){console.warn("Firebase initialization failed, using demo mode:",kv),_g=null,Sg=null,Tg=null}else console.log("No valid Firebase configuration found. Running in demo mode."),_g=null,Sg=null,Tg=null;var Cg=n(579);const jg=(0,s.createContext)(),Ig=()=>{const e=(0,s.useContext)(jg);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},Pg=(e,t)=>({uid:`demo-${Date.now()}`,email:e,displayName:t,emailVerified:!0,photoURL:null,isDemo:!0}),Ag=e=>{let{children:t}=e;const[n,r]=(0,s.useState)(null),[i,a]=(0,s.useState)(null),[o,l]=(0,s.useState)(!0),[c,u]=(0,s.useState)(null),d=()=>Tg&&"function"===typeof Tg.signInWithEmailAndPassword;(0,s.useEffect)(()=>{const e=localStorage.getItem("user");if(e)try{const t=JSON.parse(e);r(t),a(t)}catch(c){console.error("Error parsing saved user:",c),localStorage.removeItem("user")}l(!1)},[]);const h=e=>{e?localStorage.setItem("user",JSON.stringify(e)):localStorage.removeItem("user")},f=async(e,t)=>{try{if(!d())return;const n=am(Sg,"users",e.uid);await gg(n,{uid:e.uid,email:e.email,displayName:t||e.displayName,photoURL:e.photoURL,emailVerified:e.emailVerified,coins:0,createdAt:new Date,lastLogin:new Date,achievements:[],completedTasks:[],purchasedItems:[]})}catch(c){throw console.error("Error creating user document:",c),c}};(0,s.useEffect)(()=>{if(d()){const e=function(e,t,n,r){return at(e).onAuthStateChanged(t,n,r)}(Tg,async e=>{if(e)try{const t=am(Sg,"users",e.uid);await gg(t,{lastLogin:new Date},{merge:!0})}catch(c){console.error("Error updating last login:",c)}r(e),l(!1)});return e}l(!1)},[]);const p=e=>{switch(e){case"auth/user-not-found":return"No account found with this email address.";case"auth/wrong-password":return"Incorrect password.";case"auth/email-already-in-use":return"An account with this email already exists.";case"auth/weak-password":return"Password should be at least 6 characters long.";case"auth/invalid-email":return"Please enter a valid email address.";case"auth/too-many-requests":return"Too many failed attempts. Please try again later.";case"auth/network-request-failed":return"Network error. Please check your connection.";case"auth/popup-closed-by-user":return"Sign-in was cancelled.";case"auth/popup-blocked":return"Sign-in popup was blocked. Please allow popups for this site.";default:return"An error occurred. Please try again."}},m={currentUser:n,userData:i,loading:o,error:c,register:async(e,t,n)=>{try{if(u(null),l(!0),!d())return await(async(e,t,n)=>{if(!e||!t||t.length<6)throw new Error("Please provide a valid email and password (at least 6 characters)");const s=Pg(e,n||e.split("@")[0]);return r(s),a(s),h(s),s})(e,t,n);const s=await async function(e,t,n){if(xn(e.app))return Promise.reject(Hn(e));const r=Xr(e),s=ls(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",As,"EMAIL_PASSWORD_PROVIDER"),i=await s.catch(t=>{throw"auth/password-does-not-meet-requirements"===t.code&&Bs(e),t}),a=await Rs._fromIdTokenResponse(r,"signIn",i);return await r._updateCurrentUser(a.user),a}(Tg,e,t),i=s.user;return await qs(i,{displayName:n}),await $s(i),await f(i,n),i}catch(c){throw u(p(c.code)),c}finally{l(!1)}},login:async(e,t)=>{try{if(u(null),l(!0),!d())return await(async(e,t)=>{if("demo@example.com"===e&&"demo123"===t){const t=Pg(e,"Demo User");return r(t),a(t),h(t),t}if(e&&t.length>=6){const t=Pg(e,e.split("@")[0]);return r(t),a(t),h(t),t}throw new Error("Invalid email or password")})(e,t);const n=await function(e,t,n){return xn(e.app)?Promise.reject(Hn(e)):Vs(at(e),_s.credential(t,n)).catch(async t=>{throw"auth/password-does-not-meet-requirements"===t.code&&Bs(e),t})}(Tg,e,t);return n.user}catch(c){throw u(p(c.code)),c}finally{l(!1)}},loginWithGoogle:async()=>{try{if(u(null),l(!0),!d()){const e=Pg("demo@gmail.com","Demo Google User");return r(e),a(e),h(e),e}const e=new js,t=await async function(e,t,n){if(xn(e.app))return Promise.reject($n(e,"operation-not-supported-in-this-environment"));const r=Xr(e);Wn(e,t,Ss);const s=wi(r,n);return new Ci(r,"signInViaPopup",t,s).executeNotNull()}(Tg,e),n=t.user;return(await fg(am(Sg,"users",n.uid))).exists()||await f(n,n.displayName),n}catch(c){throw u(p(c.code)),c}finally{l(!1)}},logout:async()=>{try{u(null),l(!0),h(null),r(null),a(null),d()&&await function(e){return at(e).signOut()}(Tg)}catch(c){throw u(p(c.code)),c}finally{l(!1)}},resetPassword:async e=>{try{if(u(null),!d())return void console.log("Demo mode: Password reset email would be sent to",e);await async function(e,t,n){const r=Xr(e),s={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};n&&zs(r,s,n),await ls(r,s,"getOobCode",ys,"EMAIL_PASSWORD_PROVIDER")}(Tg,e)}catch(c){throw u(p(c.code)),c}},updateUserProfile:async e=>{try{if(u(null),!d()){const t={...n,...e};return r(t),a(t),h(t),t}await qs(Tg.currentUser,e)}catch(c){throw u(p(c.code)),c}},getUserData:async e=>{try{if(!d())return{uid:e,displayName:"Demo User",email:"demo@example.com",coins:1e3,completedTasks:5,rating:4.8,achievements:["First Task","Task Master"],purchasedItems:[]};const t=await fg(am(Sg,"users",e));return t.exists()?t.data():null}catch(c){return console.error("Error getting user data:",c),null}},clearError:()=>{u(null)},loginWithBackend:async(e,t)=>{try{u(null),l(!0);const n=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})});if(!n.ok){const e=await n.json();throw new Error(e.message||"Login failed")}const s=await n.json();return r(s),a(s),h(s),s}catch(c){const t=c.message||"Login failed. Please try again.";throw u(t),c}finally{l(!1)}},registerWithBackend:async(e,t,n)=>{try{u(null),l(!0);const s=await fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t,displayName:n})});if(!s.ok){const e=await s.json();throw new Error(e.message||"Registration failed")}const i=await s.json();return r(i),a(i),h(i),i}catch(c){const t=c.message||"Registration failed. Please try again.";throw u(t),c}finally{l(!1)}},updateUserProfileWithBackend:async e=>{try{u(null),l(!0);const t=await fetch("/api/auth/profile",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${null===n||void 0===n?void 0:n.token}`},body:JSON.stringify(e)});if(!t.ok){const e=await t.json();throw new Error(e.message||"Profile update failed")}const s=await t.json();return r(s),a(s),h(s),s}catch(c){const t=c.message||"Profile update failed. Please try again.";throw u(t),c}finally{l(!1)}}};return(0,Cg.jsx)(jg.Provider,{value:m,children:t})};var Rg={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};var Dg=(e,t)=>{const n=(0,s.forwardRef)((n,r)=>{let{color:i="currentColor",size:a=24,strokeWidth:o=2,absoluteStrokeWidth:l,children:c,...u}=n;return(0,s.createElement)("svg",{ref:r,...Rg,width:a,height:a,stroke:i,strokeWidth:l?24*Number(o)/Number(a):o,className:`lucide lucide-${d=e,d.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,...u},[...t.map(e=>{let[t,n]=e;return(0,s.createElement)(t,n)}),...(Array.isArray(c)?c:[c])||[]]);var d});return n.displayName=`${e}`,n};const Og=Dg("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]),Lg=Dg("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),Mg=Dg("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),Fg=Dg("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Ug=(0,s.createContext)(),Vg=()=>{const e=(0,s.useContext)(Ug);if(!e)throw new Error("useToast must be used within a ToastProvider");return e},zg=e=>{let{children:t}=e;const[n,r]=(0,s.useState)([]),i=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5e3;const s=Date.now()+Math.random(),i={id:s,message:e,type:t,duration:n};r(e=>[...e,i]),setTimeout(()=>{a(s)},n)},a=e=>{r(t=>t.filter(t=>t.id!==e))},o=e=>{switch(e){case"success":return(0,Cg.jsx)(Og,{className:"w-5 h-5 text-green-500"});case"error":return(0,Cg.jsx)(Lg,{className:"w-5 h-5 text-red-500"});default:return(0,Cg.jsx)(Mg,{className:"w-5 h-5 text-blue-500"})}},l=e=>{switch(e){case"success":return"bg-green-50 border-green-200 text-green-800";case"error":return"bg-red-50 border-red-200 text-red-800";default:return"bg-blue-50 border-blue-200 text-blue-800"}};return(0,Cg.jsxs)(Ug.Provider,{value:{showSuccess:(e,t)=>{i(e,"success",t)},showError:(e,t)=>{i(e,"error",t)},showInfo:(e,t)=>{i(e,"info",t)},removeToast:a},children:[t,(0,Cg.jsx)("div",{className:"fixed top-4 right-4 z-50 space-y-2",children:n.map(e=>(0,Cg.jsxs)("div",{className:`flex items-center space-x-3 p-4 rounded-xl border shadow-lg max-w-sm transform transition-all duration-300 ${l(e.type)}`,children:[o(e.type),(0,Cg.jsx)("span",{className:"flex-1 text-sm font-medium",children:e.message}),(0,Cg.jsx)("button",{onClick:()=>a(e.id),className:"text-gray-400 hover:text-gray-600 transition-colors duration-200",children:(0,Cg.jsx)(Fg,{className:"w-4 h-4"})})]},e.id))})]})},Bg=Dg("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),$g=Dg("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),qg=Dg("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]),Hg=Dg("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]),Wg=Dg("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Kg=Dg("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]),Gg=Dg("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]),Qg=Dg("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),Jg=Dg("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]),Yg=Dg("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),Xg=Dg("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Zg=Dg("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),ey=Dg("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),ty=Dg("UserCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]),ny=()=>{var e,t;const[n,r]=(0,s.useState)(!1),[i,a]=(0,s.useState)(!1),{currentUser:o,logout:l,loading:c}=Ig(),{showSuccess:u}=Vg(),d=ee(),h=[{name:"Home",href:"/",icon:(0,Cg.jsx)(Bg,{className:"w-4 h-4"})},{name:"Post Task",href:"/post-task",icon:(0,Cg.jsx)($g,{className:"w-4 h-4"})},{name:"View Tasks",href:"/tasks",icon:(0,Cg.jsx)(qg,{className:"w-4 h-4"})},{name:"Marketplace",href:"/marketplace",icon:(0,Cg.jsx)(Hg,{className:"w-4 h-4"})},{name:"Profile",href:"/profile",icon:(0,Cg.jsx)(Wg,{className:"w-4 h-4"})},{name:"Buy Coins",href:"/buy-coins",icon:(0,Cg.jsx)(Kg,{className:"w-4 h-4"})},{name:"Achievements",href:"/achievements",icon:(0,Cg.jsx)(Gg,{className:"w-4 h-4"})},{name:"Ledger",href:"/ledger",icon:(0,Cg.jsx)(Qg,{className:"w-4 h-4"})},{name:"Purchases",href:"/purchases",icon:(0,Cg.jsx)(Jg,{className:"w-4 h-4"})}],f=async()=>{try{await l(),u("Logged out successfully"),d("/"),a(!1)}catch(kv){console.error("Logout error:",kv)}};return(0,Cg.jsxs)("nav",{className:"sticky top-0 z-50 bg-white/95 backdrop-blur-md border-b border-gray-200/50 shadow-lg",children:[(0,Cg.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,Cg.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,Cg.jsx)("div",{className:"flex-shrink-0",children:(0,Cg.jsxs)(Te,{to:"/",className:"flex items-center space-x-3 group",children:[(0,Cg.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-primary-500 to-primary-600 rounded-xl flex items-center justify-center shadow-lg group-hover:shadow-xl transition-all duration-300 group-hover:scale-105",children:(0,Cg.jsx)("span",{className:"text-white font-bold text-lg",children:"T"})}),(0,Cg.jsx)("span",{className:"text-2xl font-bold bg-gradient-to-r from-gray-900 to-gray-700 bg-clip-text text-transparent",children:"TaskHub"})]})}),(0,Cg.jsx)("div",{className:"hidden lg:block",children:(0,Cg.jsx)("div",{className:"flex items-center space-x-1",children:h.map(e=>(0,Cg.jsxs)(Te,{to:e.href,className:"flex items-center space-x-2 px-4 py-2 rounded-lg text-sm font-medium text-gray-700 hover:text-primary-600 hover:bg-primary-50/80 transition-all duration-300 hover:scale-105",children:[e.icon,(0,Cg.jsx)("span",{children:e.name})]},e.name))})}),(0,Cg.jsx)("div",{className:"hidden lg:flex items-center space-x-4",children:o?(0,Cg.jsxs)("div",{className:"relative",children:[(0,Cg.jsxs)("button",{onClick:()=>a(!i),className:"flex items-center space-x-2 px-4 py-2 rounded-lg text-sm font-medium text-gray-700 hover:text-primary-600 hover:bg-primary-50/80 transition-all duration-300",children:[(0,Cg.jsx)("div",{className:"w-8 h-8 bg-gradient-to-br from-primary-500 to-primary-600 rounded-full flex items-center justify-center",children:(0,Cg.jsx)("span",{className:"text-white text-sm font-semibold",children:(null===(e=o.displayName)||void 0===e?void 0:e.charAt(0))||(null===(t=o.email)||void 0===t?void 0:t.charAt(0))||"U"})}),(0,Cg.jsx)("span",{className:"hidden sm:block",children:o.displayName||o.email}),(0,Cg.jsx)(Yg,{className:"w-4 h-4 transition-transform duration-200 "+(i?"rotate-180":"")})]}),i&&(0,Cg.jsxs)("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-xl shadow-lg border border-gray-200 py-2 z-50",children:[(0,Cg.jsxs)("div",{className:"px-4 py-2 border-b border-gray-100",children:[(0,Cg.jsx)("p",{className:"text-sm font-medium text-gray-900",children:o.displayName||"User"}),(0,Cg.jsx)("p",{className:"text-xs text-gray-500 truncate",children:o.email})]}),(0,Cg.jsxs)(Te,{to:"/profile",className:"flex items-center space-x-2 px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors duration-200",onClick:()=>a(!1),children:[(0,Cg.jsx)(Wg,{className:"w-4 h-4"}),(0,Cg.jsx)("span",{children:"Profile"})]}),(0,Cg.jsxs)(Te,{to:"/settings",className:"flex items-center space-x-2 px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors duration-200",onClick:()=>a(!1),children:[(0,Cg.jsx)(Xg,{className:"w-4 h-4"}),(0,Cg.jsx)("span",{children:"Settings"})]}),(0,Cg.jsxs)("button",{onClick:f,disabled:c,className:"flex items-center space-x-2 px-4 py-2 text-sm text-red-600 hover:bg-red-50 transition-colors duration-200 w-full text-left",children:[(0,Cg.jsx)(Zg,{className:"w-4 h-4"}),(0,Cg.jsx)("span",{children:c?"Signing out...":"Sign out"})]})]})]}):(0,Cg.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Cg.jsx)(Te,{to:"/login",className:"px-4 py-2 text-sm font-medium text-gray-700 hover:text-primary-600 transition-colors duration-200",children:"Sign in"}),(0,Cg.jsx)(Te,{to:"/register",className:"px-4 py-2 bg-primary-500 text-white text-sm font-medium rounded-lg hover:bg-primary-600 transition-colors duration-200",children:"Sign up"})]})}),(0,Cg.jsx)("div",{className:"lg:hidden",children:(0,Cg.jsxs)("button",{onClick:()=>r(!n),className:"inline-flex items-center justify-center p-3 rounded-xl text-gray-700 hover:text-primary-600 hover:bg-primary-50/80 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 transition-all duration-300","aria-expanded":n,children:[(0,Cg.jsx)("span",{className:"sr-only",children:"Open main menu"}),n?(0,Cg.jsx)(Fg,{className:"block h-6 w-6","aria-hidden":"true"}):(0,Cg.jsx)(ey,{className:"block h-6 w-6","aria-hidden":"true"})]})})]})}),(0,Cg.jsx)("div",{className:"lg:hidden transition-all duration-500 ease-in-out "+(n?"max-h-screen opacity-100":"max-h-0 opacity-0 overflow-hidden"),children:(0,Cg.jsxs)("div",{className:"px-4 pt-4 pb-6 space-y-2 bg-white/95 backdrop-blur-md border-t border-gray-200/50",children:[h.map(e=>(0,Cg.jsxs)(Te,{to:e.href,className:"flex items-center space-x-3 px-4 py-3 rounded-xl text-base font-medium text-gray-700 hover:text-primary-600 hover:bg-primary-50/80 transition-all duration-300",onClick:()=>r(!1),children:[e.icon,(0,Cg.jsx)("span",{children:e.name})]},e.name)),(0,Cg.jsx)("div",{className:"pt-4 border-t border-gray-200",children:o?(0,Cg.jsxs)("div",{className:"space-y-2",children:[(0,Cg.jsxs)("div",{className:"px-4 py-2",children:[(0,Cg.jsx)("p",{className:"text-sm font-medium text-gray-900",children:o.displayName||"User"}),(0,Cg.jsx)("p",{className:"text-xs text-gray-500",children:o.email})]}),(0,Cg.jsxs)(Te,{to:"/profile",className:"flex items-center space-x-3 px-4 py-3 rounded-xl text-base font-medium text-gray-700 hover:text-primary-600 hover:bg-primary-50/80 transition-all duration-300",onClick:()=>r(!1),children:[(0,Cg.jsx)(Wg,{className:"w-4 h-4"}),(0,Cg.jsx)("span",{children:"Profile"})]}),(0,Cg.jsxs)("button",{onClick:f,disabled:c,className:"flex items-center space-x-3 px-4 py-3 rounded-xl text-base font-medium text-red-600 hover:bg-red-50 transition-all duration-300 w-full text-left",children:[(0,Cg.jsx)(Zg,{className:"w-4 h-4"}),(0,Cg.jsx)("span",{children:c?"Signing out...":"Sign out"})]})]}):(0,Cg.jsxs)("div",{className:"space-y-2",children:[(0,Cg.jsxs)(Te,{to:"/login",className:"flex items-center space-x-3 px-4 py-3 rounded-xl text-base font-medium text-gray-700 hover:text-primary-600 hover:bg-primary-50/80 transition-all duration-300",onClick:()=>r(!1),children:[(0,Cg.jsx)(ty,{className:"w-4 h-4"}),(0,Cg.jsx)("span",{children:"Sign in"})]}),(0,Cg.jsxs)(Te,{to:"/register",className:"flex items-center space-x-3 px-4 py-3 rounded-xl text-base font-medium bg-primary-500 text-white hover:bg-primary-600 transition-all duration-300",onClick:()=>r(!1),children:[(0,Cg.jsx)(Wg,{className:"w-4 h-4"}),(0,Cg.jsx)("span",{children:"Sign up"})]})]})})]})}),i&&(0,Cg.jsx)("div",{className:"fixed inset-0 z-40",onClick:()=>a(!1)})]})},ry=Dg("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]),sy=Dg("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]),iy=Dg("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]),ay=Dg("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),oy=()=>{const e=(new Date).getFullYear();return(0,Cg.jsx)("footer",{className:"bg-gray-900 text-white",children:(0,Cg.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[(0,Cg.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[(0,Cg.jsxs)("div",{className:"col-span-1 md:col-span-2",children:[(0,Cg.jsx)("h3",{className:"text-2xl font-bold mb-4",children:"Modern Platform"}),(0,Cg.jsx)("p",{className:"text-gray-400 mb-6 max-w-md",children:"The ultimate platform for modern applications. Build, deploy, and scale with confidence using our cutting-edge technology stack."}),(0,Cg.jsxs)("div",{className:"flex space-x-4",children:[(0,Cg.jsx)("a",{href:"https://github.com",target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-white transition-colors duration-300",children:(0,Cg.jsx)(ry,{className:"w-6 h-6"})}),(0,Cg.jsx)("a",{href:"https://twitter.com",target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-white transition-colors duration-300",children:(0,Cg.jsx)(sy,{className:"w-6 h-6"})}),(0,Cg.jsx)("a",{href:"https://linkedin.com",target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-white transition-colors duration-300",children:(0,Cg.jsx)(iy,{className:"w-6 h-6"})}),(0,Cg.jsx)("a",{href:"mailto:contact@example.com",className:"text-gray-400 hover:text-white transition-colors duration-300",children:(0,Cg.jsx)(ay,{className:"w-6 h-6"})})]})]}),(0,Cg.jsxs)("div",{children:[(0,Cg.jsx)("h4",{className:"text-lg font-semibold mb-4",children:"Product"}),(0,Cg.jsxs)("ul",{className:"space-y-2",children:[(0,Cg.jsx)("li",{children:(0,Cg.jsx)("a",{href:"/features",className:"text-gray-400 hover:text-white transition-colors duration-300",children:"Features"})}),(0,Cg.jsx)("li",{children:(0,Cg.jsx)("a",{href:"/pricing",className:"text-gray-400 hover:text-white transition-colors duration-300",children:"Pricing"})}),(0,Cg.jsx)("li",{children:(0,Cg.jsx)("a",{href:"/docs",className:"text-gray-400 hover:text-white transition-colors duration-300",children:"Documentation"})}),(0,Cg.jsx)("li",{children:(0,Cg.jsx)("a",{href:"/api",className:"text-gray-400 hover:text-white transition-colors duration-300",children:"API Reference"})}),(0,Cg.jsx)("li",{children:(0,Cg.jsx)("a",{href:"/status",className:"text-gray-400 hover:text-white transition-colors duration-300",children:"Status"})})]})]}),(0,Cg.jsxs)("div",{children:[(0,Cg.jsx)("h4",{className:"text-lg font-semibold mb-4",children:"Company"}),(0,Cg.jsxs)("ul",{className:"space-y-2",children:[(0,Cg.jsx)("li",{children:(0,Cg.jsx)("a",{href:"/about",className:"text-gray-400 hover:text-white transition-colors duration-300",children:"About"})}),(0,Cg.jsx)("li",{children:(0,Cg.jsx)("a",{href:"/blog",className:"text-gray-400 hover:text-white transition-colors duration-300",children:"Blog"})}),(0,Cg.jsx)("li",{children:(0,Cg.jsx)("a",{href:"/careers",className:"text-gray-400 hover:text-white transition-colors duration-300",children:"Careers"})}),(0,Cg.jsx)("li",{children:(0,Cg.jsx)("a",{href:"/contact",className:"text-gray-400 hover:text-white transition-colors duration-300",children:"Contact"})}),(0,Cg.jsx)("li",{children:(0,Cg.jsx)("a",{href:"/support",className:"text-gray-400 hover:text-white transition-colors duration-300",children:"Support"})})]})]})]}),(0,Cg.jsx)("div",{className:"border-t border-gray-800 mt-12 pt-8",children:(0,Cg.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[(0,Cg.jsxs)("div",{className:"text-gray-400 text-sm mb-4 md:mb-0",children:["\xa9 ",e," Modern Platform. All rights reserved."]}),(0,Cg.jsxs)("div",{className:"flex space-x-6 text-sm",children:[(0,Cg.jsx)("a",{href:"/privacy",className:"text-gray-400 hover:text-white transition-colors duration-300",children:"Privacy Policy"}),(0,Cg.jsx)("a",{href:"/terms",className:"text-gray-400 hover:text-white transition-colors duration-300",children:"Terms of Service"}),(0,Cg.jsx)("a",{href:"/cookies",className:"text-gray-400 hover:text-white transition-colors duration-300",children:"Cookie Policy"})]})]})})]})})},ly=()=>(0,Cg.jsxs)("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[(0,Cg.jsx)(ny,{}),(0,Cg.jsx)("main",{className:"flex-1",children:(0,Cg.jsx)(me,{})}),(0,Cg.jsx)(oy,{})]}),cy=Dg("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),uy=e=>{let{children:t,requireAuth:n=!0}=e;const{currentUser:r,loading:s}=Ig(),i=X();return s?(0,Cg.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,Cg.jsxs)("div",{className:"text-center",children:[(0,Cg.jsx)(cy,{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto mb-4"}),(0,Cg.jsx)("p",{className:"text-gray-600",children:"Loading..."})]})}):n&&!r?(0,Cg.jsx)(pe,{to:"/login",state:{from:i},replace:!0}):!n&&r?(0,Cg.jsx)(pe,{to:"/",replace:!0}):t},dy=Dg("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),hy=Dg("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),fy=Dg("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),py=Dg("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),my=Dg("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),gy=()=>{const e=ee(),t=X(),{login:n,loginWithBackend:r,loginWithGoogle:i,loading:a,error:o,clearError:l}=Ig(),{showSuccess:c,showError:u}=Vg(),[d,h]=(0,s.useState)({email:"",password:""}),[f,p]=(0,s.useState)({}),[m,g]=(0,s.useState)(!1),[y,v]=(0,s.useState)(!1),[x,b]=(0,s.useState)(!1);(0,s.useEffect)(()=>{l()},[l]);const w=e=>{const{name:t,value:n}=e.target;h(e=>({...e,[t]:n})),f[t]&&p(e=>({...e,[t]:""}))};return(0,Cg.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-primary-50 via-white to-primary-100 flex items-center justify-center px-4 sm:px-6 lg:px-8",children:(0,Cg.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,Cg.jsxs)("div",{className:"text-center",children:[(0,Cg.jsx)("div",{className:"mx-auto h-16 w-16 bg-gradient-to-r from-primary-500 to-primary-600 rounded-2xl flex items-center justify-center mb-6",children:(0,Cg.jsx)("span",{className:"text-white font-bold text-2xl",children:"T"})}),(0,Cg.jsx)("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Welcome back"}),(0,Cg.jsx)("p",{className:"text-gray-600",children:"Sign in to your account to continue"})]}),(0,Cg.jsx)("div",{className:"bg-white/80 backdrop-blur-sm rounded-xl p-4 border border-gray-200",children:(0,Cg.jsxs)("div",{className:"flex items-center justify-center space-x-4",children:[(0,Cg.jsx)("button",{onClick:()=>b(!1),className:"px-4 py-2 rounded-lg font-medium transition-all duration-200 "+(x?"bg-gray-100 text-gray-700 hover:bg-gray-200":"bg-primary-500 text-white shadow-md"),children:"Firebase"}),(0,Cg.jsx)("button",{onClick:()=>b(!0),className:"px-4 py-2 rounded-lg font-medium transition-all duration-200 "+(x?"bg-primary-500 text-white shadow-md":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:"Custom Backend"})]})}),(0,Cg.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl p-8 border border-gray-100",children:[(0,Cg.jsxs)("form",{className:"space-y-6",onSubmit:async s=>{if(s.preventDefault(),(()=>{const e={};return d.email.trim()?/\S+@\S+\.\S+/.test(d.email)||(e.email="Please enter a valid email address"):e.email="Email is required",d.password?d.password.length<6&&(e.password="Password must be at least 6 characters long"):e.password="Password is required",p(e),0===Object.keys(e).length})()){v(!0),l();try{var i,a;let s;s=x?await r(d.email,d.password):await n(d.email,d.password),c("Login successful! Welcome back.");const o=(null===(i=t.state)||void 0===i||null===(a=i.from)||void 0===a?void 0:a.pathname)||"/";e(o,{replace:!0})}catch(o){const t=o.message||"Login failed. Please try again.";u(t)}finally{v(!1)}}},children:[(0,Cg.jsxs)("div",{className:"space-y-2",children:[(0,Cg.jsxs)("div",{className:"relative",children:[(0,Cg.jsx)("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:(0,Cg.jsx)(ay,{className:"h-5 w-5 text-gray-400"})}),(0,Cg.jsx)("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:d.email,onChange:w,className:"block w-full pl-12 pr-4 py-4 border rounded-xl text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-all duration-200 "+(f.email?"border-red-300 focus:border-red-500 focus:ring-red-500":"border-gray-300"),placeholder:"Enter your email",disabled:y})]}),f.email&&(0,Cg.jsxs)("div",{className:"flex items-center space-x-2 text-red-600 text-sm",children:[(0,Cg.jsx)(dy,{className:"w-4 h-4"}),(0,Cg.jsx)("span",{children:f.email})]})]}),(0,Cg.jsxs)("div",{className:"space-y-2",children:[(0,Cg.jsxs)("div",{className:"relative",children:[(0,Cg.jsx)("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:(0,Cg.jsx)(hy,{className:"h-5 w-5 text-gray-400"})}),(0,Cg.jsx)("input",{id:"password",name:"password",type:m?"text":"password",autoComplete:"current-password",required:!0,value:d.password,onChange:w,className:"block w-full pl-12 pr-12 py-4 border rounded-xl text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-all duration-200 "+(f.password?"border-red-300 focus:border-red-500 focus:ring-red-500":"border-gray-300"),placeholder:"Enter your password",disabled:y}),(0,Cg.jsx)("button",{type:"button",className:"absolute inset-y-0 right-0 pr-4 flex items-center",onClick:()=>g(!m),disabled:y,children:m?(0,Cg.jsx)(fy,{className:"h-5 w-5 text-gray-400 hover:text-gray-600 transition-colors duration-200"}):(0,Cg.jsx)(py,{className:"h-5 w-5 text-gray-400 hover:text-gray-600 transition-colors duration-200"})})]}),f.password&&(0,Cg.jsxs)("div",{className:"flex items-center space-x-2 text-red-600 text-sm",children:[(0,Cg.jsx)(dy,{className:"w-4 h-4"}),(0,Cg.jsx)("span",{children:f.password})]})]}),(0,Cg.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Cg.jsxs)("div",{className:"flex items-center",children:[(0,Cg.jsx)("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded",disabled:y}),(0,Cg.jsx)("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-700",children:"Remember me"})]}),(0,Cg.jsx)("div",{className:"text-sm",children:(0,Cg.jsx)(Te,{to:"/forgot-password",className:"font-medium text-primary-600 hover:text-primary-500 transition-colors duration-200",children:"Forgot password?"})})]}),o&&(0,Cg.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4",children:(0,Cg.jsxs)("div",{className:"flex items-center space-x-2 text-red-600",children:[(0,Cg.jsx)(dy,{className:"w-5 h-5"}),(0,Cg.jsx)("span",{className:"text-sm font-medium",children:o})]})}),(0,Cg.jsx)("button",{type:"submit",disabled:y||a,className:"group relative w-full flex justify-center py-4 px-4 border border-transparent text-lg font-semibold rounded-xl text-white bg-gradient-to-r from-primary-500 to-primary-600 hover:from-primary-600 hover:to-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 transform hover:scale-[1.02] shadow-lg hover:shadow-xl",children:y?(0,Cg.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Cg.jsx)(cy,{className:"w-5 h-5 animate-spin"}),(0,Cg.jsx)("span",{children:"Signing in..."})]}):(0,Cg.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Cg.jsx)("span",{children:"Sign in"}),(0,Cg.jsx)(my,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform duration-200"})]})})]}),(0,Cg.jsx)("div",{className:"mt-8",children:(0,Cg.jsxs)("div",{className:"relative",children:[(0,Cg.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,Cg.jsx)("div",{className:"w-full border-t border-gray-300"})}),(0,Cg.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,Cg.jsx)("span",{className:"px-4 bg-white text-gray-500",children:"Or continue with"})})]})}),(0,Cg.jsxs)("div",{className:"mt-6 space-y-3",children:[(0,Cg.jsxs)("button",{type:"button",onClick:async()=>{try{if(v(!0),l(),x)u("Google login is not available with custom backend. Please use email/password.");else{var n,r;await i(),c("Login successful! Welcome back.");const s=(null===(n=t.state)||void 0===n||null===(r=n.from)||void 0===r?void 0:r.pathname)||"/";e(s,{replace:!0})}}catch(o){const t=o.message||"Google login failed. Please try again.";u(t)}finally{v(!1)}},disabled:y||x,className:"w-full inline-flex justify-center items-center py-3 px-4 border border-gray-300 rounded-xl shadow-sm bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:[(0,Cg.jsxs)("svg",{className:"w-5 h-5 mr-3",viewBox:"0 0 24 24",children:[(0,Cg.jsx)("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),(0,Cg.jsx)("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),(0,Cg.jsx)("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),(0,Cg.jsx)("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),(0,Cg.jsx)("span",{children:"Continue with Google"})]}),x&&(0,Cg.jsx)("div",{className:"text-center text-sm text-gray-500",children:"Google login is only available with Firebase authentication"})]})]}),(0,Cg.jsx)("div",{className:"text-center",children:(0,Cg.jsxs)("p",{className:"text-gray-600",children:["Don't have an account?"," ",(0,Cg.jsx)(Te,{to:"/register",className:"font-semibold text-primary-600 hover:text-primary-500 transition-colors duration-200",children:"Sign up for free"})]})})]})})},yy=()=>{const e=ee(),{register:t,registerWithBackend:n,loading:r,error:i,clearError:a}=Ig(),{showSuccess:o,showError:l}=Vg(),[c,u]=(0,s.useState)({displayName:"",email:"",password:"",confirmPassword:""}),[d,h]=(0,s.useState)({}),[f,p]=(0,s.useState)(!1),[m,g]=(0,s.useState)(!1),[y,v]=(0,s.useState)(!1),[x,b]=(0,s.useState)(!1),[w,N]=(0,s.useState)({score:0,feedback:[]});(0,s.useEffect)(()=>{a()},[a]);const k=e=>{const{name:t,value:n}=e.target;u(e=>({...e,[t]:n})),"password"===t&&N((e=>{const t=[];let n=0;return e.length>=8&&(n+=1,t.push("At least 8 characters")),/[a-z]/.test(e)&&(n+=1,t.push("Contains lowercase letter")),/[A-Z]/.test(e)&&(n+=1,t.push("Contains uppercase letter")),/[0-9]/.test(e)&&(n+=1,t.push("Contains number")),/[^A-Za-z0-9]/.test(e)&&(n+=1,t.push("Contains special character")),{score:n,feedback:t}})(n)),d[t]&&h(e=>({...e,[t]:""}))};return(0,Cg.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-primary-50 via-white to-primary-100 flex items-center justify-center px-4 sm:px-6 lg:px-8",children:(0,Cg.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,Cg.jsxs)("div",{className:"text-center",children:[(0,Cg.jsx)("div",{className:"mx-auto h-16 w-16 bg-gradient-to-r from-primary-500 to-primary-600 rounded-2xl flex items-center justify-center mb-6",children:(0,Cg.jsx)("span",{className:"text-white font-bold text-2xl",children:"T"})}),(0,Cg.jsx)("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Create your account"}),(0,Cg.jsx)("p",{className:"text-gray-600",children:"Join our community and start earning"})]}),(0,Cg.jsx)("div",{className:"bg-white/80 backdrop-blur-sm rounded-xl p-4 border border-gray-200",children:(0,Cg.jsxs)("div",{className:"flex items-center justify-center space-x-4",children:[(0,Cg.jsx)("button",{onClick:()=>b(!1),className:"px-4 py-2 rounded-lg font-medium transition-all duration-200 "+(x?"bg-gray-100 text-gray-700 hover:bg-gray-200":"bg-primary-500 text-white shadow-md"),children:"Firebase"}),(0,Cg.jsx)("button",{onClick:()=>b(!0),className:"px-4 py-2 rounded-lg font-medium transition-all duration-200 "+(x?"bg-primary-500 text-white shadow-md":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:"Custom Backend"})]})}),(0,Cg.jsx)("div",{className:"bg-white rounded-2xl shadow-xl p-8 border border-gray-100",children:(0,Cg.jsxs)("form",{className:"space-y-6",onSubmit:async r=>{if(r.preventDefault(),(()=>{const e={};return c.displayName.trim()?c.displayName.trim().length<2&&(e.displayName="Display name must be at least 2 characters long"):e.displayName="Display name is required",c.email.trim()?/\S+@\S+\.\S+/.test(c.email)||(e.email="Please enter a valid email address"):e.email="Email is required",c.password?c.password.length<6&&(e.password="Password must be at least 6 characters long"):e.password="Password is required",c.confirmPassword?c.password!==c.confirmPassword&&(e.confirmPassword="Passwords do not match"):e.confirmPassword="Please confirm your password",h(e),0===Object.keys(e).length})()){v(!0),a();try{let r;r=x?await n(c.email,c.password,c.displayName):await t(c.email,c.password,c.displayName),o("Registration successful! Welcome to our platform."),e("/")}catch(i){const t=i.message||"Registration failed. Please try again.";l(t)}finally{v(!1)}}},children:[(0,Cg.jsxs)("div",{className:"space-y-2",children:[(0,Cg.jsxs)("div",{className:"relative",children:[(0,Cg.jsx)("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:(0,Cg.jsx)(Wg,{className:"h-5 w-5 text-gray-400"})}),(0,Cg.jsx)("input",{id:"displayName",name:"displayName",type:"text",autoComplete:"name",required:!0,value:c.displayName,onChange:k,className:"block w-full pl-12 pr-4 py-4 border rounded-xl text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-all duration-200 "+(d.displayName?"border-red-300 focus:border-red-500 focus:ring-red-500":"border-gray-300"),placeholder:"Enter your display name",disabled:y})]}),d.displayName&&(0,Cg.jsxs)("div",{className:"flex items-center space-x-2 text-red-600 text-sm",children:[(0,Cg.jsx)(dy,{className:"w-4 h-4"}),(0,Cg.jsx)("span",{children:d.displayName})]})]}),(0,Cg.jsxs)("div",{className:"space-y-2",children:[(0,Cg.jsxs)("div",{className:"relative",children:[(0,Cg.jsx)("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:(0,Cg.jsx)(ay,{className:"h-5 w-5 text-gray-400"})}),(0,Cg.jsx)("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:c.email,onChange:k,className:"block w-full pl-12 pr-4 py-4 border rounded-xl text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-all duration-200 "+(d.email?"border-red-300 focus:border-red-500 focus:ring-red-500":"border-gray-300"),placeholder:"Enter your email",disabled:y})]}),d.email&&(0,Cg.jsxs)("div",{className:"flex items-center space-x-2 text-red-600 text-sm",children:[(0,Cg.jsx)(dy,{className:"w-4 h-4"}),(0,Cg.jsx)("span",{children:d.email})]})]}),(0,Cg.jsxs)("div",{className:"space-y-2",children:[(0,Cg.jsxs)("div",{className:"relative",children:[(0,Cg.jsx)("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:(0,Cg.jsx)(hy,{className:"h-5 w-5 text-gray-400"})}),(0,Cg.jsx)("input",{id:"password",name:"password",type:f?"text":"password",autoComplete:"new-password",required:!0,value:c.password,onChange:k,className:"block w-full pl-12 pr-12 py-4 border rounded-xl text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-all duration-200 "+(d.password?"border-red-300 focus:border-red-500 focus:ring-red-500":"border-gray-300"),placeholder:"Create a password",disabled:y}),(0,Cg.jsx)("button",{type:"button",className:"absolute inset-y-0 right-0 pr-4 flex items-center",onClick:()=>p(!f),disabled:y,children:f?(0,Cg.jsx)(fy,{className:"h-5 w-5 text-gray-400 hover:text-gray-600 transition-colors duration-200"}):(0,Cg.jsx)(py,{className:"h-5 w-5 text-gray-400 hover:text-gray-600 transition-colors duration-200"})})]}),c.password&&(0,Cg.jsxs)("div",{className:"space-y-2",children:[(0,Cg.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,Cg.jsx)("span",{className:"text-gray-600",children:"Password strength:"}),(0,Cg.jsx)("span",{className:"font-medium "+(w.score<=2?"text-red-500":w.score<=3?"text-yellow-500":"text-green-500"),children:w.score<=2?"Weak":w.score<=3?"Fair":w.score<=4?"Good":"Strong"})]}),(0,Cg.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,Cg.jsx)("div",{className:"h-2 rounded-full transition-all duration-300 "+(w.score<=2?"bg-red-500":w.score<=3?"bg-yellow-500":w.score<=4?"bg-blue-500":"bg-green-500"),style:{width:w.score/5*100+"%"}})}),(0,Cg.jsx)("div",{className:"grid grid-cols-1 gap-1 text-xs text-gray-600",children:w.feedback.map((e,t)=>(0,Cg.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Cg.jsx)(Og,{className:"w-3 h-3 text-green-500"}),(0,Cg.jsx)("span",{children:e})]},t))})]}),d.password&&(0,Cg.jsxs)("div",{className:"flex items-center space-x-2 text-red-600 text-sm",children:[(0,Cg.jsx)(dy,{className:"w-4 h-4"}),(0,Cg.jsx)("span",{children:d.password})]})]}),(0,Cg.jsxs)("div",{className:"space-y-2",children:[(0,Cg.jsxs)("div",{className:"relative",children:[(0,Cg.jsx)("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:(0,Cg.jsx)(hy,{className:"h-5 w-5 text-gray-400"})}),(0,Cg.jsx)("input",{id:"confirmPassword",name:"confirmPassword",type:m?"text":"password",autoComplete:"new-password",required:!0,value:c.confirmPassword,onChange:k,className:"block w-full pl-12 pr-12 py-4 border rounded-xl text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-all duration-200 "+(d.confirmPassword?"border-red-300 focus:border-red-500 focus:ring-red-500":"border-gray-300"),placeholder:"Confirm your password",disabled:y}),(0,Cg.jsx)("button",{type:"button",className:"absolute inset-y-0 right-0 pr-4 flex items-center",onClick:()=>g(!m),disabled:y,children:m?(0,Cg.jsx)(fy,{className:"h-5 w-5 text-gray-400 hover:text-gray-600 transition-colors duration-200"}):(0,Cg.jsx)(py,{className:"h-5 w-5 text-gray-400 hover:text-gray-600 transition-colors duration-200"})})]}),d.confirmPassword&&(0,Cg.jsxs)("div",{className:"flex items-center space-x-2 text-red-600 text-sm",children:[(0,Cg.jsx)(dy,{className:"w-4 h-4"}),(0,Cg.jsx)("span",{children:d.confirmPassword})]})]}),(0,Cg.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,Cg.jsx)("input",{id:"terms",name:"terms",type:"checkbox",required:!0,className:"mt-1 h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded",disabled:y}),(0,Cg.jsxs)("label",{htmlFor:"terms",className:"text-sm text-gray-700",children:["I agree to the"," ",(0,Cg.jsx)("a",{href:"#",className:"text-primary-600 hover:text-primary-500 font-medium",children:"Terms of Service"})," ","and"," ",(0,Cg.jsx)("a",{href:"#",className:"text-primary-600 hover:text-primary-500 font-medium",children:"Privacy Policy"})]})]}),i&&(0,Cg.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4",children:(0,Cg.jsxs)("div",{className:"flex items-center space-x-2 text-red-600",children:[(0,Cg.jsx)(dy,{className:"w-5 h-5"}),(0,Cg.jsx)("span",{className:"text-sm font-medium",children:i})]})}),(0,Cg.jsx)("button",{type:"submit",disabled:y||r,className:"group relative w-full flex justify-center py-4 px-4 border border-transparent text-lg font-semibold rounded-xl text-white bg-gradient-to-r from-primary-500 to-primary-600 hover:from-primary-600 hover:to-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 transform hover:scale-[1.02] shadow-lg hover:shadow-xl",children:y?(0,Cg.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Cg.jsx)(cy,{className:"w-5 h-5 animate-spin"}),(0,Cg.jsx)("span",{children:"Creating account..."})]}):(0,Cg.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Cg.jsx)("span",{children:"Create account"}),(0,Cg.jsx)(my,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform duration-200"})]})})]})}),(0,Cg.jsx)("div",{className:"text-center",children:(0,Cg.jsxs)("p",{className:"text-gray-600",children:["Already have an account?"," ",(0,Cg.jsx)(Te,{to:"/login",className:"font-semibold text-primary-600 hover:text-primary-500 transition-colors duration-200",children:"Sign in here"})]})})]})})},vy=Dg("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),xy=()=>{const{resetPassword:e,loading:t,error:n,clearError:r}=Ig(),{showSuccess:i,showError:a}=Vg(),[o,l]=(0,s.useState)(""),[c,u]=(0,s.useState)(""),[d,h]=(0,s.useState)(!1),[f,p]=(0,s.useState)(!1);(0,s.useEffect)(()=>{r()},[r]);return f?(0,Cg.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-primary-50 via-white to-primary-100 flex items-center justify-center px-4 sm:px-6 lg:px-8",children:(0,Cg.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,Cg.jsxs)("div",{className:"text-center",children:[(0,Cg.jsx)("div",{className:"mx-auto h-16 w-16 bg-green-500 rounded-2xl flex items-center justify-center mb-6",children:(0,Cg.jsx)(Og,{className:"w-8 h-8 text-white"})}),(0,Cg.jsx)("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Check your email"}),(0,Cg.jsxs)("p",{className:"text-gray-600",children:["We've sent a password reset link to ",(0,Cg.jsx)("strong",{children:o})]})]}),(0,Cg.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl p-8 border border-gray-100",children:[(0,Cg.jsxs)("div",{className:"space-y-4",children:[(0,Cg.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,Cg.jsx)("div",{className:"w-2 h-2 bg-primary-500 rounded-full mt-2"}),(0,Cg.jsx)("p",{className:"text-gray-700",children:"Click the link in the email to reset your password"})]}),(0,Cg.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,Cg.jsx)("div",{className:"w-2 h-2 bg-primary-500 rounded-full mt-2"}),(0,Cg.jsx)("p",{className:"text-gray-700",children:"The link will expire in 1 hour for security"})]}),(0,Cg.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,Cg.jsx)("div",{className:"w-2 h-2 bg-primary-500 rounded-full mt-2"}),(0,Cg.jsx)("p",{className:"text-gray-700",children:"Check your spam folder if you don't see the email"})]})]}),(0,Cg.jsx)("div",{className:"mt-6 pt-6 border-t border-gray-200",children:(0,Cg.jsx)("button",{onClick:()=>p(!1),className:"w-full py-3 px-4 border border-primary-500 text-primary-600 rounded-xl hover:bg-primary-50 transition-colors duration-200 font-medium",children:"Didn't receive the email? Try again"})})]}),(0,Cg.jsx)("div",{className:"text-center",children:(0,Cg.jsxs)(Te,{to:"/login",className:"inline-flex items-center space-x-2 text-primary-600 hover:text-primary-500 transition-colors duration-200",children:[(0,Cg.jsx)(vy,{className:"w-4 h-4"}),(0,Cg.jsx)("span",{children:"Back to login"})]})})]})}):(0,Cg.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-primary-50 via-white to-primary-100 flex items-center justify-center px-4 sm:px-6 lg:px-8",children:(0,Cg.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,Cg.jsxs)("div",{className:"text-center",children:[(0,Cg.jsx)("div",{className:"mx-auto h-16 w-16 bg-gradient-to-r from-primary-500 to-primary-600 rounded-2xl flex items-center justify-center mb-6",children:(0,Cg.jsx)("span",{className:"text-white font-bold text-2xl",children:"T"})}),(0,Cg.jsx)("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Forgot your password?"}),(0,Cg.jsx)("p",{className:"text-gray-600",children:"Enter your email address and we'll send you a link to reset your password"})]}),(0,Cg.jsx)("div",{className:"bg-white rounded-2xl shadow-xl p-8 border border-gray-100",children:(0,Cg.jsxs)("form",{className:"space-y-6",onSubmit:async t=>{t.preventDefault();const s=(e=>e.trim()?/\S+@\S+\.\S+/.test(e)?"":"Please enter a valid email address":"Email is required")(o);if(s)u(s);else{h(!0),r();try{await e(o),p(!0),i("Password reset email sent! Check your inbox.")}catch(n){const t=n.message||"Failed to send reset email. Please try again.";a(t)}finally{h(!1)}}},children:[(0,Cg.jsxs)("div",{className:"space-y-2",children:[(0,Cg.jsxs)("div",{className:"relative",children:[(0,Cg.jsx)("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:(0,Cg.jsx)(ay,{className:"h-5 w-5 text-gray-400"})}),(0,Cg.jsx)("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:o,onChange:e=>{const t=e.target.value;l(t),c&&u("")},className:"block w-full pl-12 pr-4 py-4 border rounded-xl text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-all duration-200 "+(c?"border-red-300 focus:border-red-500 focus:ring-red-500":"border-gray-300"),placeholder:"Enter your email address",disabled:d})]}),c&&(0,Cg.jsxs)("div",{className:"flex items-center space-x-2 text-red-600 text-sm",children:[(0,Cg.jsx)(dy,{className:"w-4 h-4"}),(0,Cg.jsx)("span",{children:c})]})]}),n&&(0,Cg.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4",children:(0,Cg.jsxs)("div",{className:"flex items-center space-x-2 text-red-600",children:[(0,Cg.jsx)(dy,{className:"w-5 h-5"}),(0,Cg.jsx)("span",{className:"text-sm font-medium",children:n})]})}),(0,Cg.jsx)("button",{type:"submit",disabled:d||t,className:"group relative w-full flex justify-center py-4 px-4 border border-transparent text-lg font-semibold rounded-xl text-white bg-gradient-to-r from-primary-500 to-primary-600 hover:from-primary-600 hover:to-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 transform hover:scale-[1.02] shadow-lg hover:shadow-xl",children:d?(0,Cg.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Cg.jsx)(cy,{className:"w-5 h-5 animate-spin"}),(0,Cg.jsx)("span",{children:"Sending reset email..."})]}):(0,Cg.jsx)("span",{children:"Send reset link"})})]})}),(0,Cg.jsx)("div",{className:"text-center",children:(0,Cg.jsxs)(Te,{to:"/login",className:"inline-flex items-center space-x-2 text-primary-600 hover:text-primary-500 transition-colors duration-200",children:[(0,Cg.jsx)(vy,{className:"w-4 h-4"}),(0,Cg.jsx)("span",{children:"Back to login"})]})})]})})},by=()=>(0,Cg.jsxs)("section",{className:"relative min-h-screen bg-gradient-to-br from-gray-900 via-primary-900 to-primary-800 flex items-center justify-center overflow-hidden",children:[(0,Cg.jsxs)("div",{className:"absolute inset-0",children:[(0,Cg.jsx)("div",{className:"absolute top-20 left-20 w-72 h-72 bg-white/5 rounded-full blur-3xl animate-pulse"}),(0,Cg.jsx)("div",{className:"absolute bottom-20 right-20 w-96 h-96 bg-primary-400/10 rounded-full blur-3xl animate-pulse delay-1000"}),(0,Cg.jsx)("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-64 h-64 bg-white/5 rounded-full blur-3xl animate-pulse delay-500"})]}),(0,Cg.jsx)("div",{className:"relative z-10 text-center px-4 sm:px-6 lg:px-8 max-w-7xl mx-auto",children:(0,Cg.jsxs)("div",{className:"animate-fade-in",children:[(0,Cg.jsxs)("h1",{className:"text-5xl sm:text-6xl lg:text-8xl font-bold text-white mb-8 leading-tight tracking-tight",children:["Transform Your",(0,Cg.jsx)("span",{className:"block bg-gradient-to-r from-yellow-300 via-orange-300 to-red-400 bg-clip-text text-transparent",children:"Digital Experience"})]}),(0,Cg.jsx)("p",{className:"text-xl sm:text-2xl lg:text-3xl text-white/90 mb-12 max-w-4xl mx-auto leading-relaxed font-light",children:"Build, deploy, and scale your applications with our cutting-edge platform. Join thousands of developers who trust us with their projects."}),(0,Cg.jsxs)("div",{className:"flex flex-col sm:flex-row gap-6 justify-center items-center mb-16",children:[(0,Cg.jsxs)("button",{className:"group bg-gradient-to-r from-primary-500 to-primary-600 hover:from-primary-600 hover:to-primary-700 text-white px-8 py-4 rounded-2xl font-semibold text-lg shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105 flex items-center space-x-2",children:[(0,Cg.jsx)("span",{children:"Get Started Free"}),(0,Cg.jsx)(my,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform duration-300"})]}),(0,Cg.jsx)("button",{className:"group bg-white/10 backdrop-blur-md text-white px-8 py-4 rounded-2xl font-semibold text-lg border border-white/20 hover:bg-white/20 transition-all duration-300 hover:scale-105",children:"Learn More"})]}),(0,Cg.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-8 max-w-4xl mx-auto",children:[(0,Cg.jsxs)("div",{className:"text-center group",children:[(0,Cg.jsx)("div",{className:"text-4xl font-bold text-white group-hover:text-primary-300 transition-colors duration-300",children:"10K+"}),(0,Cg.jsx)("div",{className:"text-white/70 font-medium",children:"Active Users"})]}),(0,Cg.jsxs)("div",{className:"text-center group",children:[(0,Cg.jsx)("div",{className:"text-4xl font-bold text-white group-hover:text-primary-300 transition-colors duration-300",children:"99.9%"}),(0,Cg.jsx)("div",{className:"text-white/70 font-medium",children:"Uptime"})]}),(0,Cg.jsxs)("div",{className:"text-center group",children:[(0,Cg.jsx)("div",{className:"text-4xl font-bold text-white group-hover:text-primary-300 transition-colors duration-300",children:"24/7"}),(0,Cg.jsx)("div",{className:"text-white/70 font-medium",children:"Support"})]})]})]})}),(0,Cg.jsx)("div",{className:"absolute bottom-8 left-1/2 transform -translate-x-1/2 animate-bounce",children:(0,Cg.jsx)("div",{className:"w-8 h-12 border-2 border-white/30 rounded-full flex justify-center items-center group cursor-pointer hover:border-white/50 transition-colors duration-300",children:(0,Cg.jsx)(Yg,{className:"w-4 h-4 text-white/60 group-hover:text-white/80 transition-colors duration-300 animate-pulse"})})})]}),wy=Dg("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),Ny=Dg("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z",key:"3xmgem"}]]),ky=Dg("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),Ey=Dg("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]),_y=Dg("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z",key:"nb9nel"}]]),Sy=()=>{const e=[{icon:(0,Cg.jsx)(wy,{className:"w-12 h-12 text-primary-500"}),title:"Lightning Fast",description:"Experience blazing-fast performance with our optimized infrastructure and CDN network.",color:"from-blue-500 to-cyan-500"},{icon:(0,Cg.jsx)(Ny,{className:"w-12 h-12 text-primary-500"}),title:"Enterprise Security",description:"Bank-grade security with end-to-end encryption and compliance certifications.",color:"from-green-500 to-emerald-500"},{icon:(0,Cg.jsx)(ky,{className:"w-12 h-12 text-primary-500"}),title:"Team Collaboration",description:"Built for teams with real-time collaboration tools and seamless integration.",color:"from-purple-500 to-pink-500"},{icon:(0,Cg.jsx)(Ey,{className:"w-12 h-12 text-primary-500"}),title:"Auto Scaling",description:"Intelligent auto-scaling that adapts to your traffic patterns automatically.",color:"from-orange-500 to-red-500"},{icon:(0,Cg.jsx)(hy,{className:"w-12 h-12 text-primary-500"}),title:"Data Privacy",description:"Your data stays yours with our privacy-first approach and GDPR compliance.",color:"from-indigo-500 to-purple-500"},{icon:(0,Cg.jsx)(_y,{className:"w-12 h-12 text-primary-500"}),title:"Global Reach",description:"Deploy to multiple regions worldwide for optimal performance and reliability.",color:"from-teal-500 to-blue-500"}];return(0,Cg.jsx)("section",{className:"py-20 px-4 sm:px-6 lg:px-8 bg-white",children:(0,Cg.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,Cg.jsxs)("div",{className:"text-center mb-16",children:[(0,Cg.jsx)("h2",{className:"text-4xl sm:text-5xl font-bold text-gray-900 mb-6",children:"Why Choose Our Platform?"}),(0,Cg.jsx)("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"We've built the most comprehensive platform for modern applications, combining cutting-edge technology with developer-friendly tools."})]}),(0,Cg.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:e.map((e,t)=>(0,Cg.jsxs)("div",{className:"card p-8 text-center group",children:[(0,Cg.jsx)("div",{className:"mb-6 flex justify-center",children:(0,Cg.jsx)("div",{className:"p-4 rounded-2xl bg-gradient-to-br from-gray-50 to-gray-100 group-hover:from-primary-50 group-hover:to-primary-100 transition-all duration-300",children:e.icon})}),(0,Cg.jsx)("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:e.title}),(0,Cg.jsx)("p",{className:"text-gray-600 leading-relaxed",children:e.description}),(0,Cg.jsx)("div",{className:"mt-6",children:(0,Cg.jsx)("div",{className:`w-16 h-1 bg-gradient-to-r ${e.color} rounded-full mx-auto opacity-0 group-hover:opacity-100 transition-all duration-300`})})]},t))}),(0,Cg.jsx)("div",{className:"mt-16 text-center",children:(0,Cg.jsxs)("div",{className:"inline-flex items-center space-x-2 bg-gradient-to-r from-primary-500 to-primary-600 text-white px-8 py-4 rounded-2xl shadow-lg",children:[(0,Cg.jsx)("span",{className:"text-lg font-semibold",children:"Ready to get started?"}),(0,Cg.jsx)("button",{className:"bg-white/20 hover:bg-white/30 px-4 py-2 rounded-xl transition-all duration-300",children:"Start Free Trial"})]})})]})})},Ty=Dg("Quote",[["path",{d:"M3 21c3 0 7-1 7-8V5c0-1.25-.756-2.017-2-2H4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2 1 0 1 0 1 1v1c0 1-1 2-2 2s-1 .008-1 1.031V20c0 1 0 1 1 1z",key:"4rm80e"}],["path",{d:"M15 21c3 0 7-1 7-8V5c0-1.25-.757-2.017-2-2h-4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2h.75c0 2.25.25 4-2.75 4v3c0 1 0 1 1 1z",key:"10za9r"}]]),Cy=Dg("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),jy=()=>(0,Cg.jsx)("section",{className:"py-20 px-4 sm:px-6 lg:px-8 bg-gray-50",children:(0,Cg.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,Cg.jsxs)("div",{className:"text-center mb-16",children:[(0,Cg.jsx)("h2",{className:"text-4xl sm:text-5xl font-bold text-gray-900 mb-6",children:"Loved by Developers Worldwide"}),(0,Cg.jsx)("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Join thousands of satisfied developers who have transformed their workflow with our platform."})]}),(0,Cg.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[{name:"Sarah Johnson",role:"CTO at TechFlow",avatar:"https://images.unsplash.com/photo-1494790108755-2616b612b786?w=150&h=150&fit=crop&crop=face",quote:"This platform has completely transformed how we deploy our applications. The auto-scaling feature alone has saved us countless hours of manual configuration.",rating:5},{name:"Michael Chen",role:"Lead Developer at InnovateCorp",avatar:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=150&h=150&fit=crop&crop=face",quote:"The developer experience is unmatched. Everything just works seamlessly, and the documentation is incredibly comprehensive.",rating:5},{name:"Emily Rodriguez",role:"DevOps Engineer at ScaleUp",avatar:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=150&h=150&fit=crop&crop=face",quote:"We've reduced our deployment time by 80% and our infrastructure costs by 40%. This platform is a game-changer for our team.",rating:5},{name:"David Kim",role:"Founder at StartupXYZ",avatar:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=150&h=150&fit=crop&crop=face",quote:"The security features give us peace of mind, and the global CDN ensures our users get lightning-fast performance worldwide.",rating:5},{name:"Lisa Thompson",role:"Senior Developer at EnterpriseCo",avatar:"https://images.unsplash.com/photo-1544005313-94ddf0286df2?w=150&h=150&fit=crop&crop=face",quote:"The team collaboration tools are fantastic. We can work together seamlessly across different time zones and locations.",rating:5},{name:"Alex Martinez",role:"Cloud Architect at BigTech",avatar:"https://images.unsplash.com/photo-1500648767791-00dcc994a43e?w=150&h=150&fit=crop&crop=face",quote:"Finally, a platform that understands what developers need. The API is intuitive, and the support team is incredibly responsive.",rating:5}].map((e,t)=>(0,Cg.jsxs)("div",{className:"card p-8 relative group",children:[(0,Cg.jsx)("div",{className:"absolute top-6 right-6 opacity-10 group-hover:opacity-20 transition-opacity duration-300",children:(0,Cg.jsx)(Ty,{className:"w-12 h-12 text-primary-500"})}),(0,Cg.jsxs)("div",{className:"flex items-center mb-6",children:[(0,Cg.jsx)("div",{className:"flex -space-x-2",children:(0,Cg.jsx)("img",{src:e.avatar,alt:e.name,className:"w-12 h-12 rounded-full border-2 border-white shadow-lg"})}),(0,Cg.jsxs)("div",{className:"ml-4",children:[(0,Cg.jsx)("h4",{className:"font-semibold text-gray-900",children:e.name}),(0,Cg.jsx)("p",{className:"text-sm text-gray-600",children:e.role})]})]}),(0,Cg.jsx)("div",{className:"flex items-center mb-4",children:[...Array(e.rating)].map((e,t)=>(0,Cg.jsx)(Cy,{className:"w-5 h-5 text-yellow-400 fill-current"},t))}),(0,Cg.jsxs)("blockquote",{className:"text-gray-700 leading-relaxed italic",children:['"',e.quote,'"']})]},t))}),(0,Cg.jsx)("div",{className:"mt-16 text-center",children:(0,Cg.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg p-8 max-w-4xl mx-auto",children:[(0,Cg.jsx)("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Join Our Growing Community"}),(0,Cg.jsx)("p",{className:"text-gray-600 mb-6",children:"Start building amazing applications today with our comprehensive platform."}),(0,Cg.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[(0,Cg.jsx)("button",{className:"btn-primary",children:"Start Free Trial"}),(0,Cg.jsx)("button",{className:"btn-secondary",children:"View Documentation"})]})]})})]})}),Iy=[{id:"1",title:"Build a React Landing Page",description:"Create a modern, responsive landing page using React and Tailwind CSS. The page should include a hero section, features, testimonials, and contact form.",coinsReward:500,category:"Web Development",status:"open",createdBy:"user1",posterId:"user1",createdAt:new Date,views:15,claims:2,completions:0,difficulty:"medium",location:"Remote",duration:"1 week",skills:["React","Tailwind CSS","JavaScript"],tags:["frontend","responsive","modern"]},{id:"2",title:"Design Mobile App UI/UX",description:"Design comprehensive UI/UX for a fitness tracking mobile application. Include wireframes, mockups, and user flow diagrams.",coinsReward:800,category:"Design & Creative",status:"open",createdBy:"user2",posterId:"user2",createdAt:new Date,views:23,claims:1,completions:0,difficulty:"hard",location:"Remote",duration:"2 weeks",skills:["Figma","Adobe XD","Prototyping"],tags:["mobile","fitness","ui-ux"]},{id:"3",title:"Write Technical Blog Posts",description:"Write 5 high-quality technical blog posts about web development topics. Each post should be 1500-2000 words with code examples.",coinsReward:300,category:"Writing & Translation",status:"open",createdBy:"user3",posterId:"user3",createdAt:new Date,views:8,claims:0,completions:0,difficulty:"easy",location:"Remote",duration:"1 week",skills:["Technical Writing","Web Development","SEO"],tags:["blogging","technical","content"]}],Py=[{id:"1",name:"Premium Task Templates",description:"Collection of 50+ professional task templates for various industries",price:200,category:"Templates",imageUrl:"https://images.unsplash.com/photo-1460925895917-afdab827c52f?w=400&h=250&fit=crop",seller:"TemplateMaster",rating:4.8,sales:156,status:"available"},{id:"2",name:"Advanced Analytics Dashboard",description:"Complete analytics dashboard with real-time data visualization",price:500,category:"Tools",imageUrl:"https://images.unsplash.com/photo-1551288049-bebda4e38f71?w=400&h=250&fit=crop",seller:"DataViz Pro",rating:4.9,sales:89,status:"available"},{id:"3",name:"SEO Optimization Guide",description:"Comprehensive guide to SEO optimization with case studies",price:150,category:"Guides",imageUrl:"https://images.unsplash.com/photo-1460925895917-afdab827c52f?w=400&h=250&fit=crop",seller:"SEO Expert",rating:4.7,sales:234,status:"available"}],Ay=()=>Sg&&"function"===typeof Sg.collection,Ry=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20;if(!Ay())return Iy.slice(0,e);try{const t=Qm(im(Sg,"tasks"),Ym("status","==","open"),eg("createdAt","desc"),ng(e));return(await mg(t)).docs.map(e=>({id:e.id,...e.data()}))}catch(kv){return console.error("Error getting tasks:",kv),Iy.slice(0,e)}},Dy=async e=>{if(!Ay()){const t={id:Date.now().toString(),...e,createdAt:new Date,views:0,claims:0,completions:0};return Iy.unshift(t),t.id}try{const t=im(Sg,"tasks");return(await function(e,t){const n=yo(e.firestore,um),r=am(e),s=og(e.converter,t);return vg(n,[_m(Em(e.firestore),"addDoc",r._key,s,null!==e.converter,{}).toMutation(r._key,Ru.exists(!1))]).then(()=>r)}(t,{...e,createdAt:bg()})).id}catch(kv){throw console.error("Error adding task:",kv),kv}},Oy=async(e,t)=>{if(!Ay()){const t=Iy.find(t=>t.id===e);return t&&(t.claims+=1,t.status="claimed"),!0}try{const n=am(Sg,"tasks",e);return await yg(n,{claims:Ng(1),status:"claimed",claimedBy:t,claimedAt:bg()}),!0}catch(kv){throw console.error("Error claiming task:",kv),kv}},Ly=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20;if(!Ay())return Iy.filter(t=>{var n,r,s;return(null===(n=t.title)||void 0===n?void 0:n.toLowerCase().includes(e.toLowerCase()))||(null===(r=t.description)||void 0===r?void 0:r.toLowerCase().includes(e.toLowerCase()))||(null===(s=t.category)||void 0===s?void 0:s.toLowerCase().includes(e.toLowerCase()))}).slice(0,t);try{const n=Qm(im(Sg,"tasks"),Ym("status","==","open"),eg("createdAt","desc"),ng(t)),r=(await mg(n)).docs.map(e=>({id:e.id,...e.data()}));return r.filter(t=>{var n,r,s;return(null===(n=t.title)||void 0===n?void 0:n.toLowerCase().includes(e.toLowerCase()))||(null===(r=t.description)||void 0===r?void 0:r.toLowerCase().includes(e.toLowerCase()))||(null===(s=t.category)||void 0===s?void 0:s.toLowerCase().includes(e.toLowerCase()))})}catch(kv){return console.error("Error searching tasks:",kv),[]}},My=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20;if(!Ay())return Py.slice(0,e);try{const t=Qm(im(Sg,"products"),Ym("status","==","available"),eg("createdAt","desc"),ng(e));return(await mg(t)).docs.map(e=>({id:e.id,...e.data()}))}catch(kv){return console.error("Error getting products:",kv),Py.slice(0,e)}},Fy=async(e,t,n)=>{if(!Ay()){const t=Py.find(t=>t.id===e);return!!(t&&n>=t.price)&&(t.status="sold",!0)}try{const r=am(Sg,"products",e),s=am(Sg,"users",t),i=await fg(r);if(!i.exists())throw new Error("Product not found");const a=i.data();if(n<a.price)throw new Error("Insufficient coins");return await yg(r,{status:"sold",soldTo:t,soldAt:bg()}),await yg(s,{coins:Ng(-a.price),purchasedItems:wg(e)}),!0}catch(kv){throw console.error("Error purchasing product:",kv),kv}},Uy=async(e,t)=>{if(!Ay())return!0;try{const n=am(Sg,"users",e);return await yg(n,{coins:Ng(t),lastUpdated:bg()}),!0}catch(kv){throw console.error("Error updating user coins:",kv),kv}},Vy=Dg("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),zy=Dg("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),By=e=>{let{task:t,onTaskClaimed:n}=e;const{currentUser:r}=Ig(),{showSuccess:i,showError:a,showWarning:o}=Vg(),[l,c]=(0,s.useState)(!1),[u,d]=(0,s.useState)(!1),{id:h,title:f,description:p,coinsReward:m,duration:g,skills:y,createdBy:v,posterId:x,rating:b,views:w,location:N,featured:k,urgent:E,status:_,claimedBy:S}=t,T="claimed"===_||S,C=S===(null===r||void 0===r?void 0:r.uid),j=v===(null===r||void 0===r?void 0:r.uid),I=()=>u?"Task Claimed!":T&&C?"Claimed by You":T?"Already Claimed":j?"Your Task":"Claim Task",P=()=>l||T||j||!r;return(0,Cg.jsxs)("div",{className:"group relative bg-white rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-[1.02] border border-gray-100 overflow-hidden",children:[(0,Cg.jsx)("div",{className:"absolute inset-0 rounded-2xl bg-gradient-to-r from-primary-500 via-primary-600 to-primary-700 opacity-0 group-hover:opacity-20 transition-opacity duration-300 pointer-events-none"}),k&&(0,Cg.jsx)("div",{className:"absolute top-4 left-4 z-10",children:(0,Cg.jsx)("div",{className:"bg-gradient-to-r from-primary-500 to-primary-600 text-white text-xs font-semibold px-3 py-1 rounded-full shadow-lg",children:"Featured"})}),"completed"===_?(0,Cg.jsx)("div",{className:"absolute top-4 right-4 z-10",children:(0,Cg.jsx)("div",{className:"bg-green-500 text-white text-xs font-semibold px-3 py-1 rounded-full shadow-lg",children:"Completed"})}):T?(0,Cg.jsx)("div",{className:"absolute top-4 right-4 z-10",children:(0,Cg.jsx)("div",{className:"bg-orange-500 text-white text-xs font-semibold px-3 py-1 rounded-full shadow-lg",children:C?"Claimed by You":"Claimed"})}):E?(0,Cg.jsx)("div",{className:"absolute top-4 right-4 z-10",children:(0,Cg.jsx)("div",{className:"bg-red-500 text-white text-xs font-semibold px-3 py-1 rounded-full shadow-lg",children:"Urgent"})}):null,(0,Cg.jsxs)("div",{className:"p-6 relative z-10",children:[(0,Cg.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,Cg.jsxs)("div",{className:"flex items-center space-x-3 flex-1",children:[(0,Cg.jsxs)("div",{className:"relative",children:[(0,Cg.jsx)("div",{className:"w-12 h-12 rounded-full border-2 border-gray-200 bg-gradient-to-r from-primary-500 to-primary-600 flex items-center justify-center",children:(0,Cg.jsx)(Wg,{className:"w-6 h-6 text-white"})}),b&&(0,Cg.jsx)("div",{className:"absolute -bottom-1 -right-1 bg-yellow-400 rounded-full p-1",children:(0,Cg.jsx)(Cy,{className:"w-3 h-3 text-white fill-current"})})]}),(0,Cg.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,Cg.jsx)("h3",{className:"font-bold text-gray-900 line-clamp-2 leading-tight group-hover:text-primary-600 transition-colors duration-200 text-lg",children:f}),(0,Cg.jsxs)("div",{className:"flex items-center space-x-2 mt-1",children:[(0,Cg.jsx)(Wg,{className:"w-4 h-4 text-gray-400"}),(0,Cg.jsx)("p",{className:"text-sm text-gray-600 truncate",children:x||"Anonymous"})]})]})]}),b&&(0,Cg.jsxs)("div",{className:"flex items-center space-x-1 text-yellow-500 ml-2",children:[(0,Cg.jsx)(Cy,{className:"w-4 h-4 fill-current"}),(0,Cg.jsx)("span",{className:"text-sm font-semibold",children:b})]})]}),(0,Cg.jsx)("p",{className:"text-gray-600 text-sm mb-4 line-clamp-3 leading-relaxed",children:p}),y&&y.length>0&&(0,Cg.jsxs)("div",{className:"flex flex-wrap gap-2 mb-4",children:[y.slice(0,3).map((e,t)=>(0,Cg.jsx)("span",{className:"px-3 py-1 bg-primary-50 text-primary-600 text-xs rounded-full font-medium border border-primary-100",children:e},t)),y.length>3&&(0,Cg.jsxs)("span",{className:"px-3 py-1 bg-gray-100 text-gray-600 text-xs rounded-full font-medium",children:["+",y.length-3," more"]})]}),(0,Cg.jsxs)("div",{className:"flex items-center justify-between text-sm text-gray-500 mb-6",children:[(0,Cg.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Cg.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Cg.jsx)(Kg,{className:"w-4 h-4 text-yellow-500"}),(0,Cg.jsxs)("span",{className:"font-bold text-gray-900",children:[m," coins"]})]}),g&&(0,Cg.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Cg.jsx)(Vy,{className:"w-4 h-4"}),(0,Cg.jsx)("span",{children:g})]}),N&&(0,Cg.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Cg.jsx)(zy,{className:"w-4 h-4"}),(0,Cg.jsx)("span",{children:N})]})]}),void 0!==w&&(0,Cg.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Cg.jsx)(py,{className:"w-4 h-4"}),(0,Cg.jsx)("span",{children:w})]})]}),(0,Cg.jsx)("button",{onClick:async()=>{if(r)if(j)o("You cannot claim your own task");else if(!T||C){c(!0);try{await Oy(h,r.uid),d(!0),i("Task claimed successfully! You can now start working on it."),n&&n(h)}catch(kv){console.error("Error claiming task:",kv),a("Failed to claim task. Please try again.")}finally{c(!1)}}else o("This task has already been claimed by another user");else o("Please log in to claim tasks")},disabled:P(),className:"w-full py-4 px-6 rounded-xl font-bold text-lg transition-all duration-300 transform hover:scale-[1.02] shadow-lg hover:shadow-xl disabled:transform-none disabled:cursor-not-allowed "+(u||T&&C?"bg-green-500 text-white":T?"bg-gray-400 text-white cursor-not-allowed":j?"bg-blue-500 text-white cursor-not-allowed":"bg-gradient-to-r from-primary-500 to-primary-600 hover:from-primary-600 hover:to-primary-700 text-white"),children:l?(0,Cg.jsxs)("div",{className:"flex items-center justify-center space-x-3",children:[(0,Cg.jsx)(cy,{className:"w-5 h-5 animate-spin"}),(0,Cg.jsx)("span",{children:"Claiming..."})]}):u||T&&C?(0,Cg.jsxs)("div",{className:"flex items-center justify-center space-x-3",children:[(0,Cg.jsx)(Og,{className:"w-5 h-5"}),(0,Cg.jsx)("span",{children:I()})]}):(0,Cg.jsxs)("div",{className:"flex items-center justify-center space-x-3",children:[(0,Cg.jsx)("span",{children:I()}),!P()&&(0,Cg.jsx)(my,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform duration-200"})]})})]}),(0,Cg.jsx)("div",{className:"absolute inset-0 rounded-2xl bg-gradient-to-br from-primary-500/5 to-primary-600/5 opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none"})]})},$y=Dg("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),qy=e=>{let{onSearch:t,placeholder:n="Search tasks...",loading:r=!1}=e;const[i,a]=(0,s.useState)("");return(0,Cg.jsx)("div",{className:"w-full max-w-2xl mx-auto",children:(0,Cg.jsx)("form",{onSubmit:e=>{e.preventDefault(),t(i)},className:"relative",children:(0,Cg.jsxs)("div",{className:"relative",children:[(0,Cg.jsx)("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:r?(0,Cg.jsx)(cy,{className:"h-5 w-5 text-primary-500 animate-spin"}):(0,Cg.jsx)($y,{className:"h-5 w-5 text-gray-400 transition-colors duration-200 group-focus-within:text-primary-500"})}),(0,Cg.jsx)("input",{type:"text",value:i,onChange:e=>{const n=e.target.value;a(n),t(n)},placeholder:n,disabled:r,className:"w-full pl-12 pr-4 py-4 text-gray-900 placeholder-gray-500 bg-white border border-gray-200 rounded-xl shadow-sm hover:shadow-md focus:shadow-lg transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 group disabled:opacity-50 disabled:cursor-not-allowed"}),(0,Cg.jsx)("div",{className:"absolute inset-0 rounded-xl bg-gradient-to-r from-primary-500/5 to-primary-600/5 opacity-0 focus-within:opacity-100 transition-opacity duration-300 pointer-events-none"})]})})})},Hy=Dg("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),Wy=()=>{const{showSuccess:e,showError:t}=Vg(),[n,r]=(0,s.useState)([]),[i,a]=(0,s.useState)([]),[o,l]=(0,s.useState)(!0),[c,u]=(0,s.useState)(null),[d,h]=(0,s.useState)("grid"),[f,p]=(0,s.useState)("all"),[m,g]=(0,s.useState)(""),y=(0,s.useCallback)(async()=>{try{l(!0),u(null);const e=await Ry();r(e),a(e)}catch(c){console.error("Error fetching tasks:",c),u("Failed to load tasks. Please try again."),t("Failed to load tasks. Please try again.")}finally{l(!1)}},[t]);(0,s.useEffect)(()=>{y()},[y]);const v=()=>{y()};return o?(0,Cg.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,Cg.jsxs)("div",{className:"text-center",children:[(0,Cg.jsx)(cy,{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto mb-4"}),(0,Cg.jsx)("p",{className:"text-gray-600",children:"Loading tasks..."})]})}):c?(0,Cg.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,Cg.jsxs)("div",{className:"text-center max-w-md mx-auto px-4",children:[(0,Cg.jsx)(dy,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),(0,Cg.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Failed to Load Tasks"}),(0,Cg.jsx)("p",{className:"text-gray-600 mb-6",children:c}),(0,Cg.jsxs)("button",{onClick:v,className:"inline-flex items-center px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors duration-200",children:[(0,Cg.jsx)(Hy,{className:"w-4 h-4 mr-2"}),"Try Again"]})]})}):(0,Cg.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,Cg.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,Cg.jsxs)("div",{className:"text-center mb-8",children:[(0,Cg.jsx)("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Browse Available Tasks"}),(0,Cg.jsx)("p",{className:"text-xl text-gray-600",children:"Find the perfect project that matches your skills and interests"})]}),(0,Cg.jsx)("div",{className:"mb-8",children:(0,Cg.jsx)(qy,{onSearch:async e=>{if(e.trim())try{const t=await Ly(e,20);a(t)}catch(c){console.error("Error searching tasks:",c),t("Search failed. Please try again.");const s=n.filter(t=>{var n,r,s;return(null===(n=t.title)||void 0===n?void 0:n.toLowerCase().includes(e.toLowerCase()))||(null===(r=t.description)||void 0===r?void 0:r.toLowerCase().includes(e.toLowerCase()))||(null===(s=t.category)||void 0===s?void 0:s.toLowerCase().includes(e.toLowerCase()))});a(s)}else a(n)},placeholder:"Search tasks by title, description, or category...",loading:!1})}),(0,Cg.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Cg.jsx)("div",{className:"flex items-center space-x-4",children:(0,Cg.jsxs)("span",{className:"text-gray-600",children:["Showing ",i.length," of ",n.length," tasks"]})}),(0,Cg.jsxs)("button",{onClick:v,className:"flex items-center space-x-2 px-4 py-2 text-gray-600 hover:text-gray-900 transition-colors duration-200",children:[(0,Cg.jsx)(Hy,{className:"w-4 h-4"}),(0,Cg.jsx)("span",{children:"Refresh"})]})]}),0===i.length?(0,Cg.jsx)("div",{className:"text-center py-12",children:(0,Cg.jsxs)("div",{className:"max-w-md mx-auto",children:[(0,Cg.jsx)("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,Cg.jsx)(dy,{className:"w-8 h-8 text-gray-400"})}),(0,Cg.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No tasks found"}),(0,Cg.jsx)("p",{className:"text-gray-600",children:0===n.length?"There are no tasks available at the moment. Check back later!":"No tasks match your search criteria. Try different keywords."})]})}):(0,Cg.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.map(e=>(0,Cg.jsx)(By,{task:e},e.id))}),i.length>0&&i.length<n.length&&(0,Cg.jsx)("div",{className:"text-center mt-8",children:(0,Cg.jsx)("button",{className:"px-6 py-3 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors duration-200",children:"Load More Tasks"})})]})})},Ky=Dg("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),Gy=Dg("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]),Qy=Dg("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),Jy=()=>{const{currentUser:e}=Ig(),{showSuccess:t,showError:n}=Vg(),[r,i]=(0,s.useState)({title:"",description:"",price:"",category:"",images:[]}),[a,o]=(0,s.useState)(!1),l=e=>{const{name:t,value:n}=e.target;i(e=>({...e,[t]:n}))};return(0,Cg.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-primary-50 via-white to-primary-100 py-12 px-4 sm:px-6 lg:px-8",children:(0,Cg.jsxs)("div",{className:"max-w-2xl mx-auto",children:[(0,Cg.jsxs)("div",{className:"text-center mb-8",children:[(0,Cg.jsx)("div",{className:"mx-auto h-16 w-16 bg-gradient-to-r from-primary-500 to-primary-600 rounded-2xl flex items-center justify-center mb-6",children:(0,Cg.jsx)($g,{className:"w-8 h-8 text-white"})}),(0,Cg.jsx)("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Post a New Task"}),(0,Cg.jsx)("p",{className:"text-xl text-gray-600",children:"Share your project and find the perfect freelancer"})]}),(0,Cg.jsx)("div",{className:"bg-white rounded-3xl shadow-xl p-8 border border-gray-100",children:(0,Cg.jsxs)("form",{onSubmit:async s=>{if(s.preventDefault(),r.title.trim()?r.description.trim()?!r.price||r.price<=0?(n("Please enter a valid price"),0):e||(n("Please log in to post a task"),0):(n("Please enter a task description"),0):(n("Please enter a task title"),0)){o(!0);try{const n={title:r.title.trim(),description:r.description.trim(),coinsReward:parseInt(r.price),category:r.category||"Other",createdBy:e.uid,posterId:e.uid,status:"open",tags:[],imageUrl:null,difficulty:"medium",location:"Remote",duration:"1 week",skills:[],views:0,claims:0,completions:0};await Dy(n),t("Task posted successfully! Your task is now live and visible to freelancers."),i({title:"",description:"",price:"",category:"",images:[]})}catch(kv){console.error("Error posting task:",kv),n("Failed to post task. Please try again.")}finally{o(!1)}}},className:"space-y-8",children:[(0,Cg.jsxs)("div",{className:"relative",children:[(0,Cg.jsx)("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:(0,Cg.jsx)(Qg,{className:"h-5 w-5 text-gray-400"})}),(0,Cg.jsx)("input",{id:"title",name:"title",type:"text",required:!0,value:r.title,onChange:l,className:"block w-full pl-12 pr-4 py-4 border border-gray-300 rounded-xl text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-all duration-200",placeholder:"Enter task title",disabled:a}),(0,Cg.jsx)("label",{htmlFor:"title",className:"absolute left-12 top-4 text-gray-500 transition-all duration-200 pointer-events-none "+(r.title?"text-xs -translate-y-6 text-primary-600":"text-base"),children:"Task Title"})]}),(0,Cg.jsxs)("div",{className:"relative",children:[(0,Cg.jsx)("textarea",{id:"description",name:"description",rows:"6",required:!0,value:r.description,onChange:l,className:"block w-full px-4 py-4 border border-gray-300 rounded-xl text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-all duration-200 resize-none",placeholder:"Describe your task in detail...",disabled:a}),(0,Cg.jsx)("label",{htmlFor:"description",className:"absolute left-4 top-4 text-gray-500 transition-all duration-200 pointer-events-none "+(r.description?"text-xs -translate-y-6 text-primary-600":"text-base"),children:"Task Description"})]}),(0,Cg.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Cg.jsxs)("div",{className:"relative",children:[(0,Cg.jsx)("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:(0,Cg.jsx)(Ky,{className:"h-5 w-5 text-gray-400"})}),(0,Cg.jsx)("input",{id:"price",name:"price",type:"number",min:"1",required:!0,value:r.price,onChange:l,className:"block w-full pl-12 pr-4 py-4 border border-gray-300 rounded-xl text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-all duration-200",placeholder:"Enter price in coins",disabled:a}),(0,Cg.jsx)("label",{htmlFor:"price",className:"absolute left-12 top-4 text-gray-500 transition-all duration-200 pointer-events-none "+(r.price?"text-xs -translate-y-6 text-primary-600":"text-base"),children:"Price (coins)"})]}),(0,Cg.jsxs)("div",{className:"relative",children:[(0,Cg.jsx)("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:(0,Cg.jsx)(Gy,{className:"h-5 w-5 text-gray-400"})}),(0,Cg.jsxs)("select",{id:"category",name:"category",value:r.category,onChange:l,className:"block w-full pl-12 pr-4 py-4 border border-gray-300 rounded-xl text-gray-900 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-all duration-200 appearance-none bg-white",disabled:a,children:[(0,Cg.jsx)("option",{value:"",children:"Select category"}),["Web Development","Mobile Development","Design & Creative","Writing & Translation","Digital Marketing","Data Science","Video & Animation","Business & Consulting","Other"].map(e=>(0,Cg.jsx)("option",{value:e,children:e},e))]}),(0,Cg.jsx)("label",{htmlFor:"category",className:"absolute left-12 top-4 text-gray-500 transition-all duration-200 pointer-events-none "+(r.category?"text-xs -translate-y-6 text-primary-600":"text-base"),children:"Category (optional)"})]})]}),(0,Cg.jsxs)("div",{className:"space-y-4",children:[(0,Cg.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Task Images (Optional)"}),(0,Cg.jsxs)("div",{className:"border-2 border-dashed border-gray-300 rounded-xl p-6 text-center hover:border-primary-400 transition-colors duration-200",children:[(0,Cg.jsx)("input",{type:"file",multiple:!0,accept:"image/*",onChange:e=>{const t=Array.from(e.target.files).map(e=>({id:Date.now()+Math.random(),file:e,preview:URL.createObjectURL(e)}));i(e=>({...e,images:[...e.images,...t]}))},className:"hidden",id:"image-upload",disabled:a}),(0,Cg.jsxs)("label",{htmlFor:"image-upload",className:"cursor-pointer",children:[(0,Cg.jsx)(Qy,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),(0,Cg.jsx)("p",{className:"text-gray-600",children:"Click to upload images or drag and drop"}),(0,Cg.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"PNG, JPG, GIF up to 10MB each"})]})]}),r.images.length>0&&(0,Cg.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:r.images.map(e=>(0,Cg.jsxs)("div",{className:"relative group",children:[(0,Cg.jsx)("img",{src:e.preview,alt:"Preview",className:"w-full h-24 object-cover rounded-lg"}),(0,Cg.jsx)("button",{type:"button",onClick:()=>{return t=e.id,void i(e=>({...e,images:e.images.filter(e=>e.id!==t)}));var t},className:"absolute top-1 right-1 bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity duration-200",disabled:a,children:(0,Cg.jsx)(Fg,{className:"w-4 h-4"})})]},e.id))})]}),(0,Cg.jsx)("button",{type:"submit",disabled:a,className:"w-full bg-gradient-to-r from-primary-500 to-primary-600 hover:from-primary-600 hover:to-primary-700 disabled:from-gray-400 disabled:to-gray-500 text-white py-4 px-6 rounded-xl font-bold text-lg transition-all duration-300 transform hover:scale-[1.02] shadow-lg hover:shadow-xl disabled:transform-none disabled:cursor-not-allowed",children:a?(0,Cg.jsxs)("div",{className:"flex items-center justify-center space-x-3",children:[(0,Cg.jsx)(cy,{className:"w-5 h-5 animate-spin"}),(0,Cg.jsx)("span",{children:"Posting Task..."})]}):(0,Cg.jsxs)("div",{className:"flex items-center justify-center space-x-3",children:[(0,Cg.jsx)("span",{children:"Post Task"}),(0,Cg.jsx)(my,{className:"w-5 h-5"})]})})]})})]})})},Yy=Dg("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),Xy=Dg("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]),Zy=Dg("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),ev=Dg("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]),tv=Dg("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),nv=Dg("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),rv=Dg("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),sv=()=>{var e,t;const{currentUser:n,userData:r,updateUserProfile:i,updateUserProfileWithBackend:a,loading:o}=Ig(),{showSuccess:l,showError:c}=Vg(),[u,d]=(0,s.useState)(!1),[h,f]=(0,s.useState)(!1),[p,m]=(0,s.useState)({}),[g,y]=(0,s.useState)(null),[v,x]=(0,s.useState)(null),[b,w]=(0,s.useState)({displayName:"",email:"",bio:"",location:"",website:"",phone:""});(0,s.useEffect)(()=>{if(n||r){const e=r||n;w({displayName:e.displayName||e.name||"",email:e.email||"",bio:e.bio||"",location:e.location||"",website:e.website||"",phone:e.phone||""}),e.photoURL&&x(e.photoURL)}},[n,r]);const N=e=>{const{name:t,value:n}=e.target;w(e=>({...e,[t]:n})),p[t]&&m(e=>({...e,[t]:""}))},k=async e=>{if(e.preventDefault(),(()=>{const e={};return b.displayName.trim()||(e.displayName="Display name is required"),b.email.trim()?/\S+@\S+\.\S+/.test(b.email)||(e.email="Please enter a valid email address"):e.email="Email is required",b.website&&!/^https?:\/\/.+/.test(b.website)&&(e.website="Please enter a valid URL starting with http:// or https://"),b.phone&&!/^[\+]?[1-9][\d]{0,15}$/.test(b.phone.replace(/\s/g,""))&&(e.phone="Please enter a valid phone number"),m(e),0===Object.keys(e).length})()){f(!0);try{const e={displayName:b.displayName.trim(),email:b.email.trim(),bio:b.bio.trim(),location:b.location.trim(),website:b.website.trim(),phone:b.phone.trim()};let t;Object.keys(e).forEach(t=>{e[t]||delete e[t]});try{t=await a(e)}catch(kv){t=await i(e)}l("Profile updated successfully!"),d(!1)}catch(kv){const t=kv.message||"Failed to update profile. Please try again.";c(t)}finally{f(!1)}}},E=r||n||{displayName:"Alex Johnson",email:"alex.johnson@example.com",photoURL:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=150&h=150&fit=crop&crop=face",location:"San Francisco, CA",bio:"Full-stack developer passionate about creating user-friendly applications and solving complex problems.",coins:2840,rating:4.9,completedTasks:47,totalEarnings:12500,joinDate:"March 2023"},_=[{id:1,name:"First Task",description:"Completed your first task",icon:(0,Cg.jsx)(Cy,{className:"w-6 h-6"}),color:"bg-yellow-500",unlocked:!0},{id:2,name:"Top Performer",description:"Maintained 4.9+ rating for 3 months",icon:(0,Cg.jsx)(Gg,{className:"w-6 h-6"}),color:"bg-yellow-600",unlocked:!0},{id:3,name:"Speed Demon",description:"Completed 10 tasks ahead of schedule",icon:(0,Cg.jsx)(wy,{className:"w-6 h-6"}),color:"bg-blue-500",unlocked:!0},{id:4,name:"Client Favorite",description:"Received 50+ positive reviews",icon:(0,Cg.jsx)(Yy,{className:"w-6 h-6"}),color:"bg-red-500",unlocked:!0},{id:5,name:"Trusted Partner",description:"Completed 25+ tasks successfully",icon:(0,Cg.jsx)(Ny,{className:"w-6 h-6"}),color:"bg-green-500",unlocked:!0},{id:6,name:"Elite Status",description:"Earned 10,000+ coins",icon:(0,Cg.jsx)(Xy,{className:"w-6 h-6"}),color:"bg-purple-500",unlocked:!0}];return o?(0,Cg.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,Cg.jsxs)("div",{className:"text-center",children:[(0,Cg.jsx)(cy,{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto mb-4"}),(0,Cg.jsx)("p",{className:"text-gray-600",children:"Loading profile..."})]})}):(0,Cg.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,Cg.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,Cg.jsx)("div",{className:"bg-white rounded-2xl shadow-lg p-8 mb-8",children:(0,Cg.jsxs)("div",{className:"flex flex-col lg:flex-row items-start lg:items-center space-y-6 lg:space-y-0 lg:space-x-8",children:[(0,Cg.jsxs)("div",{className:"relative",children:[(0,Cg.jsxs)("div",{className:"relative",children:[(0,Cg.jsx)("img",{src:v||E.photoURL||"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=150&h=150&fit=crop&crop=face",alt:E.displayName||E.name,className:"w-24 h-24 md:w-32 md:h-32 rounded-full border-4 border-white shadow-lg object-cover"}),u&&(0,Cg.jsxs)("label",{className:"absolute bottom-0 right-0 bg-primary-500 rounded-full p-2 cursor-pointer hover:bg-primary-600 transition-colors duration-200 shadow-lg",children:[(0,Cg.jsx)(Zy,{className:"w-4 h-4 text-white"}),(0,Cg.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{const t=e.target.files[0];if(t){if(t.size>5242880)return void c("Image size must be less than 5MB");if(!t.type.startsWith("image/"))return void c("Please select a valid image file");y(t);const e=new FileReader;e.onload=e=>{x(e.target.result)},e.readAsDataURL(t)}},className:"hidden"})]})]}),(0,Cg.jsx)("div",{className:"absolute -bottom-2 -right-2 bg-green-500 rounded-full p-1",children:(0,Cg.jsx)("div",{className:"w-4 h-4 bg-white rounded-full"})})]}),(0,Cg.jsxs)("div",{className:"flex-1 space-y-4",children:[(0,Cg.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Cg.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Cg.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:u?"Edit Profile":E.displayName||E.name}),(0,Cg.jsxs)("div",{className:"flex items-center space-x-1 text-yellow-500",children:[(0,Cg.jsx)(Cy,{className:"w-5 h-5 fill-current"}),(0,Cg.jsx)("span",{className:"font-semibold",children:E.rating})]})]}),u?(0,Cg.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Cg.jsxs)("button",{onClick:k,disabled:h,className:"inline-flex items-center space-x-2 px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 disabled:opacity-50 transition-colors duration-200",children:[h?(0,Cg.jsx)(cy,{className:"w-4 h-4 animate-spin"}):(0,Cg.jsx)(tv,{className:"w-4 h-4"}),(0,Cg.jsx)("span",{children:h?"Saving...":"Save"})]}),(0,Cg.jsxs)("button",{onClick:()=>{d(!1),m({}),y(null),x(null);const e=r||n;w({displayName:e.displayName||e.name||"",email:e.email||"",bio:e.bio||"",location:e.location||"",website:e.website||"",phone:e.phone||""}),e.photoURL&&x(e.photoURL)},disabled:h,className:"inline-flex items-center space-x-2 px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 disabled:opacity-50 transition-colors duration-200",children:[(0,Cg.jsx)(Fg,{className:"w-4 h-4"}),(0,Cg.jsx)("span",{children:"Cancel"})]})]}):(0,Cg.jsxs)("button",{onClick:()=>d(!0),className:"inline-flex items-center space-x-2 px-4 py-2 bg-primary-500 text-white rounded-lg hover:bg-primary-600 transition-colors duration-200",children:[(0,Cg.jsx)(ev,{className:"w-4 h-4"}),(0,Cg.jsx)("span",{children:"Edit Profile"})]})]}),!u&&(0,Cg.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center space-y-2 md:space-y-0 md:space-x-6 text-gray-600",children:[(0,Cg.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Cg.jsx)(ay,{className:"w-4 h-4"}),(0,Cg.jsx)("span",{children:E.email})]}),E.location&&(0,Cg.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Cg.jsx)(zy,{className:"w-4 h-4"}),(0,Cg.jsx)("span",{children:E.location})]}),(0,Cg.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Cg.jsx)(nv,{className:"w-4 h-4"}),(0,Cg.jsxs)("span",{children:["Joined ",E.joinDate]})]})]}),E.bio&&!u&&(0,Cg.jsx)("p",{className:"text-gray-700 max-w-2xl",children:E.bio})]})]})}),u&&(0,Cg.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg p-8 mb-8",children:[(0,Cg.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Edit Profile Information"}),(0,Cg.jsx)("form",{onSubmit:k,className:"space-y-6",children:(0,Cg.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Cg.jsxs)("div",{className:"space-y-2",children:[(0,Cg.jsx)("label",{htmlFor:"displayName",className:"block text-sm font-medium text-gray-700",children:"Display Name *"}),(0,Cg.jsx)("input",{type:"text",id:"displayName",name:"displayName",value:b.displayName,onChange:N,className:"block w-full px-4 py-3 border rounded-xl focus:outline-none focus:ring-2 focus:ring-primary-500 transition-all duration-200 "+(p.displayName?"border-red-300 focus:border-red-500 focus:ring-red-500":"border-gray-300"),placeholder:"Enter your display name",disabled:h}),p.displayName&&(0,Cg.jsxs)("div",{className:"flex items-center space-x-2 text-red-600 text-sm",children:[(0,Cg.jsx)(dy,{className:"w-4 h-4"}),(0,Cg.jsx)("span",{children:p.displayName})]})]}),(0,Cg.jsxs)("div",{className:"space-y-2",children:[(0,Cg.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email *"}),(0,Cg.jsx)("input",{type:"email",id:"email",name:"email",value:b.email,onChange:N,className:"block w-full px-4 py-3 border rounded-xl focus:outline-none focus:ring-2 focus:ring-primary-500 transition-all duration-200 "+(p.email?"border-red-300 focus:border-red-500 focus:ring-red-500":"border-gray-300"),placeholder:"Enter your email",disabled:h}),p.email&&(0,Cg.jsxs)("div",{className:"flex items-center space-x-2 text-red-600 text-sm",children:[(0,Cg.jsx)(dy,{className:"w-4 h-4"}),(0,Cg.jsx)("span",{children:p.email})]})]}),(0,Cg.jsxs)("div",{className:"space-y-2",children:[(0,Cg.jsx)("label",{htmlFor:"location",className:"block text-sm font-medium text-gray-700",children:"Location"}),(0,Cg.jsx)("input",{type:"text",id:"location",name:"location",value:b.location,onChange:N,className:"block w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary-500 transition-all duration-200",placeholder:"Enter your location",disabled:h})]}),(0,Cg.jsxs)("div",{className:"space-y-2",children:[(0,Cg.jsx)("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700",children:"Phone Number"}),(0,Cg.jsx)("input",{type:"tel",id:"phone",name:"phone",value:b.phone,onChange:N,className:"block w-full px-4 py-3 border rounded-xl focus:outline-none focus:ring-2 focus:ring-primary-500 transition-all duration-200 "+(p.phone?"border-red-300 focus:border-red-500 focus:ring-red-500":"border-gray-300"),placeholder:"Enter your phone number",disabled:h}),p.phone&&(0,Cg.jsxs)("div",{className:"flex items-center space-x-2 text-red-600 text-sm",children:[(0,Cg.jsx)(dy,{className:"w-4 h-4"}),(0,Cg.jsx)("span",{children:p.phone})]})]}),(0,Cg.jsxs)("div",{className:"space-y-2 md:col-span-2",children:[(0,Cg.jsx)("label",{htmlFor:"website",className:"block text-sm font-medium text-gray-700",children:"Website"}),(0,Cg.jsx)("input",{type:"url",id:"website",name:"website",value:b.website,onChange:N,className:"block w-full px-4 py-3 border rounded-xl focus:outline-none focus:ring-2 focus:ring-primary-500 transition-all duration-200 "+(p.website?"border-red-300 focus:border-red-500 focus:ring-red-500":"border-gray-300"),placeholder:"https://your-website.com",disabled:h}),p.website&&(0,Cg.jsxs)("div",{className:"flex items-center space-x-2 text-red-600 text-sm",children:[(0,Cg.jsx)(dy,{className:"w-4 h-4"}),(0,Cg.jsx)("span",{children:p.website})]})]}),(0,Cg.jsxs)("div",{className:"space-y-2 md:col-span-2",children:[(0,Cg.jsx)("label",{htmlFor:"bio",className:"block text-sm font-medium text-gray-700",children:"Bio"}),(0,Cg.jsx)("textarea",{id:"bio",name:"bio",rows:4,value:b.bio,onChange:N,className:"block w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary-500 transition-all duration-200 resize-none",placeholder:"Tell us about yourself...",disabled:h})]})]})})]}),(0,Cg.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,Cg.jsx)("div",{className:"bg-white rounded-2xl shadow-lg p-6 border-l-4 border-primary-500",children:(0,Cg.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Cg.jsxs)("div",{children:[(0,Cg.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Coins"}),(0,Cg.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:(null===(e=E.coins)||void 0===e?void 0:e.toLocaleString())||"0"})]}),(0,Cg.jsx)(Kg,{className:"w-8 h-8 text-primary-500"})]})}),(0,Cg.jsx)("div",{className:"bg-white rounded-2xl shadow-lg p-6 border-l-4 border-green-500",children:(0,Cg.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Cg.jsxs)("div",{children:[(0,Cg.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Completed Tasks"}),(0,Cg.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:E.completedTasks||"0"})]}),(0,Cg.jsx)(rv,{className:"w-8 h-8 text-green-500"})]})}),(0,Cg.jsx)("div",{className:"bg-white rounded-2xl shadow-lg p-6 border-l-4 border-yellow-500",children:(0,Cg.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Cg.jsxs)("div",{children:[(0,Cg.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Rating"}),(0,Cg.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:E.rating||"0.0"})]}),(0,Cg.jsx)(Cy,{className:"w-8 h-8 text-yellow-500 fill-current"})]})}),(0,Cg.jsx)("div",{className:"bg-white rounded-2xl shadow-lg p-6 border-l-4 border-purple-500",children:(0,Cg.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Cg.jsxs)("div",{children:[(0,Cg.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Earnings"}),(0,Cg.jsxs)("p",{className:"text-2xl font-bold text-gray-900",children:["$",(null===(t=E.totalEarnings)||void 0===t?void 0:t.toLocaleString())||"0"]})]}),(0,Cg.jsx)(Gg,{className:"w-8 h-8 text-purple-500"})]})})]}),(0,Cg.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[(0,Cg.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Achievements"}),(0,Cg.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:_.map(e=>(0,Cg.jsx)("div",{className:"p-6 rounded-xl border-2 transition-all duration-200 "+(e.unlocked?"border-gray-200 bg-white hover:shadow-md":"border-gray-100 bg-gray-50 opacity-50"),children:(0,Cg.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Cg.jsx)("div",{className:`p-3 rounded-full ${e.color} text-white`,children:e.icon}),(0,Cg.jsxs)("div",{children:[(0,Cg.jsx)("h3",{className:"font-semibold text-gray-900",children:e.name}),(0,Cg.jsx)("p",{className:"text-sm text-gray-600",children:e.description})]})]})},e.id))})]})]})})},iv=e=>{let{product:t,onPurchase:n,viewMode:r="grid"}=e;const{currentUser:i}=Ig(),{showWarning:a}=Vg(),[o,l]=(0,s.useState)(!1),{id:c,title:u,description:d,price:h,originalPrice:f,image:p,rating:m,reviews:g,views:y,isNew:v,isPopular:x,discount:b,status:w}=t,N="sold"===w;return(0,Cg.jsxs)("div",{className:"group relative bg-white rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-500 transform hover:-translate-y-2 overflow-hidden p-0 "+(N?"opacity-60":""),children:[(0,Cg.jsx)("div",{className:"absolute inset-0 rounded-2xl bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500 opacity-0 group-hover:opacity-20 transition-opacity duration-500 pointer-events-none"}),(0,Cg.jsxs)("div",{className:"relative bg-white rounded-2xl p-0",children:[(0,Cg.jsxs)("div",{className:"relative overflow-hidden rounded-t-2xl",children:[(0,Cg.jsx)("img",{src:p,alt:u,className:"w-full h-48 object-cover group-hover:scale-110 transition-transform duration-500"}),(0,Cg.jsxs)("div",{className:"absolute top-4 left-4 flex flex-col space-y-2 z-10",children:[v&&(0,Cg.jsx)("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 text-white text-xs font-bold px-3 py-1 rounded-full shadow-lg",children:"NEW"}),x&&(0,Cg.jsx)("div",{className:"bg-gradient-to-r from-red-500 to-red-600 text-white text-xs font-bold px-3 py-1 rounded-full shadow-lg",children:"POPULAR"}),b&&(0,Cg.jsxs)("div",{className:"bg-gradient-to-r from-green-500 to-green-600 text-white text-xs font-bold px-3 py-1 rounded-full shadow-lg",children:["-",b,"%"]}),N&&(0,Cg.jsx)("div",{className:"bg-gradient-to-r from-gray-500 to-gray-600 text-white text-xs font-bold px-3 py-1 rounded-full shadow-lg",children:"SOLD"})]}),(0,Cg.jsxs)("div",{className:"absolute top-4 right-4 flex flex-col space-y-2 opacity-0 group-hover:opacity-100 transition-all duration-300 transform translate-x-2 group-hover:translate-x-0 z-10",children:[(0,Cg.jsx)("button",{className:"bg-white/90 backdrop-blur-sm p-2 rounded-full shadow-lg hover:bg-white hover:shadow-xl transition-all duration-200 transform hover:scale-110",children:(0,Cg.jsx)(Yy,{className:"w-4 h-4 text-gray-600 hover:text-red-500 transition-colors duration-200"})}),(0,Cg.jsx)("button",{className:"bg-white/90 backdrop-blur-sm p-2 rounded-full shadow-lg hover:bg-white hover:shadow-xl transition-all duration-200 transform hover:scale-110",children:(0,Cg.jsx)(py,{className:"w-4 h-4 text-gray-600 hover:text-blue-500 transition-colors duration-200"})})]}),m&&(0,Cg.jsx)("div",{className:"absolute bottom-4 left-4 bg-white/95 backdrop-blur-sm rounded-full px-3 py-1 shadow-lg z-10",children:(0,Cg.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Cg.jsx)(Cy,{className:"w-4 h-4 text-yellow-500 fill-current"}),(0,Cg.jsx)("span",{className:"text-sm font-bold text-gray-900",children:m}),g&&(0,Cg.jsxs)("span",{className:"text-xs text-gray-500",children:["(",g,")"]})]})})]}),(0,Cg.jsxs)("div",{className:"p-6 space-y-4",children:[(0,Cg.jsx)("h3",{className:"text-lg font-bold text-gray-900 mb-1 line-clamp-2 group-hover:text-blue-600 transition-colors duration-300",children:u}),(0,Cg.jsx)("p",{className:"text-gray-600 text-sm mb-2 line-clamp-2 leading-relaxed",children:d}),(0,Cg.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Cg.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Cg.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Cg.jsx)(Kg,{className:"w-5 h-5 text-yellow-500"}),(0,Cg.jsx)("span",{className:"text-2xl font-bold text-gray-900",children:h})]}),f&&f!==h&&(0,Cg.jsx)("span",{className:"text-lg text-gray-400 line-through",children:f})]}),y&&(0,Cg.jsxs)("div",{className:"flex items-center space-x-1 text-gray-500 text-sm",children:[(0,Cg.jsx)(py,{className:"w-4 h-4"}),(0,Cg.jsx)("span",{children:y})]})]}),(0,Cg.jsx)("button",{onClick:async()=>{if(i)if("sold"!==w){l(!0);try{await n(c)}catch(kv){console.error("Error purchasing product:",kv)}finally{l(!1)}}else a("This item has already been sold");else a("Please log in to purchase items")},disabled:o||N,className:"w-full bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500 hover:from-blue-600 hover:via-purple-600 hover:to-pink-600 disabled:from-gray-400 disabled:via-gray-500 disabled:to-gray-600 text-white py-3 px-4 rounded-xl font-bold text-lg transition-all duration-300 transform hover:scale-[1.03] shadow-lg hover:shadow-xl group focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 disabled:transform-none disabled:cursor-not-allowed",children:o?(0,Cg.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,Cg.jsx)(cy,{className:"w-5 h-5 animate-spin"}),(0,Cg.jsx)("span",{children:"Processing..."})]}):N?(0,Cg.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,Cg.jsx)(Og,{className:"w-5 h-5"}),(0,Cg.jsx)("span",{children:"Sold Out"})]}):(0,Cg.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,Cg.jsx)(Hg,{className:"w-5 h-5"}),(0,Cg.jsx)("span",{children:"Buy Now"})]})})]})]}),(0,Cg.jsx)("div",{className:"absolute inset-0 rounded-2xl bg-gradient-to-r from-blue-500/10 via-purple-500/10 to-pink-500/10 opacity-0 group-hover:opacity-100 transition-opacity duration-500 pointer-events-none"})]})},av=Dg("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),ov=Dg("Grid",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["line",{x1:"3",x2:"21",y1:"9",y2:"9",key:"1vqk6q"}],["line",{x1:"3",x2:"21",y1:"15",y2:"15",key:"o2sbyz"}],["line",{x1:"9",x2:"9",y1:"3",y2:"21",key:"13tij5"}],["line",{x1:"15",x2:"15",y1:"3",y2:"21",key:"1hpv9i"}]]),lv=()=>{const{currentUser:e}=Ig(),{showSuccess:t,showError:n,showWarning:r}=Vg(),[i,a]=(0,s.useState)("grid"),[o,l]=(0,s.useState)("all"),[c,u]=(0,s.useState)([]),[d,h]=(0,s.useState)(!0),[f,p]=(0,s.useState)(null);(0,s.useEffect)(()=>{m()},[]);const m=async()=>{try{h(!0),p(null);const e=await My({status:"available"});u(e)}catch(f){console.error("Error fetching products:",f),p("Failed to load marketplace products"),n("Failed to load marketplace products. Please try again.")}finally{h(!1)}},g=async s=>{if(e)try{await Fy(s,e.uid),t("Item purchased successfully! Check your purchases page."),m()}catch(f){var i;console.error("Error purchasing product:",f),null!==(i=f.message)&&void 0!==i&&i.includes("insufficient")?n("Insufficient coins. Please buy more coins to complete this purchase."):n("Failed to purchase item. Please try again.")}else r("Please log in to purchase items")},y="all"===o?c:c.filter(e=>e.category===o);return d?(0,Cg.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,Cg.jsxs)("div",{className:"text-center",children:[(0,Cg.jsx)(cy,{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto mb-4"}),(0,Cg.jsx)("p",{className:"text-gray-600",children:"Loading marketplace..."})]})}):f?(0,Cg.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,Cg.jsxs)("div",{className:"text-center max-w-md mx-auto px-4",children:[(0,Cg.jsx)(dy,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),(0,Cg.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Failed to Load Marketplace"}),(0,Cg.jsx)("p",{className:"text-gray-600 mb-6",children:f}),(0,Cg.jsx)("button",{onClick:m,className:"inline-flex items-center px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors duration-200",children:"Try Again"})]})}):(0,Cg.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,Cg.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,Cg.jsxs)("div",{className:"text-center mb-8",children:[(0,Cg.jsx)("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Marketplace"}),(0,Cg.jsx)("p",{className:"text-xl text-gray-600",children:"Discover premium tools, templates, and resources to boost your productivity"})]}),(0,Cg.jsx)("div",{className:"bg-white rounded-2xl shadow-lg p-6 mb-8",children:(0,Cg.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between space-y-4 md:space-y-0",children:[(0,Cg.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Cg.jsx)(av,{className:"w-5 h-5 text-gray-500"}),(0,Cg.jsx)("div",{className:"flex flex-wrap gap-2",children:[{id:"all",name:"All Categories"},{id:"templates",name:"Templates"},{id:"tools",name:"Tools"},{id:"design",name:"Design"},{id:"development",name:"Development"},{id:"marketing",name:"Marketing"}].map(e=>(0,Cg.jsx)("button",{onClick:()=>l(e.id),className:"px-4 py-2 rounded-lg font-medium transition-all duration-200 "+(o===e.id?"bg-primary-500 text-white shadow-md":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:e.name},e.id))})]}),(0,Cg.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Cg.jsx)("button",{onClick:()=>a("grid"),className:"p-2 rounded-lg transition-all duration-200 "+("grid"===i?"bg-primary-500 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"),children:(0,Cg.jsx)(ov,{className:"w-5 h-5"})}),(0,Cg.jsx)("button",{onClick:()=>a("list"),className:"p-2 rounded-lg transition-all duration-200 "+("list"===i?"bg-primary-500 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"),children:(0,Cg.jsx)(qg,{className:"w-5 h-5"})})]})]})}),(0,Cg.jsx)("div",{className:"flex items-center justify-between mb-6",children:(0,Cg.jsx)("div",{className:"flex items-center space-x-4",children:(0,Cg.jsxs)("span",{className:"text-gray-600",children:["Showing ",y.length," of ",c.length," products"]})})}),0===y.length?(0,Cg.jsx)("div",{className:"text-center py-12",children:(0,Cg.jsxs)("div",{className:"max-w-md mx-auto",children:[(0,Cg.jsx)("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,Cg.jsx)($y,{className:"w-8 h-8 text-gray-400"})}),(0,Cg.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No products found"}),(0,Cg.jsx)("p",{className:"text-gray-600",children:0===c.length?"There are no products available at the moment. Check back later!":"No products match your selected category. Try a different category."})]})}):(0,Cg.jsx)("div",{className:"grid gap-6 "+("grid"===i?"grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4":"grid-cols-1"),children:y.map(e=>(0,Cg.jsx)(iv,{product:e,onPurchase:g,viewMode:i},e.id))})]})})},cv=Dg("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]),uv=e=>{let{packageData:t,onPurchase:n,isPurchasing:r=!1}=e;const{name:s,price:i,coins:a,originalPrice:o,isPopular:l,isBestValue:c,bonus:u,features:d}=t,h=()=>l?"from-purple-600 via-pink-600 to-red-600":c?"from-yellow-500 via-orange-500 to-red-500":"from-blue-600 via-purple-600 to-pink-600",f=()=>l?"MOST POPULAR":c?"BEST VALUE":null;return(0,Cg.jsxs)("div",{className:"group relative bg-white rounded-3xl shadow-xl hover:shadow-2xl transition-all duration-700 transform hover:-translate-y-3 overflow-hidden",children:[(0,Cg.jsx)("div",{className:`absolute inset-0 rounded-3xl bg-gradient-to-r ${h()} opacity-0 group-hover:opacity-25 transition-opacity duration-700 pointer-events-none`}),(0,Cg.jsxs)("div",{className:"relative bg-white rounded-3xl p-1",children:[(0,Cg.jsxs)("div",{className:`bg-gradient-to-r ${h()} text-white p-8 rounded-t-3xl relative overflow-hidden`,children:[(0,Cg.jsxs)("div",{className:"absolute inset-0 opacity-10",children:[(0,Cg.jsx)("div",{className:"absolute top-0 right-0 w-40 h-40 bg-white rounded-full -mr-20 -mt-20"}),(0,Cg.jsx)("div",{className:"absolute bottom-0 left-0 w-32 h-32 bg-white rounded-full -ml-16 -mb-16"}),(0,Cg.jsx)("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-24 h-24 bg-white rounded-full opacity-50"})]}),(0,Cg.jsxs)("div",{className:"relative z-10",children:[(0,Cg.jsx)("div",{className:"flex items-center justify-between mb-6",children:(0,Cg.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Cg.jsx)("div",{className:"bg-white/20 backdrop-blur-sm p-3 rounded-2xl",children:l?(0,Cg.jsx)(Xy,{className:"w-7 h-7"}):c?(0,Cg.jsx)(cv,{className:"w-7 h-7"}):(0,Cg.jsx)(Kg,{className:"w-7 h-7"})}),(0,Cg.jsxs)("div",{children:[(0,Cg.jsx)("h3",{className:"text-2xl font-bold tracking-tight",children:s}),f()&&(0,Cg.jsx)("div",{className:"bg-white/25 backdrop-blur-sm px-3 py-1 rounded-full text-xs font-bold mt-1 inline-block",children:f()})]})]})}),(0,Cg.jsxs)("div",{className:"mb-4",children:[(0,Cg.jsxs)("div",{className:"flex items-baseline space-x-3",children:[(0,Cg.jsxs)("span",{className:"text-4xl font-black tracking-tight",children:["\u20b9",i]}),o&&o!==i&&(0,Cg.jsxs)("span",{className:"text-xl text-white/70 line-through font-medium",children:["\u20b9",o]})]}),u&&(0,Cg.jsxs)("div",{className:"flex items-center space-x-2 mt-2",children:[(0,Cg.jsx)(Cy,{className:"w-4 h-4 text-yellow-300"}),(0,Cg.jsx)("p",{className:"text-sm text-white/90 font-medium",children:u})]})]})]})]}),(0,Cg.jsxs)("div",{className:"p-8",children:[(0,Cg.jsx)("div",{className:"text-center mb-8",children:(0,Cg.jsxs)("div",{className:"flex items-center justify-center space-x-3 mb-3",children:[(0,Cg.jsx)("div",{className:"bg-gradient-to-r from-yellow-400 to-yellow-600 p-3 rounded-2xl",children:(0,Cg.jsx)(Kg,{className:"w-10 h-10 text-white"})}),(0,Cg.jsxs)("div",{children:[(0,Cg.jsx)("span",{className:"text-3xl font-black text-gray-900 tracking-tight",children:a.toLocaleString()}),(0,Cg.jsx)("p",{className:"text-gray-600 text-sm font-medium",children:"Coins"})]})]})}),d&&d.length>0&&(0,Cg.jsx)("div",{className:"mb-8",children:(0,Cg.jsx)("ul",{className:"space-y-3",children:d.map((e,t)=>(0,Cg.jsxs)("li",{className:"flex items-center space-x-3 text-sm text-gray-700",children:[(0,Cg.jsx)(Og,{className:"w-5 h-5 text-green-500 flex-shrink-0"}),(0,Cg.jsx)("span",{className:"font-medium",children:e})]},t))})}),(0,Cg.jsx)("button",{onClick:()=>{n&&!r&&n(t)},disabled:r,className:`w-full bg-gradient-to-r ${h()} hover:from-blue-700 hover:via-purple-700 hover:to-pink-700 disabled:from-gray-400 disabled:via-gray-500 disabled:to-gray-600 text-white py-5 px-6 rounded-2xl font-bold text-xl transition-all duration-500 transform hover:scale-[1.03] shadow-lg hover:shadow-xl group disabled:transform-none disabled:cursor-not-allowed`,children:r?(0,Cg.jsxs)("div",{className:"flex items-center justify-center space-x-3",children:[(0,Cg.jsx)(cy,{className:"w-6 h-6 animate-spin"}),(0,Cg.jsx)("span",{className:"tracking-wide",children:"Processing..."})]}):(0,Cg.jsxs)("div",{className:"flex items-center justify-center space-x-3",children:[(0,Cg.jsx)(wy,{className:"w-6 h-6"}),(0,Cg.jsx)("span",{className:"tracking-wide",children:"Buy Now"})]})})]})]}),(0,Cg.jsx)("div",{className:`absolute inset-0 rounded-3xl bg-gradient-to-r ${h()} opacity-0 group-hover:opacity-15 transition-opacity duration-700 pointer-events-none`}),(0,Cg.jsx)("div",{className:"absolute top-4 right-4 opacity-0 group-hover:opacity-100 transition-opacity duration-700",children:(0,Cg.jsx)("div",{className:"w-2 h-2 bg-white rounded-full animate-pulse"})}),(0,Cg.jsx)("div",{className:"absolute bottom-4 left-4 opacity-0 group-hover:opacity-100 transition-opacity duration-700",children:(0,Cg.jsx)("div",{className:"w-1 h-1 bg-white rounded-full animate-pulse"})})]})},dv=Dg("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),hv=()=>{const{currentUser:e}=Ig(),{showSuccess:t,showError:n,showWarning:r}=Vg(),[i,a]=(0,s.useState)([]),[o,l]=(0,s.useState)(!0),[c,u]=(0,s.useState)(!1),[d,h]=(0,s.useState)(null);(0,s.useEffect)(()=>{const e=[{id:1,name:"Starter Pack",price:99,originalPrice:149,coins:1e3,isPopular:!1,isBestValue:!1,bonus:"100 Bonus Coins",features:["Perfect for beginners","Instant delivery","24/7 support"]},{id:2,name:"Popular Pack",price:299,originalPrice:399,coins:3500,isPopular:!0,isBestValue:!1,bonus:"500 Bonus Coins",features:["Most popular choice","Best value for money","Priority support"]},{id:3,name:"Premium Pack",price:599,originalPrice:799,coins:8e3,isPopular:!1,isBestValue:!0,bonus:"1200 Bonus Coins",features:["Best value per coin","Exclusive benefits","VIP support"]},{id:4,name:"Ultimate Pack",price:999,originalPrice:1299,coins:15e3,isPopular:!1,isBestValue:!1,bonus:"2500 Bonus Coins",features:["Maximum value","All premium features","Dedicated support"]},{id:5,name:"Mega Pack",price:1999,originalPrice:2499,coins:35e3,isPopular:!1,isBestValue:!1,bonus:"7000 Bonus Coins",features:["For power users","Unlimited access","Personal account manager"]},{id:6,name:"Enterprise Pack",price:4999,originalPrice:5999,coins:1e5,isPopular:!1,isBestValue:!1,bonus:"25000 Bonus Coins",features:["For teams & businesses","Bulk discounts","Custom solutions"]}];setTimeout(()=>{a(e),l(!1)},1e3)},[]);const f=async s=>{if(e){h(s),u(!0);try{const n=parseInt(s.bonus.match(/\d+/)[0]),r=s.coins+n;await Uy(e.uid,r),t(`Successfully purchased ${r} coins! Your balance has been updated.`),h(null)}catch(kv){console.error("Error purchasing coins:",kv),n("Failed to purchase coins. Please try again.")}finally{u(!1)}}else r("Please log in to purchase coins")};return o?(0,Cg.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50 flex items-center justify-center",children:(0,Cg.jsxs)("div",{className:"text-center",children:[(0,Cg.jsx)(cy,{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,Cg.jsx)("p",{className:"text-gray-600",children:"Loading coin packages..."})]})}):(0,Cg.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50",children:(0,Cg.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[(0,Cg.jsxs)("div",{className:"text-center mb-12",children:[(0,Cg.jsxs)("div",{className:"flex items-center justify-center space-x-2 mb-4",children:[(0,Cg.jsx)(Kg,{className:"w-8 h-8 text-yellow-500"}),(0,Cg.jsx)("h1",{className:"text-4xl font-bold text-gray-900",children:"Buy Coins"})]}),(0,Cg.jsx)("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Choose the perfect coin package for your needs. All packages include instant delivery and secure payment processing."})]}),(0,Cg.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-12",children:[(0,Cg.jsxs)("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 shadow-lg",children:[(0,Cg.jsxs)("div",{className:"flex items-center space-x-3 mb-3",children:[(0,Cg.jsx)("div",{className:"bg-green-100 p-2 rounded-lg",children:(0,Cg.jsx)(Ny,{className:"w-6 h-6 text-green-600"})}),(0,Cg.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Secure Payment"})]}),(0,Cg.jsx)("p",{className:"text-gray-600",children:"Your payment information is encrypted and secure with bank-level protection."})]}),(0,Cg.jsxs)("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 shadow-lg",children:[(0,Cg.jsxs)("div",{className:"flex items-center space-x-3 mb-3",children:[(0,Cg.jsx)("div",{className:"bg-blue-100 p-2 rounded-lg",children:(0,Cg.jsx)(wy,{className:"w-6 h-6 text-blue-600"})}),(0,Cg.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Instant Delivery"})]}),(0,Cg.jsx)("p",{className:"text-gray-600",children:"Coins are added to your account immediately after successful payment."})]}),(0,Cg.jsxs)("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 shadow-lg",children:[(0,Cg.jsxs)("div",{className:"flex items-center space-x-3 mb-3",children:[(0,Cg.jsx)("div",{className:"bg-purple-100 p-2 rounded-lg",children:(0,Cg.jsx)(dv,{className:"w-6 h-6 text-purple-600"})}),(0,Cg.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Best Value"})]}),(0,Cg.jsx)("p",{className:"text-gray-600",children:"Larger packages offer better value with bonus coins and exclusive benefits."})]})]}),(0,Cg.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:i.map(e=>(0,Cg.jsx)("div",{className:"relative",children:(0,Cg.jsx)(uv,{packageData:e,onPurchase:f,isPurchasing:c&&(null===d||void 0===d?void 0:d.id)===e.id})},e.id))}),(0,Cg.jsx)("div",{className:"mt-16 text-center",children:(0,Cg.jsxs)("div",{className:"bg-white/80 backdrop-blur-sm rounded-3xl p-8 shadow-lg max-w-4xl mx-auto",children:[(0,Cg.jsx)("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Why Choose Our Coin Packages?"}),(0,Cg.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 text-left",children:[(0,Cg.jsxs)("div",{children:[(0,Cg.jsx)("h4",{className:"font-semibold text-gray-900 mb-2",children:"\ud83c\udfaf Flexible Options"}),(0,Cg.jsx)("p",{className:"text-gray-600 text-sm",children:"Choose from starter packs to enterprise solutions that fit your needs."})]}),(0,Cg.jsxs)("div",{children:[(0,Cg.jsx)("h4",{className:"font-semibold text-gray-900 mb-2",children:"\ud83d\udcb0 Competitive Pricing"}),(0,Cg.jsx)("p",{className:"text-gray-600 text-sm",children:"Get the best value with our competitive pricing and bonus coin offers."})]}),(0,Cg.jsxs)("div",{children:[(0,Cg.jsx)("h4",{className:"font-semibold text-gray-900 mb-2",children:"\u26a1 Instant Access"}),(0,Cg.jsx)("p",{className:"text-gray-600 text-sm",children:"Your coins are available immediately after purchase confirmation."})]}),(0,Cg.jsxs)("div",{children:[(0,Cg.jsx)("h4",{className:"font-semibold text-gray-900 mb-2",children:"\ud83d\udee1\ufe0f Secure Transactions"}),(0,Cg.jsx)("p",{className:"text-gray-600 text-sm",children:"All transactions are protected with industry-standard security measures."})]})]})]})}),c&&d&&(0,Cg.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,Cg.jsxs)("div",{className:"bg-white rounded-2xl p-8 max-w-md mx-4 text-center",children:[(0,Cg.jsxs)("div",{className:"flex items-center justify-center space-x-3 mb-4",children:[(0,Cg.jsx)(cy,{className:"w-8 h-8 animate-spin text-blue-600"}),(0,Cg.jsx)("span",{className:"text-lg font-semibold",children:"Processing Purchase..."})]}),(0,Cg.jsxs)("p",{className:"text-gray-600",children:["Purchasing ",d.coins," coins from ",d.name]})]})})]})})},fv=Dg("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]),pv=e=>{let{achievement:t}=e;const{id:n,title:r,description:s,icon:i,isUnlocked:a,progress:o,total:l,category:c,rarity:u}=t,d=()=>{switch(u){case"common":default:return"from-gray-400 to-gray-600";case"rare":return"from-blue-400 to-blue-600";case"epic":return"from-purple-400 to-purple-600";case"legendary":return"from-yellow-400 to-orange-500"}},h=()=>{switch(c){case"tasks":return"bg-blue-100 text-blue-600";case"social":return"bg-green-100 text-green-600";case"skills":return"bg-purple-100 text-purple-600";case"earnings":return"bg-yellow-100 text-yellow-600";case"streak":return"bg-red-100 text-red-600";default:return"bg-gray-100 text-gray-600"}};return a?(0,Cg.jsxs)("div",{className:"group relative bg-white rounded-3xl shadow-lg hover:shadow-2xl transition-all duration-500 transform hover:-translate-y-2 overflow-hidden",children:[(0,Cg.jsx)("div",{className:`absolute inset-0 rounded-3xl bg-gradient-to-r ${d()} opacity-0 group-hover:opacity-20 transition-opacity duration-500 pointer-events-none`}),(0,Cg.jsxs)("div",{className:"relative bg-white rounded-3xl p-1",children:[(0,Cg.jsxs)("div",{className:`bg-gradient-to-r ${d()} text-white p-6 rounded-t-3xl relative overflow-hidden`,children:[(0,Cg.jsxs)("div",{className:"absolute inset-0 opacity-10",children:[(0,Cg.jsx)("div",{className:"absolute top-0 right-0 w-24 h-24 bg-white rounded-full -mr-12 -mt-12"}),(0,Cg.jsx)("div",{className:"absolute bottom-0 left-0 w-16 h-16 bg-white rounded-full -ml-8 -mb-8"})]}),(0,Cg.jsxs)("div",{className:"relative z-10 flex items-center justify-between",children:[(0,Cg.jsx)("div",{className:"bg-white/20 backdrop-blur-sm p-3 rounded-2xl",children:(f=i,{trophy:(0,Cg.jsx)(Gg,{className:"w-8 h-8"}),star:(0,Cg.jsx)(Cy,{className:"w-8 h-8"}),zap:(0,Cg.jsx)(wy,{className:"w-8 h-8"}),heart:(0,Cg.jsx)(Yy,{className:"w-8 h-8"}),target:(0,Cg.jsx)(rv,{className:"w-8 h-8"}),users:(0,Cg.jsx)(ky,{className:"w-8 h-8"}),trending:(0,Cg.jsx)(dv,{className:"w-8 h-8"}),award:(0,Cg.jsx)(fv,{className:"w-8 h-8"}),sparkles:(0,Cg.jsx)(cv,{className:"w-8 h-8"})}[f]||(0,Cg.jsx)(Gg,{className:"w-8 h-8"}))}),(0,Cg.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Cg.jsx)(Og,{className:"w-6 h-6 text-green-300"}),(0,Cg.jsx)("span",{className:"text-sm font-semibold",children:"UNLOCKED"})]})]})]}),(0,Cg.jsxs)("div",{className:"p-6",children:[(0,Cg.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-2 group-hover:text-blue-600 transition-colors duration-300",children:r}),(0,Cg.jsx)("p",{className:"text-gray-600 text-sm mb-4 leading-relaxed",children:s}),(0,Cg.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Cg.jsx)("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${h()}`,children:c.toUpperCase()}),(0,Cg.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Cg.jsx)(cv,{className:"w-4 h-4 text-yellow-500"}),(0,Cg.jsx)("span",{className:"text-xs font-semibold text-gray-500",children:u.toUpperCase()})]})]}),void 0!==o&&void 0!==l&&(0,Cg.jsxs)("div",{className:"mb-4",children:[(0,Cg.jsxs)("div",{className:"flex items-center justify-between text-sm text-gray-600 mb-2",children:[(0,Cg.jsx)("span",{children:"Progress"}),(0,Cg.jsxs)("span",{children:[o,"/",l]})]}),(0,Cg.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,Cg.jsx)("div",{className:"bg-gradient-to-r from-green-400 to-green-600 h-2 rounded-full transition-all duration-500",style:{width:o/l*100+"%"}})})]})]})]}),(0,Cg.jsx)("div",{className:`absolute inset-0 rounded-3xl bg-gradient-to-r ${d()} opacity-0 group-hover:opacity-10 transition-opacity duration-500 pointer-events-none`})]}):(0,Cg.jsxs)("div",{className:"group relative bg-gray-50 rounded-3xl shadow-md hover:shadow-lg transition-all duration-500 transform hover:-translate-y-1 overflow-hidden",children:[(0,Cg.jsxs)("div",{className:"relative bg-gray-50 rounded-3xl p-1",children:[(0,Cg.jsxs)("div",{className:"bg-gradient-to-r from-gray-400 to-gray-600 text-white p-6 rounded-t-3xl relative overflow-hidden",children:[(0,Cg.jsxs)("div",{className:"absolute inset-0 opacity-10",children:[(0,Cg.jsx)("div",{className:"absolute top-0 right-0 w-24 h-24 bg-white rounded-full -mr-12 -mt-12"}),(0,Cg.jsx)("div",{className:"absolute bottom-0 left-0 w-16 h-16 bg-white rounded-full -ml-8 -mb-8"})]}),(0,Cg.jsxs)("div",{className:"relative z-10 flex items-center justify-between",children:[(0,Cg.jsx)("div",{className:"bg-white/20 backdrop-blur-sm p-3 rounded-2xl",children:(0,Cg.jsx)(hy,{className:"w-8 h-8"})}),(0,Cg.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Cg.jsx)(hy,{className:"w-6 h-6 text-gray-300"}),(0,Cg.jsx)("span",{className:"text-sm font-semibold",children:"LOCKED"})]})]})]}),(0,Cg.jsxs)("div",{className:"p-6",children:[(0,Cg.jsx)("h3",{className:"text-xl font-bold text-gray-400 mb-2",children:r}),(0,Cg.jsx)("p",{className:"text-gray-500 text-sm mb-4 leading-relaxed",children:s}),(0,Cg.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Cg.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-semibold bg-gray-200 text-gray-500",children:c.toUpperCase()}),(0,Cg.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Cg.jsx)(cv,{className:"w-4 h-4 text-gray-400"}),(0,Cg.jsx)("span",{className:"text-xs font-semibold text-gray-400",children:u.toUpperCase()})]})]}),void 0!==o&&void 0!==l&&(0,Cg.jsxs)("div",{className:"mb-4",children:[(0,Cg.jsxs)("div",{className:"flex items-center justify-between text-sm text-gray-500 mb-2",children:[(0,Cg.jsx)("span",{children:"Progress"}),(0,Cg.jsxs)("span",{children:[o,"/",l]})]}),(0,Cg.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,Cg.jsx)("div",{className:"bg-gray-400 h-2 rounded-full transition-all duration-500",style:{width:o/l*100+"%"}})})]})]})]}),(0,Cg.jsx)("div",{className:"absolute inset-0 bg-black/5 rounded-3xl pointer-events-none"})]});var f},mv=()=>{const[e,t]=(0,s.useState)([]),[n,r]=(0,s.useState)([]),[i,a]=(0,s.useState)(!0),[o,l]=(0,s.useState)("all");(0,s.useEffect)(()=>{const e=[{id:1,title:"First Task Completed",description:"Complete your first task on the platform and start your journey to success.",icon:"trophy",isUnlocked:!0,progress:1,total:1,category:"tasks",rarity:"common"},{id:2,title:"Task Master",description:"Complete 50 tasks and become a recognized expert in your field.",icon:"star",isUnlocked:!1,progress:23,total:50,category:"tasks",rarity:"rare"},{id:3,title:"Earning Champion",description:"Earn 10,000 coins through completed tasks and become a top earner.",icon:"trending",isUnlocked:!1,progress:6500,total:1e4,category:"earnings",rarity:"epic"},{id:4,title:"Social Butterfly",description:"Connect with 100 other users and build a strong professional network.",icon:"users",isUnlocked:!0,progress:100,total:100,category:"social",rarity:"rare"},{id:5,title:"Skill Developer",description:"Master 10 different skills and become a versatile professional.",icon:"target",isUnlocked:!1,progress:7,total:10,category:"skills",rarity:"epic"},{id:6,title:"Streak Master",description:"Maintain a 30-day streak of daily activity on the platform.",icon:"zap",isUnlocked:!1,progress:15,total:30,category:"streak",rarity:"legendary"},{id:7,title:"Perfect Score",description:"Receive 5-star ratings on 20 consecutive tasks.",icon:"award",isUnlocked:!0,progress:20,total:20,category:"tasks",rarity:"epic"},{id:8,title:"Community Leader",description:"Help 50 other users by providing valuable feedback and guidance.",icon:"heart",isUnlocked:!1,progress:12,total:50,category:"social",rarity:"legendary"},{id:9,title:"Quick Learner",description:"Complete 5 tasks in a single day and demonstrate exceptional efficiency.",icon:"sparkles",isUnlocked:!0,progress:5,total:5,category:"tasks",rarity:"common"},{id:10,title:"High Roller",description:"Earn 50,000 coins and join the elite group of top earners.",icon:"trending",isUnlocked:!1,progress:12500,total:5e4,category:"earnings",rarity:"legendary"},{id:11,title:"Skill Specialist",description:"Achieve expert level in 5 different skill categories.",icon:"target",isUnlocked:!1,progress:3,total:5,category:"skills",rarity:"epic"},{id:12,title:"Consistency King",description:"Maintain a 100-day streak of daily platform activity.",icon:"zap",isUnlocked:!1,progress:45,total:100,category:"streak",rarity:"legendary"}];setTimeout(()=>{t(e),r(e),a(!1)},1e3)},[]);const c=t=>{if(l(t),"all"===t)r(e);else{const n=e.filter(e=>"unlocked"===t?e.isUnlocked:"locked"===t?!e.isUnlocked:e.category===t);r(n)}},u=(()=>{const t=e.length,n=e.filter(e=>e.isUnlocked).length;return{total:t,unlocked:n,locked:t-n,completionRate:Math.round(n/t*100)}})();return i?(0,Cg.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50 flex items-center justify-center",children:(0,Cg.jsxs)("div",{className:"text-center",children:[(0,Cg.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,Cg.jsx)("p",{className:"text-gray-600",children:"Loading achievements..."})]})}):(0,Cg.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50",children:(0,Cg.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[(0,Cg.jsxs)("div",{className:"text-center mb-12",children:[(0,Cg.jsxs)("div",{className:"flex items-center justify-center space-x-3 mb-4",children:[(0,Cg.jsx)(Gg,{className:"w-10 h-10 text-yellow-500"}),(0,Cg.jsx)("h1",{className:"text-4xl font-bold text-gray-900",children:"Achievements"})]}),(0,Cg.jsx)("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Track your progress and unlock amazing achievements as you grow on the platform."})]}),(0,Cg.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-12",children:[(0,Cg.jsxs)("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 shadow-lg",children:[(0,Cg.jsxs)("div",{className:"flex items-center space-x-3 mb-3",children:[(0,Cg.jsx)("div",{className:"bg-blue-100 p-2 rounded-lg",children:(0,Cg.jsx)(Gg,{className:"w-6 h-6 text-blue-600"})}),(0,Cg.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Total"})]}),(0,Cg.jsx)("p",{className:"text-3xl font-bold text-gray-900",children:u.total}),(0,Cg.jsx)("p",{className:"text-gray-600 text-sm",children:"Achievements"})]}),(0,Cg.jsxs)("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 shadow-lg",children:[(0,Cg.jsxs)("div",{className:"flex items-center space-x-3 mb-3",children:[(0,Cg.jsx)("div",{className:"bg-green-100 p-2 rounded-lg",children:(0,Cg.jsx)(Cy,{className:"w-6 h-6 text-green-600"})}),(0,Cg.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Unlocked"})]}),(0,Cg.jsx)("p",{className:"text-3xl font-bold text-gray-900",children:u.unlocked}),(0,Cg.jsx)("p",{className:"text-gray-600 text-sm",children:"Completed"})]}),(0,Cg.jsxs)("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 shadow-lg",children:[(0,Cg.jsxs)("div",{className:"flex items-center space-x-3 mb-3",children:[(0,Cg.jsx)("div",{className:"bg-gray-100 p-2 rounded-lg",children:(0,Cg.jsx)(rv,{className:"w-6 h-6 text-gray-600"})}),(0,Cg.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Locked"})]}),(0,Cg.jsx)("p",{className:"text-3xl font-bold text-gray-900",children:u.locked}),(0,Cg.jsx)("p",{className:"text-gray-600 text-sm",children:"Remaining"})]}),(0,Cg.jsxs)("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 shadow-lg",children:[(0,Cg.jsxs)("div",{className:"flex items-center space-x-3 mb-3",children:[(0,Cg.jsx)("div",{className:"bg-purple-100 p-2 rounded-lg",children:(0,Cg.jsx)(dv,{className:"w-6 h-6 text-purple-600"})}),(0,Cg.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Progress"})]}),(0,Cg.jsxs)("p",{className:"text-3xl font-bold text-gray-900",children:[u.completionRate,"%"]}),(0,Cg.jsx)("p",{className:"text-gray-600 text-sm",children:"Completion Rate"})]})]}),(0,Cg.jsxs)("div",{className:"mb-8",children:[(0,Cg.jsxs)("div",{className:"flex items-center space-x-4 mb-6",children:[(0,Cg.jsx)(av,{className:"w-5 h-5 text-gray-600"}),(0,Cg.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Filter Achievements"})]}),(0,Cg.jsx)("div",{className:"flex flex-wrap gap-3",children:[{key:"all",label:"All Achievements"},{key:"unlocked",label:"Unlocked"},{key:"locked",label:"Locked"},{key:"tasks",label:"Tasks"},{key:"social",label:"Social"},{key:"skills",label:"Skills"},{key:"earnings",label:"Earnings"},{key:"streak",label:"Streak"}].map(e=>(0,Cg.jsx)("button",{onClick:()=>c(e.key),className:"px-4 py-2 rounded-xl font-medium transition-all duration-200 "+(o===e.key?"bg-blue-600 text-white shadow-lg":"bg-white/80 text-gray-700 hover:bg-white hover:shadow-md"),children:e.label},e.key))})]}),n.length>0?(0,Cg.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:n.map(e=>(0,Cg.jsx)("div",{className:"relative",children:(0,Cg.jsx)(pv,{achievement:e})},e.id))}):(0,Cg.jsxs)("div",{className:"text-center py-12",children:[(0,Cg.jsx)("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,Cg.jsx)(Gg,{className:"w-8 h-8 text-gray-400"})}),(0,Cg.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No achievements found"}),(0,Cg.jsx)("p",{className:"text-gray-600 mb-4",children:"Try adjusting your filters or complete more tasks to unlock achievements"}),(0,Cg.jsx)("button",{onClick:()=>c("all"),className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors duration-200",children:"View All Achievements"})]}),(0,Cg.jsx)("div",{className:"mt-16",children:(0,Cg.jsxs)("div",{className:"bg-white/80 backdrop-blur-sm rounded-3xl p-8 shadow-lg max-w-4xl mx-auto",children:[(0,Cg.jsx)("h3",{className:"text-2xl font-bold text-gray-900 mb-4 text-center",children:"Your Achievement Journey"}),(0,Cg.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 text-left",children:[(0,Cg.jsxs)("div",{children:[(0,Cg.jsx)("h4",{className:"font-semibold text-gray-900 mb-2",children:"\ud83c\udfaf Current Focus"}),(0,Cg.jsx)("p",{className:"text-gray-600 text-sm",children:"Complete more tasks to unlock rare and epic achievements."})]}),(0,Cg.jsxs)("div",{children:[(0,Cg.jsx)("h4",{className:"font-semibold text-gray-900 mb-2",children:"\ud83c\udfc6 Next Milestone"}),(0,Cg.jsx)("p",{className:"text-gray-600 text-sm",children:'Aim for the "Task Master" achievement by completing 50 tasks.'})]}),(0,Cg.jsxs)("div",{children:[(0,Cg.jsx)("h4",{className:"font-semibold text-gray-900 mb-2",children:"\ud83d\udc8e Rare Finds"}),(0,Cg.jsx)("p",{className:"text-gray-600 text-sm",children:"Legendary achievements await those who demonstrate exceptional skills."})]}),(0,Cg.jsxs)("div",{children:[(0,Cg.jsx)("h4",{className:"font-semibold text-gray-900 mb-2",children:"\ud83d\ude80 Keep Going"}),(0,Cg.jsx)("p",{className:"text-gray-600 text-sm",children:"Consistency is key to unlocking the most prestigious achievements."})]})]})]})})]})})},gv=Dg("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]),yv=Dg("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]),vv=Dg("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),xv=()=>{const[e,t]=(0,s.useState)([]),[n,r]=(0,s.useState)([]),[i,a]=(0,s.useState)(!0),[o,l]=(0,s.useState)("all"),[c,u]=(0,s.useState)("");(0,s.useEffect)(()=>{const e=[{id:1,date:"2024-01-15",time:"14:30",type:"earned",amount:500,description:"Task completed: Website Design for Startup",category:"tasks",balance:2500},{id:2,date:"2024-01-14",time:"16:45",type:"spent",amount:200,description:"Marketplace purchase: Premium Template",category:"marketplace",balance:2e3},{id:3,date:"2024-01-13",time:"09:15",type:"earned",amount:800,description:"Task completed: Mobile App Development",category:"tasks",balance:2200},{id:4,date:"2024-01-12",time:"11:20",type:"earned",amount:300,description:"Task completed: Logo Design & Branding",category:"tasks",balance:1400},{id:5,date:"2024-01-11",time:"13:10",type:"spent",amount:150,description:"Marketplace purchase: Icon Pack",category:"marketplace",balance:1100},{id:6,date:"2024-01-10",time:"15:30",type:"earned",amount:1200,description:"Task completed: E-commerce Platform",category:"tasks",balance:1250},{id:7,date:"2024-01-09",time:"10:45",type:"earned",amount:400,description:"Task completed: Content Writing & SEO",category:"tasks",balance:50},{id:8,date:"2024-01-08",time:"14:20",type:"spent",amount:100,description:"Marketplace purchase: Stock Photo",category:"marketplace",balance:-350},{id:9,date:"2024-01-07",time:"16:00",type:"earned",amount:600,description:"Task completed: Data Analysis Project",category:"tasks",balance:-250},{id:10,date:"2024-01-06",time:"12:30",type:"earned",amount:350,description:"Task completed: Video Animation",category:"tasks",balance:-850}];setTimeout(()=>{t(e),r(e),a(!1)},1e3)},[]);const d=(t,n)=>{let s=e;"all"!==t&&(s=s.filter(e=>e.type===t)),n.trim()&&(s=s.filter(e=>e.description.toLowerCase().includes(n.toLowerCase())||e.category.toLowerCase().includes(n.toLowerCase()))),r(s)},h=(()=>{const t=e.filter(e=>"earned"===e.type).reduce((e,t)=>e+t.amount,0),n=e.filter(e=>"spent"===e.type).reduce((e,t)=>e+t.amount,0);return{totalEarned:t,totalSpent:n,currentBalance:e.length>0?e[0].balance:0,totalTransactions:e.length}})();return i?(0,Cg.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50 flex items-center justify-center",children:(0,Cg.jsxs)("div",{className:"text-center",children:[(0,Cg.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,Cg.jsx)("p",{className:"text-gray-600",children:"Loading transaction history..."})]})}):(0,Cg.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50",children:(0,Cg.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[(0,Cg.jsxs)("div",{className:"text-center mb-12",children:[(0,Cg.jsxs)("div",{className:"flex items-center justify-center space-x-3 mb-4",children:[(0,Cg.jsx)(Kg,{className:"w-10 h-10 text-yellow-500"}),(0,Cg.jsx)("h1",{className:"text-4xl font-bold text-gray-900",children:"Coins Ledger"})]}),(0,Cg.jsx)("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Track your coin transactions and monitor your earning history."})]}),(0,Cg.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-12",children:[(0,Cg.jsxs)("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 shadow-lg",children:[(0,Cg.jsxs)("div",{className:"flex items-center space-x-3 mb-3",children:[(0,Cg.jsx)("div",{className:"bg-green-100 p-2 rounded-lg",children:(0,Cg.jsx)(dv,{className:"w-6 h-6 text-green-600"})}),(0,Cg.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Total Earned"})]}),(0,Cg.jsx)("p",{className:"text-3xl font-bold text-green-600",children:h.totalEarned.toLocaleString()}),(0,Cg.jsx)("p",{className:"text-gray-600 text-sm",children:"Coins"})]}),(0,Cg.jsxs)("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 shadow-lg",children:[(0,Cg.jsxs)("div",{className:"flex items-center space-x-3 mb-3",children:[(0,Cg.jsx)("div",{className:"bg-red-100 p-2 rounded-lg",children:(0,Cg.jsx)(gv,{className:"w-6 h-6 text-red-600"})}),(0,Cg.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Total Spent"})]}),(0,Cg.jsx)("p",{className:"text-3xl font-bold text-red-600",children:h.totalSpent.toLocaleString()}),(0,Cg.jsx)("p",{className:"text-gray-600 text-sm",children:"Coins"})]}),(0,Cg.jsxs)("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 shadow-lg",children:[(0,Cg.jsxs)("div",{className:"flex items-center space-x-3 mb-3",children:[(0,Cg.jsx)("div",{className:"bg-blue-100 p-2 rounded-lg",children:(0,Cg.jsx)(Kg,{className:"w-6 h-6 text-blue-600"})}),(0,Cg.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Current Balance"})]}),(0,Cg.jsx)("p",{className:"text-3xl font-bold "+(h.currentBalance>=0?"text-blue-600":"text-red-600"),children:h.currentBalance.toLocaleString()}),(0,Cg.jsx)("p",{className:"text-gray-600 text-sm",children:"Coins"})]}),(0,Cg.jsxs)("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 shadow-lg",children:[(0,Cg.jsxs)("div",{className:"flex items-center space-x-3 mb-3",children:[(0,Cg.jsx)("div",{className:"bg-purple-100 p-2 rounded-lg",children:(0,Cg.jsx)(nv,{className:"w-6 h-6 text-purple-600"})}),(0,Cg.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Transactions"})]}),(0,Cg.jsx)("p",{className:"text-3xl font-bold text-gray-900",children:h.totalTransactions}),(0,Cg.jsx)("p",{className:"text-gray-600 text-sm",children:"Total"})]})]}),(0,Cg.jsx)("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 shadow-lg mb-8",children:(0,Cg.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0",children:[(0,Cg.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Cg.jsx)(av,{className:"w-5 h-5 text-gray-600"}),(0,Cg.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Filter Transactions"})]}),(0,Cg.jsxs)("div",{className:"flex flex-col sm:flex-row space-y-3 sm:space-y-0 sm:space-x-4",children:[(0,Cg.jsxs)("div",{className:"relative",children:[(0,Cg.jsx)($y,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,Cg.jsx)("input",{type:"text",placeholder:"Search transactions...",value:c,onChange:e=>{return t=e.target.value,u(t),void d(o,t);var t},className:"pl-10 pr-4 py-2 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,Cg.jsx)("div",{className:"flex space-x-2",children:[{key:"all",label:"All"},{key:"earned",label:"Earned"},{key:"spent",label:"Spent"}].map(e=>(0,Cg.jsx)("button",{onClick:()=>(e=>{l(e),d(e,c)})(e.key),className:"px-4 py-2 rounded-xl font-medium transition-all duration-200 "+(o===e.key?"bg-blue-600 text-white shadow-lg":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:e.label},e.key))})]})]})}),(0,Cg.jsx)("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-lg overflow-hidden",children:(0,Cg.jsx)("div",{className:"overflow-x-auto",children:(0,Cg.jsxs)("table",{className:"w-full",children:[(0,Cg.jsx)("thead",{className:"bg-gradient-to-r from-blue-500 to-purple-600 text-white",children:(0,Cg.jsxs)("tr",{children:[(0,Cg.jsx)("th",{className:"px-6 py-4 text-left font-semibold",children:"Date & Time"}),(0,Cg.jsx)("th",{className:"px-6 py-4 text-left font-semibold",children:"Description"}),(0,Cg.jsx)("th",{className:"px-6 py-4 text-left font-semibold",children:"Category"}),(0,Cg.jsx)("th",{className:"px-6 py-4 text-right font-semibold",children:"Amount"}),(0,Cg.jsx)("th",{className:"px-6 py-4 text-right font-semibold",children:"Balance"})]})}),(0,Cg.jsx)("tbody",{className:"divide-y divide-gray-200",children:n.length>0?n.map(e=>{return(0,Cg.jsxs)("tr",{className:"hover:bg-gray-50 transition-colors duration-200 cursor-pointer group",children:[(0,Cg.jsx)("td",{className:"px-6 py-4",children:(0,Cg.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Cg.jsx)(nv,{className:"w-4 h-4 text-gray-400"}),(0,Cg.jsxs)("div",{children:[(0,Cg.jsx)("div",{className:"font-medium text-gray-900",children:(t=e.date,new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}))}),(0,Cg.jsx)("div",{className:"text-sm text-gray-500",children:e.time})]})]})}),(0,Cg.jsx)("td",{className:"px-6 py-4",children:(0,Cg.jsx)("div",{className:"max-w-xs",children:(0,Cg.jsx)("div",{className:"font-medium text-gray-900 truncate",children:e.description})})}),(0,Cg.jsx)("td",{className:"px-6 py-4",children:(0,Cg.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-semibold "+("tasks"===e.category?"bg-blue-100 text-blue-600":"bg-green-100 text-green-600"),children:e.category.toUpperCase()})}),(0,Cg.jsx)("td",{className:"px-6 py-4 text-right",children:(0,Cg.jsxs)("div",{className:"flex items-center justify-end space-x-2",children:["earned"===e.type?(0,Cg.jsx)($g,{className:"w-4 h-4 text-green-500"}):(0,Cg.jsx)(yv,{className:"w-4 h-4 text-red-500"}),(0,Cg.jsxs)("span",{className:"font-bold "+("earned"===e.type?"text-green-600":"text-red-600"),children:["earned"===e.type?"+":"-",e.amount.toLocaleString()]})]})}),(0,Cg.jsx)("td",{className:"px-6 py-4 text-right",children:(0,Cg.jsx)("span",{className:"font-semibold "+(e.balance>=0?"text-blue-600":"text-red-600"),children:e.balance.toLocaleString()})})]},e.id);var t}):(0,Cg.jsx)("tr",{children:(0,Cg.jsx)("td",{colSpan:"5",className:"px-6 py-12 text-center",children:(0,Cg.jsxs)("div",{className:"flex flex-col items-center space-y-4",children:[(0,Cg.jsx)(Kg,{className:"w-12 h-12 text-gray-400"}),(0,Cg.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"No transactions found"}),(0,Cg.jsx)("p",{className:"text-gray-600",children:"Try adjusting your filters or complete some tasks to see your transaction history"}),(0,Cg.jsx)("button",{onClick:()=>{l("all"),u(""),r(e)},className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors duration-200",children:"View All Transactions"})]})})})})]})})}),(0,Cg.jsx)("div",{className:"mt-8 text-center",children:(0,Cg.jsxs)("button",{className:"bg-white/80 backdrop-blur-sm hover:bg-white text-gray-700 px-6 py-3 rounded-xl font-medium transition-all duration-200 shadow-lg hover:shadow-xl flex items-center space-x-2 mx-auto",children:[(0,Cg.jsx)(vv,{className:"w-5 h-5"}),(0,Cg.jsx)("span",{children:"Export Transaction History"})]})})]})})},bv=Dg("Package",[["path",{d:"M16.5 9.4 7.55 4.24",key:"10qotr"}],["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]]),wv=()=>{const[e,t]=(0,s.useState)([]),[n,r]=(0,s.useState)([]),[i,a]=(0,s.useState)(!0),[o,l]=(0,s.useState)("all"),[c,u]=(0,s.useState)("");(0,s.useEffect)(()=>{const e=[{id:1,title:"Premium UI Kit",description:"Complete design system with 100+ components, icons, and templates for modern web applications.",image:"https://images.unsplash.com/photo-1561070791-2526d30994b5?w=400&h=300&fit=crop",price:299,purchaseDate:"2024-01-15",category:"design",rating:4.8,downloads:156,status:"active"},{id:2,title:"Mobile App Template",description:"React Native template with authentication, navigation, and payment integration ready for customization.",image:"https://images.unsplash.com/photo-1512941937669-90a1b58e7e9c?w=400&h=300&fit=crop",price:199,purchaseDate:"2024-01-12",category:"development",rating:4.9,downloads:89,status:"active"},{id:3,title:"Icon Pack Pro",description:"Professional icon set with 500+ scalable vector icons in multiple formats and styles.",image:"https://images.unsplash.com/photo-1581291518633-83b4ebd1d6e3?w=400&h=300&fit=crop",price:99,purchaseDate:"2024-01-10",category:"design",rating:4.7,downloads:234,status:"active"},{id:4,title:"E-commerce Starter",description:"Complete e-commerce solution with shopping cart, payment processing, and admin dashboard.",image:"https://images.unsplash.com/photo-1556742049-0cfed4f6a45d?w=400&h=300&fit=crop",price:399,purchaseDate:"2024-01-08",category:"development",rating:4.6,downloads:67,status:"active"},{id:5,title:"Stock Photo Bundle",description:"High-quality stock photos for business and marketing projects with commercial license.",image:"https://images.unsplash.com/photo-1558655146-d09347e92766?w=400&h=300&fit=crop",price:149,purchaseDate:"2024-01-05",category:"media",rating:4.5,downloads:312,status:"active"},{id:6,title:"WordPress Theme",description:"Responsive WordPress theme with customizer options, SEO optimization, and speed optimization.",image:"https://images.unsplash.com/photo-1460925895917-afdab827c52f?w=400&h=300&fit=crop",price:179,purchaseDate:"2024-01-03",category:"development",rating:4.4,downloads:123,status:"active"},{id:7,title:"Animation Pack",description:"Lottie animations and micro-interactions for modern web and mobile applications.",image:"https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=400&h=300&fit=crop",price:129,purchaseDate:"2024-01-01",category:"design",rating:4.8,downloads:78,status:"active"},{id:8,title:"API Documentation",description:"Comprehensive API documentation template with interactive examples and testing tools.",image:"https://images.unsplash.com/photo-1555066931-4365d14bab8c?w=400&h=300&fit=crop",price:89,purchaseDate:"2023-12-28",category:"development",rating:4.3,downloads:45,status:"active"}];setTimeout(()=>{t(e),r(e),a(!1)},1e3)},[]);const d=(t,n)=>{let s=e;"all"!==t&&(s=s.filter(e=>e.category===t)),n.trim()&&(s=s.filter(e=>e.title.toLowerCase().includes(n.toLowerCase())||e.description.toLowerCase().includes(n.toLowerCase()))),r(s)},h=e=>{switch(e){case"design":return"bg-purple-100 text-purple-600";case"development":return"bg-blue-100 text-blue-600";case"media":return"bg-green-100 text-green-600";default:return"bg-gray-100 text-gray-600"}},f=(()=>{const t=e.length,n=e.reduce((e,t)=>e+t.price,0),r=e.reduce((e,t)=>e+t.rating,0)/e.length,s=e.reduce((e,t)=>e+t.downloads,0);return{totalPurchases:t,totalSpent:n,averageRating:r,totalDownloads:s}})();return i?(0,Cg.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50 flex items-center justify-center",children:(0,Cg.jsxs)("div",{className:"text-center",children:[(0,Cg.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,Cg.jsx)("p",{className:"text-gray-600",children:"Loading your purchases..."})]})}):(0,Cg.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50",children:(0,Cg.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[(0,Cg.jsxs)("div",{className:"text-center mb-12",children:[(0,Cg.jsxs)("div",{className:"flex items-center justify-center space-x-3 mb-4",children:[(0,Cg.jsx)(Jg,{className:"w-10 h-10 text-blue-500"}),(0,Cg.jsx)("h1",{className:"text-4xl font-bold text-gray-900",children:"My Purchases"})]}),(0,Cg.jsx)("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Access and manage all your purchased products and digital assets."})]}),(0,Cg.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-12",children:[(0,Cg.jsxs)("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 shadow-lg",children:[(0,Cg.jsxs)("div",{className:"flex items-center space-x-3 mb-3",children:[(0,Cg.jsx)("div",{className:"bg-blue-100 p-2 rounded-lg",children:(0,Cg.jsx)(bv,{className:"w-6 h-6 text-blue-600"})}),(0,Cg.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Total Purchases"})]}),(0,Cg.jsx)("p",{className:"text-3xl font-bold text-gray-900",children:f.totalPurchases}),(0,Cg.jsx)("p",{className:"text-gray-600 text-sm",children:"Products"})]}),(0,Cg.jsxs)("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 shadow-lg",children:[(0,Cg.jsxs)("div",{className:"flex items-center space-x-3 mb-3",children:[(0,Cg.jsx)("div",{className:"bg-green-100 p-2 rounded-lg",children:(0,Cg.jsx)(Jg,{className:"w-6 h-6 text-green-600"})}),(0,Cg.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Total Spent"})]}),(0,Cg.jsxs)("p",{className:"text-3xl font-bold text-green-600",children:["\u20b9",f.totalSpent.toLocaleString()]}),(0,Cg.jsx)("p",{className:"text-gray-600 text-sm",children:"Coins"})]}),(0,Cg.jsxs)("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 shadow-lg",children:[(0,Cg.jsxs)("div",{className:"flex items-center space-x-3 mb-3",children:[(0,Cg.jsx)("div",{className:"bg-yellow-100 p-2 rounded-lg",children:(0,Cg.jsx)(Cy,{className:"w-6 h-6 text-yellow-600"})}),(0,Cg.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Avg Rating"})]}),(0,Cg.jsx)("p",{className:"text-3xl font-bold text-yellow-600",children:f.averageRating.toFixed(1)}),(0,Cg.jsx)("p",{className:"text-gray-600 text-sm",children:"Stars"})]}),(0,Cg.jsxs)("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 shadow-lg",children:[(0,Cg.jsxs)("div",{className:"flex items-center space-x-3 mb-3",children:[(0,Cg.jsx)("div",{className:"bg-purple-100 p-2 rounded-lg",children:(0,Cg.jsx)(vv,{className:"w-6 h-6 text-purple-600"})}),(0,Cg.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Downloads"})]}),(0,Cg.jsx)("p",{className:"text-3xl font-bold text-gray-900",children:f.totalDownloads}),(0,Cg.jsx)("p",{className:"text-gray-600 text-sm",children:"Total"})]})]}),(0,Cg.jsx)("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 shadow-lg mb-8",children:(0,Cg.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0",children:[(0,Cg.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Cg.jsx)(av,{className:"w-5 h-5 text-gray-600"}),(0,Cg.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Filter Purchases"})]}),(0,Cg.jsxs)("div",{className:"flex flex-col sm:flex-row space-y-3 sm:space-y-0 sm:space-x-4",children:[(0,Cg.jsxs)("div",{className:"relative",children:[(0,Cg.jsx)($y,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,Cg.jsx)("input",{type:"text",placeholder:"Search purchases...",value:c,onChange:e=>{return t=e.target.value,u(t),void d(o,t);var t},className:"pl-10 pr-4 py-2 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,Cg.jsx)("div",{className:"flex space-x-2",children:[{key:"all",label:"All"},{key:"design",label:"Design"},{key:"development",label:"Development"},{key:"media",label:"Media"}].map(e=>(0,Cg.jsx)("button",{onClick:()=>(e=>{l(e),d(e,c)})(e.key),className:"px-4 py-2 rounded-xl font-medium transition-all duration-200 "+(o===e.key?"bg-blue-600 text-white shadow-lg":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:e.label},e.key))})]})]})}),n.length>0?(0,Cg.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:n.map(e=>{return(0,Cg.jsxs)("div",{className:"group relative bg-white rounded-3xl shadow-lg hover:shadow-2xl transition-all duration-500 transform hover:-translate-y-2 overflow-hidden",children:[(0,Cg.jsxs)("div",{className:"relative overflow-hidden",children:[(0,Cg.jsx)("img",{src:e.image,alt:e.title,className:"w-full h-48 object-cover group-hover:scale-105 transition-transform duration-500"}),(0,Cg.jsx)("div",{className:"absolute top-4 left-4",children:(0,Cg.jsx)("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${h(e.category)}`,children:e.category.toUpperCase()})}),(0,Cg.jsx)("div",{className:"absolute top-4 right-4 bg-white/90 backdrop-blur-sm rounded-full px-3 py-1 shadow-lg",children:(0,Cg.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Cg.jsx)(Cy,{className:"w-4 h-4 text-yellow-500 fill-current"}),(0,Cg.jsx)("span",{className:"text-sm font-semibold text-gray-900",children:e.rating})]})})]}),(0,Cg.jsxs)("div",{className:"p-6",children:[(0,Cg.jsx)("h3",{className:"text-lg font-bold text-gray-900 mb-2 group-hover:text-blue-600 transition-colors duration-300 line-clamp-2",children:e.title}),(0,Cg.jsx)("p",{className:"text-gray-600 text-sm mb-4 leading-relaxed line-clamp-3",children:e.description}),(0,Cg.jsxs)("div",{className:"flex items-center space-x-2 mb-4",children:[(0,Cg.jsx)(nv,{className:"w-4 h-4 text-gray-400"}),(0,Cg.jsxs)("span",{className:"text-sm text-gray-500",children:["Purchased ",(t=e.purchaseDate,new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}))]})]}),(0,Cg.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Cg.jsx)("div",{className:"flex items-center space-x-2",children:(0,Cg.jsxs)("span",{className:"text-lg font-bold text-gray-900",children:["\u20b9",e.price]})}),(0,Cg.jsxs)("div",{className:"flex items-center space-x-1 text-gray-500",children:[(0,Cg.jsx)(vv,{className:"w-4 h-4"}),(0,Cg.jsx)("span",{className:"text-sm",children:e.downloads})]})]}),(0,Cg.jsxs)("div",{className:"flex space-x-2 mt-4",children:[(0,Cg.jsxs)("button",{className:"flex-1 bg-blue-600 text-white py-2 px-4 rounded-xl font-medium hover:bg-blue-700 transition-colors duration-200 flex items-center justify-center space-x-2",children:[(0,Cg.jsx)(vv,{className:"w-4 h-4"}),(0,Cg.jsx)("span",{children:"Download"})]}),(0,Cg.jsx)("button",{className:"bg-gray-100 text-gray-700 py-2 px-4 rounded-xl font-medium hover:bg-gray-200 transition-colors duration-200",children:(0,Cg.jsx)(py,{className:"w-4 h-4"})})]})]})]},e.id);var t})}):(0,Cg.jsxs)("div",{className:"text-center py-12",children:[(0,Cg.jsx)("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,Cg.jsx)(Jg,{className:"w-8 h-8 text-gray-400"})}),(0,Cg.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No purchases found"}),(0,Cg.jsx)("p",{className:"text-gray-600 mb-4",children:"Try adjusting your filters or visit the marketplace to make your first purchase"}),(0,Cg.jsx)("button",{onClick:()=>{l("all"),u(""),r(e)},className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors duration-200",children:"View All Purchases"})]})]})})};const Nv=function(){return(0,Cg.jsx)(Ag,{children:(0,Cg.jsx)(zg,{children:(0,Cg.jsx)(Ee,{children:(0,Cg.jsxs)(ve,{children:[(0,Cg.jsx)(ge,{path:"/login",element:(0,Cg.jsx)(uy,{requireAuth:!1,children:(0,Cg.jsx)(gy,{})})}),(0,Cg.jsx)(ge,{path:"/register",element:(0,Cg.jsx)(uy,{requireAuth:!1,children:(0,Cg.jsx)(yy,{})})}),(0,Cg.jsx)(ge,{path:"/forgot-password",element:(0,Cg.jsx)(uy,{requireAuth:!1,children:(0,Cg.jsx)(xy,{})})}),(0,Cg.jsxs)(ge,{path:"/",element:(0,Cg.jsx)(ly,{}),children:[(0,Cg.jsx)(ge,{index:!0,element:(0,Cg.jsxs)(Cg.Fragment,{children:[(0,Cg.jsx)(by,{}),(0,Cg.jsx)(Sy,{}),(0,Cg.jsx)(jy,{})]})}),(0,Cg.jsx)(ge,{path:"tasks",element:(0,Cg.jsx)(uy,{children:(0,Cg.jsx)(Wy,{})})}),(0,Cg.jsx)(ge,{path:"post-task",element:(0,Cg.jsx)(uy,{children:(0,Cg.jsx)(Jy,{})})}),(0,Cg.jsx)(ge,{path:"profile",element:(0,Cg.jsx)(uy,{children:(0,Cg.jsx)(sv,{})})}),(0,Cg.jsx)(ge,{path:"marketplace",element:(0,Cg.jsx)(uy,{children:(0,Cg.jsx)(lv,{})})}),(0,Cg.jsx)(ge,{path:"buy-coins",element:(0,Cg.jsx)(uy,{children:(0,Cg.jsx)(hv,{})})}),(0,Cg.jsx)(ge,{path:"achievements",element:(0,Cg.jsx)(uy,{children:(0,Cg.jsx)(mv,{})})}),(0,Cg.jsx)(ge,{path:"ledger",element:(0,Cg.jsx)(uy,{children:(0,Cg.jsx)(xv,{})})}),(0,Cg.jsx)(ge,{path:"purchases",element:(0,Cg.jsx)(uy,{children:(0,Cg.jsx)(wv,{})})})]})]})})})})};a.createRoot(document.getElementById("root")).render((0,Cg.jsx)(s.StrictMode,{children:(0,Cg.jsx)(Nv,{})}))})();
//# sourceMappingURL=main.88eeab2f.js.map